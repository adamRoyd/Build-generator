/*!
 * VERSION: 0.1.11
 * DATE: 2015-03-13
 * UPDATES AND DOCS AT: http://greensock.com/jquery-gsap-plugin/
 *
 * Requires TweenLite version 1.8.0 or higher and CSSPlugin.
 *
 * @license Copyright (c) 2013-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */
(function(t){"use strict";var e,i,s,r=t.fn.animate,n=t.fn.stop,a=!0,o=function(t){var e,i={};for(e in t)i[e]=t[e];return i},h={overwrite:1,delay:1,useFrames:1,runBackwards:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,autoCSS:1},l=",scrollTop,scrollLeft,show,hide,toggle,",_=l,u=function(t,e){for(var i in h)h[i]&&void 0!==t[i]&&(e[i]=t[i])},c=function(t){return function(e){return t.getRatio(e)}},f={},m=function(){var r,n,a,o=window.GreenSockGlobals||window;if(e=o.TweenMax||o.TweenLite,e&&(r=(e.version+".0.0").split("."),n=!(Number(r[0])>0&&Number(r[1])>7),o=o.com.greensock,i=o.plugins.CSSPlugin,f=o.easing.Ease.map||{}),!e||!i||n)return e=null,!s&&window.console&&(window.console.log("The jquery.gsap.js plugin requires the TweenMax (or at least TweenLite and CSSPlugin) JavaScript file(s)."+(n?" Version "+r.join(".")+" is too old.":"")),s=!0),void 0;if(t.easing){for(a in f)t.easing[a]=c(f[a]);m=!1}};t.fn.animate=function(s,n,h,l){if(s=s||{},m&&(m(),!e||!i))return r.call(this,s,n,h,l);if(!a||s.skipGSAP===!0||"object"==typeof n&&"function"==typeof n.step)return r.call(this,s,n,h,l);var c,p,d,g,v=t.speed(n,h,l),y={ease:f[v.easing]||(v.easing===!1?f.linear:f.swing)},T=this,w="object"==typeof n?n.specialEasing:null;for(p in s){if(c=s[p],c instanceof Array&&f[c[1]]&&(w=w||{},w[p]=c[1],c=c[0]),"show"===c||"hide"===c||"toggle"===c||-1!==_.indexOf(p)&&-1!==_.indexOf(","+p+","))return r.call(this,s,n,h,l);y[-1===p.indexOf("-")?p:t.camelCase(p)]=c}if(w){y=o(y),g=[];for(p in w)c=g[g.length]={},u(y,c),c.ease=f[w[p]]||y.ease,-1!==p.indexOf("-")&&(p=t.camelCase(p)),c[p]=y[p],delete y[p];0===g.length&&(g=null)}return d=function(i){var s,r=o(y);if(g)for(s=g.length;--s>-1;)e.to(this,t.fx.off?0:v.duration/1e3,g[s]);r.onComplete=function(){i?i():v.old&&t(this).each(v.old)},e.to(this,t.fx.off?0:v.duration/1e3,r)},v.queue!==!1?(T.queue(v.queue,d),"function"==typeof v.old&&T.queue(v.queue,function(t){v.old.call(this),t()})):d.call(T),T},t.fn.stop=function(t,i){if(n.call(this,t,i),e){if(i)for(var s,r=e.getTweensOf(this),a=r.length;--a>-1;)s=r[a].totalTime()/r[a].totalDuration(),s>0&&1>s&&r[a].seek(r[a].totalDuration());e.killTweensOf(this)}return this},t.gsap={enabled:function(t){a=t},version:"0.1.11",legacyProps:function(t){_=l+t+","}}})(jQuery);
/*!
 * VERSION: 1.17.0
 * DATE: 2015-05-27
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var s=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},r=function(t,e,s){i.call(this,t,e,s),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=r.prototype.render},n=1e-10,a=i._internals,o=a.isSelector,h=a.isArray,l=r.prototype=i.to({},.1,{}),_=[];r.version="1.17.0",l.constructor=r,l.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=i.killTweensOf,r.getTweensOf=i.getTweensOf,r.lagSmoothing=i.lagSmoothing,r.ticker=i.ticker,r.render=i.render,l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},l.updateTo=function(t,e){var s,r=this.ratio,n=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(s in t)this.vars[s]=t[s];if(this._initted||n)if(e)this._initted=!1,n&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._time;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._time>0||n){this._initted=!1,this._init();for(var o,h=1/(1-r),l=this._firstPT;l;)o=l.s+l.c,l.c*=h,l.s=o-l.c,l=l._next}return this},l.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var s,r,o,h,l,_,u,c,f=this._dirty?this.totalDuration():this._totalDuration,p=this._time,m=this._totalTime,d=this._cycle,g=this._duration,v=this._rawPrevTime;if(t>=f?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(s=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>v||v===n)&&v!==t&&(i=!0,v>n&&(r="onReverseComplete")),this._rawPrevTime=c=!e||t||v===t?t:n)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===g&&v>0)&&(r="onReverseComplete",s=this._reversed),0>t&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||i)&&(v>=0&&(i=!0),this._rawPrevTime=c=!e||t||v===t?t:n)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(h=g+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=g-this._time),this._time>g?this._time=g:0>this._time&&(this._time=0)),this._easeType?(l=this._time/g,_=this._easeType,u=this._easePower,(1===_||3===_&&l>=.5)&&(l=1-l),3===_&&(l*=2),1===u?l*=l:2===u?l*=l*l:3===u?l*=l*l*l:4===u&&(l*=l*l*l*l),this.ratio=1===_?1-l:2===_?l:.5>this._time/g?l/2:1-l/2):this.ratio=this._ease.getRatio(this._time/g)),p===this._time&&!i&&d===this._cycle)return m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")),void 0;if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=m,this._rawPrevTime=v,this._cycle=d,a.lazyTweens.push(this),this._lazy=[t,e],void 0;this._time&&!s?this.ratio=this._ease.getRatio(this._time/g):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===g)&&(e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==m||s)&&this._callback("onUpdate")),this._cycle!==d&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===g&&this._rawPrevTime===n&&c!==n&&(this._rawPrevTime=0))},r.to=function(t,e,i){return new r(t,e,i)},r.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new r(t,e,i)},r.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new r(t,e,s)},r.staggerTo=r.allTo=function(t,e,n,a,l,u,c){a=a||0;var f,p,m,d,g=n.delay||0,v=[],y=function(){n.onComplete&&n.onComplete.apply(n.onCompleteScope||this,arguments),l.apply(c||n.callbackScope||this,u||_)};for(h(t)||("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=s(t))),t=t||[],0>a&&(t=s(t),t.reverse(),a*=-1),f=t.length-1,m=0;f>=m;m++){p={};for(d in n)p[d]=n[d];p.delay=g,m===f&&l&&(p.onComplete=y),v[m]=new r(t[m],e,p),g+=a}return v},r.staggerFrom=r.allFrom=function(t,e,i,s,n,a,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,r.staggerTo(t,e,i,s,n,a,o)},r.staggerFromTo=r.allFromTo=function(t,e,i,s,n,a,o,h){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,r.staggerTo(t,e,s,n,a,o,h)},r.delayedCall=function(t,e,i,s,n){return new r(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:s,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:n,overwrite:0})},r.set=function(t,e){return new r(t,0,e)},r.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var u=function(t,e){for(var s=[],r=0,n=t._first;n;)n instanceof i?s[r++]=n:(e&&(s[r++]=n),s=s.concat(u(n,e)),r=s.length),n=n._next;return s},c=r.getAllTweens=function(e){return u(t._rootTimeline,e).concat(u(t._rootFramesTimeline,e))};r.killAll=function(t,i,s,r){null==i&&(i=!0),null==s&&(s=!0);var n,a,o,h=c(0!=r),l=h.length,_=i&&s&&r;for(o=0;l>o;o++)a=h[o],(_||a instanceof e||(n=a.target===a.vars.onComplete)&&s||i&&!n)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},r.killChildTweensOf=function(t,e){if(null!=t){var n,l,_,u,c,f=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=s(t)),h(t))for(u=t.length;--u>-1;)r.killChildTweensOf(t[u],e);else{n=[];for(_ in f)for(l=f[_].target.parentNode;l;)l===t&&(n=n.concat(f[_].tweens)),l=l.parentNode;for(c=n.length,u=0;c>u;u++)e&&n[u].totalTime(n[u].totalDuration()),n[u]._enabled(!1,!1)}}};var f=function(t,i,s,r){i=i!==!1,s=s!==!1,r=r!==!1;for(var n,a,o=c(r),h=i&&s&&r,l=o.length;--l>-1;)a=o[l],(h||a instanceof e||(n=a.target===a.vars.onComplete)&&s||i&&!n)&&a.paused(t)};return r.pauseAll=function(t,e,i){f(!0,t,e,i)},r.resumeAll=function(t,e,i){f(!1,t,e,i)},r.globalTimeScale=function(e){var s=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||n,s._startTime=r-(r-s._startTime)*s._timeScale/e,s=t._rootFramesTimeline,r=i.ticker.frame,s._startTime=r-(r-s._startTime)*s._timeScale/e,s._timeScale=t._rootTimeline._timeScale=e,e):s._timeScale},l.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},l.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},r},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var s=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,s,r=this.vars;for(s in r)i=r[s],h(i)&&-1!==i.join("").indexOf("{self}")&&(r[s]=this._swapSelfInParams(i));h(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,n=i._internals,a=s._internals={},o=n.isSelector,h=n.isArray,l=n.lazyTweens,_=n.lazyRender,u=[],c=_gsScope._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},p=a.pauseCallback=function(t,e,i,s){var n,a=t._timeline,o=a._totalTime,h=t._startTime,l=0>t._rawPrevTime||0===t._rawPrevTime&&a._reversed,_=l?0:r,c=l?r:0;if(e||!this._forcingPlayhead){for(a.pause(h),n=t._prev;n&&n._startTime===h;)n._rawPrevTime=c,n=n._prev;for(n=t._next;n&&n._startTime===h;)n._rawPrevTime=_,n=n._next;e&&e.apply(s||a.vars.callbackScope||a,i||u),(this._forcingPlayhead||!a._paused)&&a.seek(o)}},m=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},d=s.prototype=new e;return s.version="1.17.0",d.constructor=s,d.kill()._gc=d._forcingPlayhead=!1,d.to=function(t,e,s,r){var n=s.repeat&&c.TweenMax||i;return e?this.add(new n(t,e,s),r):this.set(t,s,r)},d.from=function(t,e,s,r){return this.add((s.repeat&&c.TweenMax||i).from(t,e,s),r)},d.fromTo=function(t,e,s,r,n){var a=r.repeat&&c.TweenMax||i;return e?this.add(a.fromTo(t,e,s,r),n):this.set(t,r,n)},d.staggerTo=function(t,e,r,n,a,h,l,_){var u,c=new s({onComplete:h,onCompleteParams:l,callbackScope:_,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],o(t)&&(t=m(t)),n=n||0,0>n&&(t=m(t),t.reverse(),n*=-1),u=0;t.length>u;u++)r.startAt&&(r.startAt=f(r.startAt)),c.to(t[u],e,f(r),u*n);return this.add(c,a)},d.staggerFrom=function(t,e,i,s,r,n,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,s,r,n,a,o)},d.staggerFromTo=function(t,e,i,s,r,n,a,o,h){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,s,r,n,a,o,h)},d.call=function(t,e,s,r){return this.add(i.delayedCall(0,t,e,s),r)},d.set=function(t,e,s){return s=this._parseTimeOrLabel(s,0,!0),null==e.immediateRender&&(e.immediateRender=s===this._time&&!this._paused),this.add(new i(t,0,e),s)},s.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,n,a=new s(t),o=a._timeline;for(null==e&&(e=!0),o._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=o._time,r=o._first;r;)n=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=n;return o.add(a,0),a},d.add=function(r,n,a,o){var l,_,u,c,f,p;if("number"!=typeof n&&(n=this._parseTimeOrLabel(n,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&h(r)){for(a=a||"normal",o=o||0,l=n,_=r.length,u=0;_>u;u++)h(c=r[u])&&(c=new s({tweens:c})),this.add(c,l),"string"!=typeof c&&"function"!=typeof c&&("sequence"===a?l=c._startTime+c.totalDuration()/c._timeScale:"start"===a&&(c._startTime-=c.delay())),l+=o;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,n);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,n),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=this,p=f.rawTime()>r._startTime;f._timeline;)p&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},d.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&h(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},d._remove=function(t,i){e.prototype._remove.call(this,t,i);var s=this._last;return s?this._time>s._startTime+s._totalDuration/s._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},d.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},d.insert=d.insertMultiple=function(t,e,i,s){return this.add(t,e||0,i,s)},d.appendMultiple=function(t,e,i,s){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,s)},d.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},d.addPause=function(t,e,s,r){var n=i.delayedCall(0,p,["{self}",e,s,r],this);return n.data="isPause",this.add(n,t)},d.removeLabel=function(t){return delete this._labels[t],this},d.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},d._parseTimeOrLabel=function(e,i,s,r){var n;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&h(r)))for(n=r.length;--n>-1;)r[n]instanceof t&&r[n].timeline===this&&this.remove(r[n]);if("string"==typeof i)return this._parseTimeOrLabel(i,s&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,s);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(n=e.indexOf("="),-1===n)return null==this._labels[e]?s?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(n-1)+"1",10)*Number(e.substr(n+1)),e=n>1?this._parseTimeOrLabel(e.substr(0,n-1),0,s):this.duration()}return Number(e)+i},d.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},d.stop=function(){return this.paused(!0)},d.gotoAndPlay=function(t,e){return this.play(t,e)},d.gotoAndStop=function(t,e){return this.pause(t,e)},d.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,n,a,o,h,u=this._dirty?this.totalDuration():this._totalDuration,c=this._time,f=this._startTime,p=this._timeScale,m=this._paused;if(t>=u)this._totalTime=this._time=u,this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(h=!0,this._rawPrevTime>r&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=u+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==c||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(o="onReverseComplete",n=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=n=!0,o="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&n)for(s=this._first;s&&0===s._startTime;)s._duration||(n=!1),s=s._next;t=0,this._initted||(h=!0)}else this._totalTime=this._time=this._rawPrevTime=t;if(this._time!==c&&this._first||i||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==c&&t>0&&(this._active=!0),0===c&&this.vars.onStart&&0!==this._time&&(e||this._callback("onStart")),this._time>=c)for(s=this._first;s&&(a=s._next,!this._paused||m);)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;else for(s=this._last;s&&(a=s._prev,!this._paused||m);)(s._active||c>=s._startTime&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;this._onUpdate&&(e||(l.length&&_(),this._callback("onUpdate"))),o&&(this._gc||(f===this._startTime||p!==this._timeScale)&&(0===this._time||u>=this.totalDuration())&&(n&&(l.length&&_(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o)))}},d._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof s&&t._hasPausedChild())return!0;t=t._next}return!1},d.getChildren=function(t,e,s,r){r=r||-9999999999;for(var n=[],a=this._first,o=0;a;)r>a._startTime||(a instanceof i?e!==!1&&(n[o++]=a):(s!==!1&&(n[o++]=a),t!==!1&&(n=n.concat(a.getChildren(!0,e,s)),o=n.length))),a=a._next;return n},d.getTweensOf=function(t,e){var s,r,n=this._gc,a=[],o=0;for(n&&this._enabled(!0,!0),s=i.getTweensOf(t),r=s.length;--r>-1;)(s[r].timeline===this||e&&this._contains(s[r]))&&(a[o++]=s[r]);return n&&this._enabled(!1,!0),a},d.recent=function(){return this._recent},d._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},d.shiftChildren=function(t,e,i){i=i||0;for(var s,r=this._first,n=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(s in n)n[s]>=i&&(n[s]+=t);return this._uncache(!0)},d._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),s=i.length,r=!1;--s>-1;)i[s]._kill(t,e)&&(r=!0);return r},d.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},d.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},d._enabled=function(t,i){if(t===this._gc)for(var s=this._first;s;)s._enabled(t,!0),s=s._next;return e.prototype._enabled.call(this,t,i)},d.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},d.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},d.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,s=0,r=this._last,n=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>n&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):n=r._startTime,0>r._startTime&&!r._paused&&(s-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),n=0),i=r._startTime+r._totalDuration/r._timeScale,i>s&&(s=i),r=e;this._duration=this._totalDuration=s,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},d.paused=function(e){if(!e)for(var i=this._first,s=this._time;i;)i._startTime===s&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},d.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},d.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},s},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var s=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,n=e._internals,a=n.lazyTweens,o=n.lazyRender,h=new i(null,null,1,0),l=s.prototype=new t;return l.constructor=s,l.kill()._gc=!1,s.version="1.17.0",l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},l.addCallback=function(t,i,s,r){return this.add(e.delayedCall(0,t,s,r),i)},l.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),s=i.length,r=this._parseTimeOrLabel(e);--s>-1;)i[s]._startTime===r&&i[s]._enabled(!1,!1);return this},l.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},l.tweenTo=function(t,i){i=i||{};var s,r,n,a={ease:h,useFrames:this.usesFrames(),immediateRender:!1};for(r in i)a[r]=i[r];return a.time=this._parseTimeOrLabel(t),s=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,n=new e(this,s,a),a.onStart=function(){n.target.paused(!0),n.vars.time!==n.target.time()&&s===n.duration()&&n.duration(Math.abs(n.vars.time-n.target.time())/n.target._timeScale),i.onStart&&n._callback("onStart")},n},l.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var s=this.tweenTo(e,i);return s.duration(Math.abs(s.vars.time-t)/this._timeScale||.001)},l.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,n,h,l,_,u,c=this._dirty?this.totalDuration():this._totalDuration,f=this._duration,p=this._time,m=this._totalTime,d=this._startTime,g=this._timeScale,v=this._rawPrevTime,y=this._paused,T=this._cycle;if(t>=c)this._locked||(this._totalTime=c,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(n=!0,l="onComplete",_=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>v||v===r)&&v!==t&&this._first&&(_=!0,v>r&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=f,t=f+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===f&&v!==r&&(v>0||0>t&&v>=0)&&!this._locked)&&(l="onReverseComplete",n=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(_=n=!0,l="onReverseComplete"):v>=0&&this._first&&(_=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=f||!e||t||this._rawPrevTime===t?t:r,0===t&&n)for(s=this._first;s&&0===s._startTime;)s._duration||(n=!1),s=s._next;t=0,this._initted||(_=!0)}else 0===f&&0>v&&(_=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(u=f+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=f-this._time),this._time>f?(this._time=f,t=f+1e-4):0>this._time?this._time=t=0:t=this._time));if(this._cycle!==T&&!this._locked){var x=this._yoyo&&0!==(1&T),w=x===(this._yoyo&&0!==(1&this._cycle)),b=this._totalTime,P=this._cycle,k=this._rawPrevTime,S=this._time;if(this._totalTime=T*f,T>this._cycle?x=!x:this._totalTime+=f,this._time=p,this._rawPrevTime=0===f?v-1e-4:v,this._cycle=T,this._locked=!0,p=x?0:f,this.render(p,e,0===f),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),w&&(p=x?f+1e-4:-1e-4,this.render(p,!0,!1)),this._locked=!1,this._paused&&!y)return;this._time=S,this._totalTime=b,this._cycle=P,this._rawPrevTime=k}if(!(this._time!==p&&this._first||i||_))return m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")),void 0;if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&0!==this._totalTime&&(e||this._callback("onStart")),this._time>=p)for(s=this._first;s&&(h=s._next,!this._paused||y);)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=h;else for(s=this._last;s&&(h=s._prev,!this._paused||y);)(s._active||p>=s._startTime&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=h;this._onUpdate&&(e||(a.length&&o(),this._callback("onUpdate"))),l&&(this._locked||this._gc||(d===this._startTime||g!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(n&&(a.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))},l.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var s,r,n=[],a=this.getChildren(t,e,i),o=0,h=a.length;for(s=0;h>s;s++)r=a[s],r.isActive()&&(n[o++]=r);return n},l.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),s=i.length;for(e=0;s>e;e++)if(i[e].time>t)return i[e].name;return null},l.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(t>e[i].time)return e[i].name;return null},l.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},l.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},s},!0),function(){var t=180/Math.PI,e=[],i=[],s=[],r={},n=_gsScope._gsDefine.globals,a=function(t,e,i,s){this.a=t,this.b=e,this.c=i,this.d=s,this.da=s-t,this.ca=i-t,this.ba=e-t},o=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",h=function(t,e,i,s){var r={a:t},n={},a={},o={c:s},h=(t+e)/2,l=(e+i)/2,_=(i+s)/2,u=(h+l)/2,c=(l+_)/2,f=(c-u)/8;return r.b=h+(t-h)/4,n.b=u+f,r.c=n.a=(r.b+n.b)/2,n.c=a.a=(u+c)/2,a.b=c-f,o.b=_+(s-_)/4,a.c=o.a=(a.b+o.b)/2,[r,n,a,o]},l=function(t,r,n,a,o){var l,_,u,c,f,p,m,d,g,v,y,T,x,w=t.length-1,b=0,P=t[0].a;for(l=0;w>l;l++)f=t[b],_=f.a,u=f.d,c=t[b+1].d,o?(y=e[l],T=i[l],x=.25*(T+y)*r/(a?.5:s[l]||.5),p=u-(u-_)*(a?.5*r:0!==y?x/y:0),m=u+(c-u)*(a?.5*r:0!==T?x/T:0),d=u-(p+((m-p)*(3*y/(y+T)+.5)/4||0))):(p=u-.5*(u-_)*r,m=u+.5*(c-u)*r,d=u-(p+m)/2),p+=d,m+=d,f.c=g=p,f.b=0!==l?P:P=f.a+.6*(f.c-f.a),f.da=u-_,f.ca=g-_,f.ba=P-_,n?(v=h(_,P,g,u),t.splice(b,1,v[0],v[1],v[2],v[3]),b+=4):b++,P=m;f=t[b],f.b=P,f.c=P+.4*(f.d-P),f.da=f.d-f.a,f.ca=f.c-f.a,f.ba=P-f.a,n&&(v=h(f.a,P,f.c,f.d),t.splice(b,1,v[0],v[1],v[2],v[3]))},_=function(t,s,r,n){var o,h,l,_,u,c,f=[];if(n)for(t=[n].concat(t),h=t.length;--h>-1;)"string"==typeof(c=t[h][s])&&"="===c.charAt(1)&&(t[h][s]=n[s]+Number(c.charAt(0)+c.substr(2)));if(o=t.length-2,0>o)return f[0]=new a(t[0][s],0,0,t[-1>o?0:1][s]),f;for(h=0;o>h;h++)l=t[h][s],_=t[h+1][s],f[h]=new a(l,0,0,_),r&&(u=t[h+2][s],e[h]=(e[h]||0)+(_-l)*(_-l),i[h]=(i[h]||0)+(u-_)*(u-_));return f[h]=new a(t[h][s],0,0,t[h+1][s]),f},u=function(t,n,a,h,u,c){var f,p,m,d,g,v,y,T,x={},w=[],b=c||t[0];u="string"==typeof u?","+u+",":o,null==n&&(n=1);for(p in t[0])w.push(p);if(t.length>1){for(T=t[t.length-1],y=!0,f=w.length;--f>-1;)if(p=w[f],Math.abs(b[p]-T[p])>.05){y=!1;break}y&&(t=t.concat(),c&&t.unshift(c),t.push(t[1]),c=t[t.length-3])}for(e.length=i.length=s.length=0,f=w.length;--f>-1;)p=w[f],r[p]=-1!==u.indexOf(","+p+","),x[p]=_(t,p,r[p],c);for(f=e.length;--f>-1;)e[f]=Math.sqrt(e[f]),i[f]=Math.sqrt(i[f]);if(!h){for(f=w.length;--f>-1;)if(r[p])for(m=x[w[f]],v=m.length-1,d=0;v>d;d++)g=m[d+1].da/i[d]+m[d].da/e[d],s[d]=(s[d]||0)+g*g;for(f=s.length;--f>-1;)s[f]=Math.sqrt(s[f])}for(f=w.length,d=a?4:1;--f>-1;)p=w[f],m=x[p],l(m,n,a,h,r[p]),y&&(m.splice(0,d),m.splice(m.length-d,d));return x},c=function(t,e,i){e=e||"soft";var s,r,n,o,h,l,_,u,c,f,p,m={},d="cubic"===e?3:2,g="soft"===e,v=[];if(g&&i&&(t=[i].concat(t)),null==t||d+1>t.length)throw"invalid Bezier data";for(c in t[0])v.push(c);for(l=v.length;--l>-1;){for(c=v[l],m[c]=h=[],f=0,u=t.length,_=0;u>_;_++)s=null==i?t[_][c]:"string"==typeof(p=t[_][c])&&"="===p.charAt(1)?i[c]+Number(p.charAt(0)+p.substr(2)):Number(p),g&&_>1&&u-1>_&&(h[f++]=(s+h[f-2])/2),h[f++]=s;for(u=f-d+1,f=0,_=0;u>_;_+=d)s=h[_],r=h[_+1],n=h[_+2],o=2===d?0:h[_+3],h[f++]=p=3===d?new a(s,r,n,o):new a(s,(2*r+s)/3,(2*r+n)/3,n);h.length=f}return m},f=function(t,e,i){for(var s,r,n,a,o,h,l,_,u,c,f,p=1/i,m=t.length;--m>-1;)for(c=t[m],n=c.a,a=c.d-n,o=c.c-n,h=c.b-n,s=r=0,_=1;i>=_;_++)l=p*_,u=1-l,s=r-(r=(l*l*a+3*u*(l*o+u*h))*l),f=m*i+_-1,e[f]=(e[f]||0)+s*s},p=function(t,e){e=e>>0||6;var i,s,r,n,a=[],o=[],h=0,l=0,_=e-1,u=[],c=[];for(i in t)f(t[i],a,e);for(r=a.length,s=0;r>s;s++)h+=Math.sqrt(a[s]),n=s%e,c[n]=h,n===_&&(l+=h,n=s/e>>0,u[n]=c,o[n]=l,h=0,c=[]);return{length:l,lengths:o,segments:u}},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var s,r,n,a,o,h=e.values||[],l={},_=h[0],f=e.autoRotate||i.vars.orientToBezier;this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",f===!0?0:Number(f)||0]]:null;for(s in _)this._props.push(s);for(n=this._props.length;--n>-1;)s=this._props[n],this._overwriteProps.push(s),r=this._func[s]="function"==typeof t[s],l[s]=r?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(t[s]),o||l[s]!==h[0][s]&&(o=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?u(h,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,o):c(h,e.type,l),this._segCount=this._beziers[s].length,this._timeRes){var m=p(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),n=f.length;--n>-1;){for(a=0;3>a;a++)s=f[n][a],this._func[s]="function"==typeof t[s]?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]:!1;s=f[n][2],this._initialRotations[n]=this._func[s]?this._func[s].call(this._target):this._target[s]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,s,r,n,a,o,h,l,_,u,c=this._segCount,f=this._func,p=this._target,m=e!==this._startRatio;if(this._timeRes){if(_=this._lengths,u=this._curSeg,e*=this._length,r=this._li,e>this._l2&&c-1>r){for(l=c-1;l>r&&e>=(this._l2=_[++r]););this._l1=_[r-1],this._li=r,this._curSeg=u=this._segments[r],this._s2=u[this._s1=this._si=0]}else if(this._l1>e&&r>0){for(;r>0&&(this._l1=_[--r])>=e;);0===r&&this._l1>e?this._l1=0:r++,this._l2=_[r],this._li=r,this._curSeg=u=this._segments[r],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]
}if(i=r,e-=this._l1,r=this._si,e>this._s2&&u.length-1>r){for(l=u.length-1;l>r&&e>=(this._s2=u[++r]););this._s1=u[r-1],this._si=r}else if(this._s1>e&&r>0){for(;r>0&&(this._s1=u[--r])>=e;);0===r&&this._s1>e?this._s1=0:r++,this._s2=u[r],this._si=r}o=(r+(e-this._s1)/(this._s2-this._s1))*this._prec}else i=0>e?0:e>=1?c-1:c*e>>0,o=(e-i*(1/c))*c;for(s=1-o,r=this._props.length;--r>-1;)n=this._props[r],a=this._beziers[n][i],h=(o*o*a.da+3*s*(o*a.ca+s*a.ba))*o+a.a,this._round[n]&&(h=Math.round(h)),f[n]?p[n](h):p[n]=h;if(this._autoRotate){var d,g,v,y,T,x,w,b=this._autoRotate;for(r=b.length;--r>-1;)n=b[r][2],x=b[r][3]||0,w=b[r][4]===!0?1:t,a=this._beziers[b[r][0]],d=this._beziers[b[r][1]],a&&d&&(a=a[i],d=d[i],g=a.a+(a.b-a.a)*o,y=a.b+(a.c-a.b)*o,g+=(y-g)*o,y+=(a.c+(a.d-a.c)*o-y)*o,v=d.a+(d.b-d.a)*o,T=d.b+(d.c-d.b)*o,v+=(T-v)*o,T+=(d.c+(d.d-d.c)*o-T)*o,h=m?Math.atan2(T-v,y-g)*w+x:this._initialRotations[r],f[n]?p[n](h):p[n]=h)}}}),d=m.prototype;m.bezierThrough=u,m.cubicToQuadratic=h,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=n.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,s=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,n,a,o,h){e instanceof Array&&(e={values:e}),h=new m;var l,_,u,c=e.values,f=c.length-1,p=[],d={};if(0>f)return o;for(l=0;f>=l;l++)u=i(t,c[l],a,o,h,f!==l),p[l]=u.end;for(_ in e)d[_]=e[_];return d.values=p,o=new r(t,"bezier",0,0,u.pt,2),o.data=u,o.plugin=h,o.setRatio=s,0===d.autoRotate&&(d.autoRotate=!0),!d.autoRotate||d.autoRotate instanceof Array||(l=d.autoRotate===!0?0:Number(d.autoRotate),d.autoRotate=null!=u.end.left?[["left","top","rotation",l,!1]]:null!=u.end.x?[["x","y","rotation",l,!1]]:!1),d.autoRotate&&(a._transform||a._enableTransforms(!1),u.autoRotate=a._target._gsTransform),h._onInitTween(u.proxy,d,a._tween),o}})}},d._roundProps=function(t,e){for(var i=this._overwriteProps,s=i.length;--s>-1;)(t[i[s]]||t.bezier||t.bezierThrough)&&(this._round[i[s]]=e)},d._kill=function(t){var e,i,s=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=s.length;--i>-1;)s[i]===e&&s.splice(i,1);return this._super._kill.call(this,t)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,s,r,n,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o=_gsScope._gsDefine.globals,h={},l=a.prototype=new t("css");l.constructor=a,a.version="1.17.0",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,l="px",a.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var _,u,c,f,p,m,d=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,T=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,b=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,k=/([A-Z])/g,S=/-([a-z])/gi,R=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,O=function(t,e){return e.toUpperCase()},A=/(?:Left|Right|Width)/i,C=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,M=/,(?=[^\)]*(?:\(|$))/gi,z=Math.PI/180,I=180/Math.PI,F={},N=document,E=function(t){return N.createElementNS?N.createElementNS("http://www.w3.org/1999/xhtml",t):N.createElement(t)},L=E("div"),X=E("img"),B=a._internals={_specialProps:h},Y=navigator.userAgent,j=function(){var t=Y.indexOf("Android"),e=E("a");return c=-1!==Y.indexOf("Safari")&&-1===Y.indexOf("Chrome")&&(-1===t||Number(Y.substr(t+8,1))>3),p=c&&6>Number(Y.substr(Y.indexOf("Version/")+8,1)),f=-1!==Y.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Y)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Y))&&(m=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),U=function(t){return x.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},q=function(t){window.console&&console.log(t)},V="",G="",W=function(t,e){e=e||L;var i,s,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],s=5;--s>-1&&void 0===r[i[s]+t];);return s>=0?(G=3===s?"ms":i[s],V="-"+G.toLowerCase()+"-",G+t):null},Z=N.defaultView?N.defaultView.getComputedStyle:function(){},Q=a.getStyle=function(t,e,i,s,r){var n;return j||"opacity"!==e?(!s&&t.style[e]?n=t.style[e]:(i=i||Z(t))?n=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(k,"-$1").toLowerCase()):t.currentStyle&&(n=t.currentStyle[e]),null==r||n&&"none"!==n&&"auto"!==n&&"auto auto"!==n?n:r):U(t)},$=B.convertToPixels=function(t,i,s,r,n){if("px"===r||!r)return s;if("auto"===r||!s)return 0;var o,h,l,_=A.test(i),u=t,c=L.style,f=0>s;if(f&&(s=-s),"%"===r&&-1!==i.indexOf("border"))o=s/100*(_?t.clientWidth:t.clientHeight);else{if(c.cssText="border:0 solid red;position:"+Q(t,"position")+";line-height:0;","%"!==r&&u.appendChild)c[_?"borderLeftWidth":"borderTopWidth"]=s+r;else{if(u=t.parentNode||N.body,h=u._gsCache,l=e.ticker.frame,h&&_&&h.time===l)return h.width*s/100;c[_?"width":"height"]=s+r}u.appendChild(L),o=parseFloat(L[_?"offsetWidth":"offsetHeight"]),u.removeChild(L),_&&"%"===r&&a.cacheWidths!==!1&&(h=u._gsCache=u._gsCache||{},h.time=l,h.width=100*(o/s)),0!==o||n||(o=$(t,i,s,r,!0))}return f?-o:o},H=B.calculateOffset=function(t,e,i){if("absolute"!==Q(t,"position",i))return 0;var s="left"===e?"Left":"Top",r=Q(t,"margin"+s,i);return t["offset"+s]-($(t,e,parseFloat(r),r.replace(T,""))||0)},K=function(t,e){var i,s,r,n={};if(e=e||Z(t,null))if(i=e.length)for(;--i>-1;)r=e[i],(-1===r.indexOf("-transform")||Pe===r)&&(n[r.replace(S,O)]=e.getPropertyValue(r));else for(i in e)(-1===i.indexOf("Transform")||be===i)&&(n[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===n[i]&&(n[i.replace(S,O)]=e[i]);return j||(n.opacity=U(t)),s=Ne(t,e,!1),n.rotation=s.rotation,n.skewX=s.skewX,n.scaleX=s.scaleX,n.scaleY=s.scaleY,n.x=s.x,n.y=s.y,Se&&(n.z=s.z,n.rotationX=s.rotationX,n.rotationY=s.rotationY,n.scaleZ=s.scaleZ),n.filters&&delete n.filters,n},J=function(t,e,i,s,r){var n,a,o,h={},l=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(n=i[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"==typeof n||"string"==typeof n)&&(h[a]="auto"!==n||"left"!==a&&"top"!==a?""!==n&&"auto"!==n&&"none"!==n||"string"!=typeof e[a]||""===e[a].replace(y,"")?n:0:H(t,a),void 0!==l[a]&&(o=new fe(l,a,l[a],o)));if(s)for(a in s)"className"!==a&&(h[a]=s[a]);return{difs:h,firstMPT:o}},te={width:["Left","Right"],height:["Top","Bottom"]},ee=["marginLeft","marginRight","marginTop","marginBottom"],ie=function(t,e,i){var s=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=te[e],n=r.length;for(i=i||Z(t,null);--n>-1;)s-=parseFloat(Q(t,"padding"+r[n],i,!0))||0,s-=parseFloat(Q(t,"border"+r[n]+"Width",i,!0))||0;return s},se=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),s=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],r=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==r?r="center"===s?"50%":"0":"center"===r&&(r="50%"),("center"===s||isNaN(parseFloat(s))&&-1===(s+"").indexOf("="))&&(s="50%"),t=s+" "+r+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==s.indexOf("%"),e.oyp=-1!==r.indexOf("%"),e.oxr="="===s.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(s.replace(y,"")),e.oy=parseFloat(r.replace(y,"")),e.v=t),e||t},re=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ne=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},ae=function(t,e,i,s){var r,n,a,o,h,l=1e-6;return null==t?o=e:"number"==typeof t?o=t:(r=360,n=t.split("_"),h="="===t.charAt(1),a=(h?parseInt(t.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===t.indexOf("rad")?1:I)-(h?0:e),n.length&&(s&&(s[i]=e+a),-1!==t.indexOf("short")&&(a%=r,a!==a%(r/2)&&(a=0>a?a+r:a-r)),-1!==t.indexOf("_cw")&&0>a?a=(a+9999999999*r)%r-(0|a/r)*r:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*r)%r-(0|a/r)*r)),o=e+a),l>o&&o>-l&&(o=0),o},oe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},he=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},le=a.parseColor=function(t){var e,i,s,r,n,a;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),oe[t]?oe[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),s=t.charAt(3),t="#"+e+e+i+i+s+s),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(d),r=Number(t[0])%360/360,n=Number(t[1])/100,a=Number(t[2])/100,i=.5>=a?a*(n+1):a+n-a*n,e=2*a-i,t.length>3&&(t[3]=Number(t[3])),t[0]=he(r+1/3,e,i),t[1]=he(r,e,i),t[2]=he(r-1/3,e,i),t):(t=t.match(d)||oe.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):oe.black},_e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in oe)_e+="|"+l+"\\b";_e=RegExp(_e+")","gi");var ue=function(t,e,i,s){if(null==t)return function(t){return t};var r,n=e?(t.match(_e)||[""])[0]:"",a=t.split(n).join("").match(v)||[],o=t.substr(0,t.indexOf(a[0])),h=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",_=a.length,u=_>0?a[0].replace(d,""):"";return _?r=e?function(t){var e,c,f,p;if("number"==typeof t)t+=u;else if(s&&M.test(t)){for(p=t.replace(M,"|").split("|"),f=0;p.length>f;f++)p[f]=r(p[f]);return p.join(",")}if(e=(t.match(_e)||[n])[0],c=t.split(e).join("").match(v)||[],f=c.length,_>f--)for(;_>++f;)c[f]=i?c[0|(f-1)/2]:a[f];return o+c.join(l)+l+e+h+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,n,c;if("number"==typeof t)t+=u;else if(s&&M.test(t)){for(n=t.replace(M,"|").split("|"),c=0;n.length>c;c++)n[c]=r(n[c]);return n.join(",")}if(e=t.match(v)||[],c=e.length,_>c--)for(;_>++c;)e[c]=i?e[0|(c-1)/2]:a[c];return o+e.join(l)+h}:function(t){return t}},ce=function(t){return t=t.split(","),function(e,i,s,r,n,a,o){var h,l=(i+"").split(" ");for(o={},h=0;4>h;h++)o[t[h]]=l[h]=l[h]||l[(h-1)/2>>0];return r.parse(e,o,n,a)}},fe=(B._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,s,r,n=this.data,a=n.proxy,o=n.firstMPT,h=1e-6;o;)e=a[o.v],o.r?e=Math.round(e):h>e&&e>-h&&(e=0),o.t[o.p]=e,o=o._next;if(n.autoRotate&&(n.autoRotate.rotation=a.rotation),1===t)for(o=n.firstMPT;o;){if(i=o.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,s=1;i.l>s;s++)r+=i["xn"+s]+i["xs"+(s+1)];i.e=r}}else i.e=i.s+i.xs0;o=o._next}},function(t,e,i,s,r){this.t=t,this.p=e,this.v=i,this.r=r,s&&(s._prev=this,this._next=s)}),pe=(B._parseToProxy=function(t,e,i,s,r,n){var a,o,h,l,_,u=s,c={},f={},p=i._transform,m=F;for(i._transform=null,F=e,s=_=i.parse(t,e,s,r),F=m,n&&(i._transform=p,u&&(u._prev=null,u._prev&&(u._prev._next=null)));s&&s!==u;){if(1>=s.type&&(o=s.p,f[o]=s.s+s.c,c[o]=s.s,n||(l=new fe(s,"s",o,l,s.r),s.c=0),1===s.type))for(a=s.l;--a>0;)h="xn"+a,o=s.p+"_"+h,f[o]=s.data[h],c[o]=s[h],n||(l=new fe(s,h,o,l,s.rxp[h]));s=s._next}return{proxy:c,end:f,firstMPT:l,pt:_}},B.CSSPropTween=function(t,e,s,r,a,o,h,l,_,u,c){this.t=t,this.p=e,this.s=s,this.c=r,this.n=h||e,t instanceof pe||n.push(this.n),this.r=l,this.type=o||0,_&&(this.pr=_,i=!0),this.b=void 0===u?s:u,this.e=void 0===c?s+r:c,a&&(this._next=a,a._prev=this)}),me=function(t,e,i,s,r,n){var a=new pe(t,e,i,s-i,r,-1,n);return a.b=i,a.e=a.xs0=s,a},de=a.parseComplex=function(t,e,i,s,r,n,a,o,h,l){i=i||n||"",a=new pe(t,e,0,0,a,l?2:1,null,!1,o,i,s),s+="";var u,c,f,p,m,v,y,T,x,w,b,k,S=i.split(", ").join(",").split(" "),R=s.split(", ").join(",").split(" "),O=S.length,A=_!==!1;for((-1!==s.indexOf(",")||-1!==i.indexOf(","))&&(S=S.join(" ").replace(M,", ").split(" "),R=R.join(" ").replace(M,", ").split(" "),O=S.length),O!==R.length&&(S=(n||"").split(" "),O=S.length),a.plugin=h,a.setRatio=l,u=0;O>u;u++)if(p=S[u],m=R[u],T=parseFloat(p),T||0===T)a.appendXtra("",T,re(m,T),m.replace(g,""),A&&-1!==m.indexOf("px"),!0);else if(r&&("#"===p.charAt(0)||oe[p]||P.test(p)))k=","===m.charAt(m.length-1)?"),":")",p=le(p),m=le(m),x=p.length+m.length>6,x&&!j&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(R[u]).join("transparent")):(j||(x=!1),a.appendXtra(x?"rgba(":"rgb(",p[0],m[0]-p[0],",",!0,!0).appendXtra("",p[1],m[1]-p[1],",",!0).appendXtra("",p[2],m[2]-p[2],x?",":k,!0),x&&(p=4>p.length?1:p[3],a.appendXtra("",p,(4>m.length?1:m[3])-p,k,!1)));else if(v=p.match(d)){if(y=m.match(g),!y||y.length!==v.length)return a;for(f=0,c=0;v.length>c;c++)b=v[c],w=p.indexOf(b,f),a.appendXtra(p.substr(f,w-f),Number(b),re(y[c],b),"",A&&"px"===p.substr(w+b.length,2),0===c),f=w+b.length;a["xs"+a.l]+=p.substr(f)}else a["xs"+a.l]+=a.l?" "+p:p;if(-1!==s.indexOf("=")&&a.data){for(k=a.xs0+a.data.s,u=1;a.l>u;u++)k+=a["xs"+u]+a.data["xn"+u];a.e=k+a["xs"+u]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},ge=9;for(l=pe.prototype,l.l=l.pr=0;--ge>0;)l["xn"+ge]=0,l["xs"+ge]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(t,e,i,s,r,n){var a=this,o=a.l;return a["xs"+o]+=n&&o?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=s||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=r,a["xn"+o]=e,a.plugin||(a.xfirst=new pe(a,"xn"+o,e,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=r,a)):(a["xs"+o]+=e+(s||""),a)};var ve=function(t,e){e=e||{},this.p=e.prefix?W(t)||t:t,h[t]=h[this.p]=this,this.format=e.formatter||ue(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},ye=B._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var s,r,n=t.split(","),a=e.defaultValue;for(i=i||[a],s=0;n.length>s;s++)e.prefix=0===s&&e.prefix,e.defaultValue=i[s]||a,r=new ve(n[s],e)},Te=function(t){if(!h[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";ye(t,{parser:function(t,i,s,r,n,a,l){var _=o.com.greensock.plugins[e];return _?(_._cssRegister(),h[s].parse(t,i,s,r,n,a,l)):(q("Error: "+e+" js file not loaded."),n)}})}};l=ve.prototype,l.parseComplex=function(t,e,i,s,r,n){var a,o,h,l,_,u,c=this.keyword;if(this.multi&&(M.test(i)||M.test(e)?(o=e.replace(M,"|").split("|"),h=i.replace(M,"|").split("|")):c&&(o=[e],h=[i])),h){for(l=h.length>o.length?h.length:o.length,a=0;l>a;a++)e=o[a]=o[a]||this.dflt,i=h[a]=h[a]||this.dflt,c&&(_=e.indexOf(c),u=i.indexOf(c),_!==u&&(-1===u?o[a]=o[a].split(c).join(""):-1===_&&(o[a]+=" "+c)));e=o.join(", "),i=h.join(", ")}return de(t,this.p,e,i,this.clrs,this.dflt,s,this.pr,r,n)},l.parse=function(t,e,i,s,n,a){return this.parseComplex(t.style,this.format(Q(t,this.p,r,!1,this.dflt)),this.format(e),n,a)},a.registerSpecialProp=function(t,e,i){ye(t,{parser:function(t,s,r,n,a,o){var h=new pe(t,r,0,0,a,2,r,!1,i);return h.plugin=o,h.setRatio=e(t,s,n._tween,r),h},priority:i})},a.useSVGTransformAttr=c||f;var xe,we="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),be=W("transform"),Pe=V+"transform",ke=W("transformOrigin"),Se=null!==W("perspective"),Re=B.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Se?a.defaultForce3D||"auto":!1},Oe=window.SVGElement,Ae=function(t,e,i){var s,r=N.createElementNS("http://www.w3.org/2000/svg",t),n=/([a-z])([A-Z])/g;for(s in i)r.setAttributeNS(null,s.replace(n,"$1-$2").toLowerCase(),i[s]);return e.appendChild(r),r},Ce=N.documentElement,De=function(){var t,e,i,s=m||/Android/i.test(Y)&&!window.chrome;return N.createElementNS&&!s&&(t=Ae("svg",Ce),e=Ae("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[ke]="50% 50%",e.style[be]="scaleX(0.5)",s=i===e.getBoundingClientRect().width&&!(f&&Se),Ce.removeChild(t)),s}(),Me=function(t,e,i,s,r){var n,o,h,l,_,u,c,f,p,m,d,g,v,y,T=t._gsTransform,x=Fe(t,!0);T&&(v=T.xOrigin,y=T.yOrigin),(!s||2>(n=s.split(" ")).length)&&(c=t.getBBox(),e=se(e).split(" "),n=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*c.width:parseFloat(e[0]))+c.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*c.height:parseFloat(e[1]))+c.y]),i.xOrigin=l=parseFloat(n[0]),i.yOrigin=_=parseFloat(n[1]),s&&x!==Ie&&(u=x[0],c=x[1],f=x[2],p=x[3],m=x[4],d=x[5],g=u*p-c*f,o=l*(p/g)+_*(-f/g)+(f*d-p*m)/g,h=l*(-c/g)+_*(u/g)-(u*d-c*m)/g,l=i.xOrigin=n[0]=o,_=i.yOrigin=n[1]=h),T&&(r||r!==!1&&a.defaultSmoothOrigin!==!1?(o=l-v,h=_-y,T.xOffset+=o*x[0]+h*x[2]-o,T.yOffset+=o*x[1]+h*x[3]-h):T.xOffset=T.yOffset=0),t.setAttribute("data-svg-origin",n.join(" "))},ze=function(t){return!!(Oe&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Ie=[1,0,0,1,0,0],Fe=function(t,e){var i,s,r,n,a,o=t._gsTransform||new Re,h=1e5;if(be?s=Q(t,Pe,null,!0):t.currentStyle&&(s=t.currentStyle.filter.match(C),s=s&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),o.x||0,o.y||0].join(","):""),i=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,(o.svg||t.getBBox&&ze(t))&&(i&&-1!==(t.style[be]+"").indexOf("matrix")&&(s=t.style[be],i=0),r=t.getAttribute("transform"),i&&r&&(-1!==r.indexOf("matrix")?(s=r,i=0):-1!==r.indexOf("translate")&&(s="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Ie;for(r=(s||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],ge=r.length;--ge>-1;)n=Number(r[ge]),r[ge]=(a=n-(n|=0))?(0|a*h+(0>a?-.5:.5))/h+n:n;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Ne=B.getTransform=function(t,i,s,n){if(t._gsTransform&&s&&!n)return t._gsTransform;var o,h,l,_,u,c,f=s?t._gsTransform||new Re:new Re,p=0>f.scaleX,m=2e-5,d=1e5,g=Se?parseFloat(Q(t,ke,i,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,v=parseFloat(a.defaultTransformPerspective)||0;if(f.svg=!(!t.getBBox||!ze(t)),f.svg&&(Me(t,Q(t,ke,r,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),xe=a.useSVGTransformAttr||De),o=Fe(t),o!==Ie){if(16===o.length){var y,T,x,w,b,P=o[0],k=o[1],S=o[2],R=o[3],O=o[4],A=o[5],C=o[6],D=o[7],M=o[8],z=o[9],F=o[10],N=o[12],E=o[13],L=o[14],X=o[11],B=Math.atan2(C,F);f.zOrigin&&(L=-f.zOrigin,N=M*L-o[12],E=z*L-o[13],L=F*L+f.zOrigin-o[14]),f.rotationX=B*I,B&&(w=Math.cos(-B),b=Math.sin(-B),y=O*w+M*b,T=A*w+z*b,x=C*w+F*b,M=O*-b+M*w,z=A*-b+z*w,F=C*-b+F*w,X=D*-b+X*w,O=y,A=T,C=x),B=Math.atan2(M,F),f.rotationY=B*I,B&&(w=Math.cos(-B),b=Math.sin(-B),y=P*w-M*b,T=k*w-z*b,x=S*w-F*b,z=k*b+z*w,F=S*b+F*w,X=R*b+X*w,P=y,k=T,S=x),B=Math.atan2(k,P),f.rotation=B*I,B&&(w=Math.cos(-B),b=Math.sin(-B),P=P*w+O*b,T=k*w+A*b,A=k*-b+A*w,C=S*-b+C*w,k=T),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY+=180),f.scaleX=(0|Math.sqrt(P*P+k*k)*d+.5)/d,f.scaleY=(0|Math.sqrt(A*A+z*z)*d+.5)/d,f.scaleZ=(0|Math.sqrt(C*C+F*F)*d+.5)/d,f.skewX=0,f.perspective=X?1/(0>X?-X:X):0,f.x=N,f.y=E,f.z=L,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*P-f.yOrigin*O),f.y-=f.yOrigin-(f.yOrigin*k-f.xOrigin*A))}else if(!(Se&&!n&&o.length&&f.x===o[4]&&f.y===o[5]&&(f.rotationX||f.rotationY)||void 0!==f.x&&"none"===Q(t,"display",i))){var Y=o.length>=6,j=Y?o[0]:1,U=o[1]||0,q=o[2]||0,V=Y?o[3]:1;f.x=o[4]||0,f.y=o[5]||0,l=Math.sqrt(j*j+U*U),_=Math.sqrt(V*V+q*q),u=j||U?Math.atan2(U,j)*I:f.rotation||0,c=q||V?Math.atan2(q,V)*I+u:f.skewX||0,Math.abs(c)>90&&270>Math.abs(c)&&(p?(l*=-1,c+=0>=u?180:-180,u+=0>=u?180:-180):(_*=-1,c+=0>=c?180:-180)),f.scaleX=l,f.scaleY=_,f.rotation=u,f.skewX=c,Se&&(f.rotationX=f.rotationY=f.z=0,f.perspective=v,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*j+f.yOrigin*q),f.y-=f.yOrigin-(f.xOrigin*U+f.yOrigin*V))}f.zOrigin=g;for(h in f)m>f[h]&&f[h]>-m&&(f[h]=0)}return s&&(t._gsTransform=f,f.svg&&(xe&&t.style[be]?e.delayedCall(.001,function(){Be(t.style,be)}):!xe&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Ee=function(t){var e,i,s=this.data,r=-s.rotation*z,n=r+s.skewX*z,a=1e5,o=(0|Math.cos(r)*s.scaleX*a)/a,h=(0|Math.sin(r)*s.scaleX*a)/a,l=(0|Math.sin(n)*-s.scaleY*a)/a,_=(0|Math.cos(n)*s.scaleY*a)/a,u=this.t.style,c=this.t.currentStyle;if(c){i=h,h=-l,l=-i,e=c.filter,u.filter="";var f,p,d=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==c.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+h+", M21="+l+", M22="+_,w=s.x+d*s.xPercent/100,b=s.y+g*s.yPercent/100;if(null!=s.ox&&(f=(s.oxp?.01*d*s.ox:s.ox)-d/2,p=(s.oyp?.01*g*s.oy:s.oy)-g/2,w+=f-(f*o+p*h),b+=p-(f*l+p*_)),v?(f=d/2,p=g/2,y+=", Dx="+(f-(f*o+p*h)+w)+", Dy="+(p-(f*l+p*_)+b)+")"):y+=", sizingMethod='auto expand')",u.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(D,y):y+" "+e,(0===t||1===t)&&1===o&&0===h&&0===l&&1===_&&(v&&-1===y.indexOf("Dx=0, Dy=0")||x.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient("&&e.indexOf("Alpha"))&&u.removeAttribute("filter")),!v){var P,k,S,R=8>m?1:-1;for(f=s.ieOffsetX||0,p=s.ieOffsetY||0,s.ieOffsetX=Math.round((d-((0>o?-o:o)*d+(0>h?-h:h)*g))/2+w),s.ieOffsetY=Math.round((g-((0>_?-_:_)*g+(0>l?-l:l)*d))/2+b),ge=0;4>ge;ge++)k=ee[ge],P=c[k],i=-1!==P.indexOf("px")?parseFloat(P):$(this.t,k,parseFloat(P),P.replace(T,""))||0,S=i!==s[k]?2>ge?-s.ieOffsetX:-s.ieOffsetY:2>ge?f-s.ieOffsetX:p-s.ieOffsetY,u[k]=(s[k]=Math.round(i-S*(0===ge||2===ge?1:R)))+"px"}}},Le=B.set3DTransformRatio=B.setTransformRatio=function(t){var e,i,s,r,n,a,o,h,l,_,u,c,p,m,d,g,v,y,T,x,w,b,P,k=this.data,S=this.t.style,R=k.rotation,O=k.rotationX,A=k.rotationY,C=k.scaleX,D=k.scaleY,M=k.scaleZ,I=k.x,F=k.y,N=k.z,E=k.svg,L=k.perspective,X=k.force3D;if(!(((1!==t&&0!==t||"auto"!==X||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&X||N||L||A||O)&&(!xe||!E)&&Se))return R||k.skewX||E?(R*=z,b=k.skewX*z,P=1e5,e=Math.cos(R)*C,r=Math.sin(R)*C,i=Math.sin(R-b)*-D,n=Math.cos(R-b)*D,b&&"simple"===k.skewType&&(v=Math.tan(b),v=Math.sqrt(1+v*v),i*=v,n*=v,k.skewY&&(e*=v,r*=v)),E&&(I+=k.xOrigin-(k.xOrigin*e+k.yOrigin*i)+k.xOffset,F+=k.yOrigin-(k.xOrigin*r+k.yOrigin*n)+k.yOffset,xe&&(k.xPercent||k.yPercent)&&(m=this.t.getBBox(),I+=.01*k.xPercent*m.width,F+=.01*k.yPercent*m.height),m=1e-6,m>I&&I>-m&&(I=0),m>F&&F>-m&&(F=0)),T=(0|e*P)/P+","+(0|r*P)/P+","+(0|i*P)/P+","+(0|n*P)/P+","+I+","+F+")",E&&xe?this.t.setAttribute("transform","matrix("+T):S[be]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix(":"matrix(")+T):S[be]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix(":"matrix(")+C+",0,0,"+D+","+I+","+F+")",void 0;if(f&&(m=1e-4,m>C&&C>-m&&(C=M=2e-5),m>D&&D>-m&&(D=M=2e-5),!L||k.z||k.rotationX||k.rotationY||(L=0)),R||k.skewX)R*=z,d=e=Math.cos(R),g=r=Math.sin(R),k.skewX&&(R-=k.skewX*z,d=Math.cos(R),g=Math.sin(R),"simple"===k.skewType&&(v=Math.tan(k.skewX*z),v=Math.sqrt(1+v*v),d*=v,g*=v,k.skewY&&(e*=v,r*=v))),i=-g,n=d;else{if(!(A||O||1!==M||L||E))return S[be]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) translate3d(":"translate3d(")+I+"px,"+F+"px,"+N+"px)"+(1!==C||1!==D?" scale("+C+","+D+")":""),void 0;e=n=1,i=r=0}l=1,s=a=o=h=_=u=0,c=L?-1/L:0,p=k.zOrigin,m=1e-6,x=",",w="0",R=A*z,R&&(d=Math.cos(R),g=Math.sin(R),o=-g,_=c*-g,s=e*g,a=r*g,l=d,c*=d,e*=d,r*=d),R=O*z,R&&(d=Math.cos(R),g=Math.sin(R),v=i*d+s*g,y=n*d+a*g,h=l*g,u=c*g,s=i*-g+s*d,a=n*-g+a*d,l*=d,c*=d,i=v,n=y),1!==M&&(s*=M,a*=M,l*=M,c*=M),1!==D&&(i*=D,n*=D,h*=D,u*=D),1!==C&&(e*=C,r*=C,o*=C,_*=C),(p||E)&&(p&&(I+=s*-p,F+=a*-p,N+=l*-p+p),E&&(I+=k.xOrigin-(k.xOrigin*e+k.yOrigin*i)+k.xOffset,F+=k.yOrigin-(k.xOrigin*r+k.yOrigin*n)+k.yOffset),m>I&&I>-m&&(I=w),m>F&&F>-m&&(F=w),m>N&&N>-m&&(N=0)),T=k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix3d(":"matrix3d(",T+=(m>e&&e>-m?w:e)+x+(m>r&&r>-m?w:r)+x+(m>o&&o>-m?w:o),T+=x+(m>_&&_>-m?w:_)+x+(m>i&&i>-m?w:i)+x+(m>n&&n>-m?w:n),O||A?(T+=x+(m>h&&h>-m?w:h)+x+(m>u&&u>-m?w:u)+x+(m>s&&s>-m?w:s),T+=x+(m>a&&a>-m?w:a)+x+(m>l&&l>-m?w:l)+x+(m>c&&c>-m?w:c)+x):T+=",0,0,0,0,1,0,",T+=I+x+F+x+N+x+(L?1+-N/L:1)+")",S[be]=T};l=Re.prototype,l.x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=l.xOffset=l.yOffset=0,l.scaleX=l.scaleY=l.scaleZ=1,ye("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,s,n,o,h){if(s._lastParsedTransform===h)return n;s._lastParsedTransform=h;var l,_,u,c,f,p,m,d,g,v=t._gsTransform,y=s._transform=Ne(t,r,!0,h.parseTransform),T=t.style,x=1e-6,w=we.length,b=h,P={},k="transformOrigin";if("string"==typeof b.transform&&be)u=L.style,u[be]=b.transform,u.display="block",u.position="absolute",N.body.appendChild(L),l=Ne(L,null,!1),N.body.removeChild(L),null!=b.xPercent&&(l.xPercent=ne(b.xPercent,y.xPercent)),null!=b.yPercent&&(l.yPercent=ne(b.yPercent,y.yPercent));else if("object"==typeof b){if(l={scaleX:ne(null!=b.scaleX?b.scaleX:b.scale,y.scaleX),scaleY:ne(null!=b.scaleY?b.scaleY:b.scale,y.scaleY),scaleZ:ne(b.scaleZ,y.scaleZ),x:ne(b.x,y.x),y:ne(b.y,y.y),z:ne(b.z,y.z),xPercent:ne(b.xPercent,y.xPercent),yPercent:ne(b.yPercent,y.yPercent),perspective:ne(b.transformPerspective,y.perspective)},m=b.directionalRotation,null!=m)if("object"==typeof m)for(u in m)b[u]=m[u];else b.rotation=m;"string"==typeof b.x&&-1!==b.x.indexOf("%")&&(l.x=0,l.xPercent=ne(b.x,y.xPercent)),"string"==typeof b.y&&-1!==b.y.indexOf("%")&&(l.y=0,l.yPercent=ne(b.y,y.yPercent)),l.rotation=ae("rotation"in b?b.rotation:"shortRotation"in b?b.shortRotation+"_short":"rotationZ"in b?b.rotationZ:y.rotation,y.rotation,"rotation",P),Se&&(l.rotationX=ae("rotationX"in b?b.rotationX:"shortRotationX"in b?b.shortRotationX+"_short":y.rotationX||0,y.rotationX,"rotationX",P),l.rotationY=ae("rotationY"in b?b.rotationY:"shortRotationY"in b?b.shortRotationY+"_short":y.rotationY||0,y.rotationY,"rotationY",P)),l.skewX=null==b.skewX?y.skewX:ae(b.skewX,y.skewX),l.skewY=null==b.skewY?y.skewY:ae(b.skewY,y.skewY),(_=l.skewY-y.skewY)&&(l.skewX+=_,l.rotation+=_)}for(Se&&null!=b.force3D&&(y.force3D=b.force3D,p=!0),y.skewType=b.skewType||y.skewType||a.defaultSkewType,f=y.force3D||y.z||y.rotationX||y.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,f||null==b.scale||(l.scaleZ=1);--w>-1;)i=we[w],c=l[i]-y[i],(c>x||-x>c||null!=b[i]||null!=F[i])&&(p=!0,n=new pe(y,i,y[i],c,n),i in P&&(n.e=P[i]),n.xs0=0,n.plugin=o,s._overwriteProps.push(n.n));return c=b.transformOrigin,y.svg&&(c||b.svgOrigin)&&(d=y.xOffset,g=y.yOffset,Me(t,se(c),l,b.svgOrigin,b.smoothOrigin),n=me(y,"xOrigin",(v?y:l).xOrigin,l.xOrigin,n,k),n=me(y,"yOrigin",(v?y:l).yOrigin,l.yOrigin,n,k),(d!==y.xOffset||g!==y.yOffset)&&(n=me(y,"xOffset",v?d:y.xOffset,y.xOffset,n,k),n=me(y,"yOffset",v?g:y.yOffset,y.yOffset,n,k)),c=xe?null:"0px 0px"),(c||Se&&f&&y.zOrigin)&&(be?(p=!0,i=ke,c=(c||Q(t,i,r,!1,"50% 50%"))+"",n=new pe(T,i,0,0,n,-1,k),n.b=T[i],n.plugin=o,Se?(u=y.zOrigin,c=c.split(" "),y.zOrigin=(c.length>2&&(0===u||"0px"!==c[2])?parseFloat(c[2]):u)||0,n.xs0=n.e=c[0]+" "+(c[1]||"50%")+" 0px",n=new pe(y,"zOrigin",0,0,n,-1,n.n),n.b=u,n.xs0=n.e=y.zOrigin):n.xs0=n.e=c):se(c+"",y)),p&&(s._transformType=y.svg&&xe||!f&&3!==this._transformType?2:3),n},prefix:!0}),ye("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ye("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,a){e=this.format(e);var o,h,l,_,u,c,f,p,m,d,g,v,y,T,x,w,b=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],P=t.style;for(m=parseFloat(t.offsetWidth),d=parseFloat(t.offsetHeight),o=e.split(" "),h=0;b.length>h;h++)this.p.indexOf("border")&&(b[h]=W(b[h])),u=_=Q(t,b[h],r,!1,"0px"),-1!==u.indexOf(" ")&&(_=u.split(" "),u=_[0],_=_[1]),c=l=o[h],f=parseFloat(u),v=u.substr((f+"").length),y="="===c.charAt(1),y?(p=parseInt(c.charAt(0)+"1",10),c=c.substr(2),p*=parseFloat(c),g=c.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(c),g=c.substr((p+"").length)),""===g&&(g=s[i]||v),g!==v&&(T=$(t,"borderLeft",f,v),x=$(t,"borderTop",f,v),"%"===g?(u=100*(T/m)+"%",_=100*(x/d)+"%"):"em"===g?(w=$(t,"borderLeft",1,"em"),u=T/w+"em",_=x/w+"em"):(u=T+"px",_=x+"px"),y&&(c=parseFloat(u)+p+g,l=parseFloat(_)+p+g)),a=de(P,b[h],u+" "+_,c+" "+l,!1,"0px",a);return a},prefix:!0,formatter:ue("0px 0px 0px 0px",!1,!0)}),ye("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,s,n,a){var o,h,l,_,u,c,f="background-position",p=r||Z(t,null),d=this.format((p?m?p.getPropertyValue(f+"-x")+" "+p.getPropertyValue(f+"-y"):p.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==d.indexOf("%")!=(-1!==g.indexOf("%"))&&(c=Q(t,"backgroundImage").replace(R,""),c&&"none"!==c)){for(o=d.split(" "),h=g.split(" "),X.setAttribute("src",c),l=2;--l>-1;)d=o[l],_=-1!==d.indexOf("%"),_!==(-1!==h[l].indexOf("%"))&&(u=0===l?t.offsetWidth-X.width:t.offsetHeight-X.height,o[l]=_?parseFloat(d)/100*u+"px":100*(parseFloat(d)/u)+"%");d=o.join(" ")}return this.parseComplex(t.style,d,g,n,a)},formatter:se}),ye("backgroundSize",{defaultValue:"0 0",formatter:se}),ye("perspective",{defaultValue:"0px",prefix:!0}),ye("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ye("transformStyle",{prefix:!0}),ye("backfaceVisibility",{prefix:!0}),ye("userSelect",{prefix:!0}),ye("margin",{parser:ce("marginTop,marginRight,marginBottom,marginLeft")}),ye("padding",{parser:ce("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ye("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,s,n,a){var o,h,l;return 9>m?(h=t.currentStyle,l=8>m?" ":",",o="rect("+h.clipTop+l+h.clipRight+l+h.clipBottom+l+h.clipLeft+")",e=this.format(e).split(",").join(l)):(o=this.format(Q(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,n,a)}}),ye("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ye("autoRound,strictUnits",{parser:function(t,e,i,s,r){return r}}),ye("border",{defaultValue:"0px solid #000",parser:function(t,e,i,s,n,a){return this.parseComplex(t.style,this.format(Q(t,"borderTopWidth",r,!1,"0px")+" "+Q(t,"borderTopStyle",r,!1,"solid")+" "+Q(t,"borderTopColor",r,!1,"#000")),this.format(e),n,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(_e)||["#000"])[0]}}),ye("borderWidth",{parser:ce("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ye("float,cssFloat,styleFloat",{parser:function(t,e,i,s,r){var n=t.style,a="cssFloat"in n?"cssFloat":"styleFloat";return new pe(n,a,0,0,r,-1,i,!1,0,n[a],e)}});var Xe=function(t){var e,i=this.t,s=i.filter||Q(this.data,"filter")||"",r=0|this.s+this.c*t;100===r&&(-1===s.indexOf("atrix(")&&-1===s.indexOf("radient(")&&-1===s.indexOf("oader(")?(i.removeAttribute("filter"),e=!Q(this.data,"filter")):(i.filter=s.replace(b,""),e=!0)),e||(this.xn1&&(i.filter=s=s||"alpha(opacity="+r+")"),-1===s.indexOf("pacity")?0===r&&this.xn1||(i.filter=s+" alpha(opacity="+r+")"):i.filter=s.replace(x,"opacity="+r))};ye("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,s,n,a){var o=parseFloat(Q(t,"opacity",r,!1,"1")),h=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),l&&1===o&&"hidden"===Q(t,"visibility",r)&&0!==e&&(o=0),j?n=new pe(h,"opacity",o,e-o,n):(n=new pe(h,"opacity",100*o,100*(e-o),n),n.xn1=l?1:0,h.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=a,n.setRatio=Xe),l&&(n=new pe(h,"visibility",0,0,n,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit"),n.xs0="inherit",s._overwriteProps.push(n.n),s._overwriteProps.push(i)),n
}});var Be=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(k,"-$1").toLowerCase())):t.removeAttribute(e))},Ye=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Be(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ye("className",{parser:function(t,e,s,n,a,o,h){var l,_,u,c,f,p=t.getAttribute("class")||"",m=t.style.cssText;if(a=n._classNamePT=new pe(t,s,0,0,a,2),a.setRatio=Ye,a.pr=-11,i=!0,a.b=p,_=K(t,r),u=t._gsClassPT){for(c={},f=u.data;f;)c[f.p]=1,f=f._next;u.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:p.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),l=J(t,_,K(t),h,c),t.setAttribute("class",p),a.data=l.firstMPT,t.style.cssText=m,a=a.xfirst=n.parse(t,l.difs,a,o)}});var je=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,s,r,n,a=this.t.style,o=h.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),s=e.length;--s>-1;)i=e[s],h[i]&&(h[i].parse===o?r=!0:i="transformOrigin"===i?ke:h[i].p),Be(a,i);r&&(Be(a,be),n=this.t._gsTransform,n&&(n.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(ye("clearProps",{parser:function(t,e,s,r,n){return n=new pe(t,s,0,0,n,2),n.setRatio=je,n.e=e,n.pr=-10,n.data=r._tween,i=!0,n}}),l="bezier,throwProps,physicsProps,physics2D".split(","),ge=l.length;ge--;)Te(l[ge]);l=a.prototype,l._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(t,e,o){if(!t.nodeType)return!1;this._target=t,this._tween=o,this._vars=e,_=e.autoRound,i=!1,s=e.suffixMap||a.suffixMap,r=Z(t,""),n=this._overwriteProps;var l,f,m,d,g,v,y,T,x,b=t.style;if(u&&""===b.zIndex&&(l=Q(t,"zIndex",r),("auto"===l||""===l)&&this._addLazySet(b,"zIndex",0)),"string"==typeof e&&(d=b.cssText,l=K(t,r),b.cssText=d+";"+e,l=J(t,l,K(t)).difs,!j&&w.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,b.cssText=d),this._firstPT=f=e.className?h.className.parse(t,e.className,"className",this,null,null,e):this.parse(t,e,null),this._transformType){for(x=3===this._transformType,be?c&&(u=!0,""===b.zIndex&&(y=Q(t,"zIndex",r),("auto"===y||""===y)&&this._addLazySet(b,"zIndex",0)),p&&this._addLazySet(b,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(x?"visible":"hidden"))):b.zoom=1,m=f;m&&m._next;)m=m._next;T=new pe(t,"transform",0,0,null,2),this._linkCSSP(T,null,m),T.setRatio=be?Le:Ee,T.data=this._transform||Ne(t,r,!0),T.tween=o,T.pr=-1,n.pop()}if(i){for(;f;){for(v=f._next,m=d;m&&m.pr>f.pr;)m=m._next;(f._prev=m?m._prev:g)?f._prev._next=f:d=f,(f._next=m)?m._prev=f:g=f,f=v}this._firstPT=d}return!0},l.parse=function(t,e,i,n){var a,o,l,u,c,f,p,m,d,g,v=t.style;for(a in e)f=e[a],o=h[a],o?i=o.parse(t,f,a,this,i,n,e):(c=Q(t,a,r)+"",d="string"==typeof f,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||d&&P.test(f)?(d||(f=le(f),f=(f.length>3?"rgba(":"rgb(")+f.join(",")+")"),i=de(v,a,c,f,!0,"transparent",i,0,n)):!d||-1===f.indexOf(" ")&&-1===f.indexOf(",")?(l=parseFloat(c),p=l||0===l?c.substr((l+"").length):"",(""===c||"auto"===c)&&("width"===a||"height"===a?(l=ie(t,a,r),p="px"):"left"===a||"top"===a?(l=H(t,a,r),p="px"):(l="opacity"!==a?0:1,p="")),g=d&&"="===f.charAt(1),g?(u=parseInt(f.charAt(0)+"1",10),f=f.substr(2),u*=parseFloat(f),m=f.replace(T,"")):(u=parseFloat(f),m=d?f.replace(T,""):""),""===m&&(m=a in s?s[a]:p),f=u||0===u?(g?u+l:u)+m:e[a],p!==m&&""!==m&&(u||0===u)&&l&&(l=$(t,a,l,p),"%"===m?(l/=$(t,a,100,"%")/100,e.strictUnits!==!0&&(c=l+"%")):"em"===m?l/=$(t,a,1,"em"):"px"!==m&&(u=$(t,a,u,m),m="px"),g&&(u||0===u)&&(f=u+l+m)),g&&(u+=l),!l&&0!==l||!u&&0!==u?void 0!==v[a]&&(f||"NaN"!=f+""&&null!=f)?(i=new pe(v,a,u||l||0,0,i,-1,a,!1,0,c,f),i.xs0="none"!==f||"display"!==a&&-1===a.indexOf("Style")?f:c):q("invalid "+a+" tween value: "+e[a]):(i=new pe(v,a,l,u-l,i,0,a,_!==!1&&("px"===m||"zIndex"===a),0,c,f),i.xs0=m)):i=de(v,a,c,f,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);return i},l.setRatio=function(t){var e,i,s,r=this._firstPT,n=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):n>e&&e>-n&&(e=0),r.type)if(1===r.type)if(s=r.l,2===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,s=1;r.l>s;s++)i+=r["xn"+s]+r["xs"+(s+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(s=r.l,i=r.xs0+e+r.xs1,s=1;r.l>s;s++)i+=r["xn"+s]+r["xs"+(s+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},l._enableTransforms=function(t){this._transform=this._transform||Ne(this._target,r,!0),this._transformType=this._transform.svg&&xe||!t&&3!==this._transformType?2:3};var Ue=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(t,e,i){var s=this._firstPT=new pe(t,e,0,0,this._firstPT,2);s.e=i,s.setRatio=Ue,s.data=this},l._linkCSSP=function(t,e,i,s){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,s=!0),i?i._next=t:s||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},l._kill=function(e){var i,s,r,n=e;if(e.autoAlpha||e.alpha){n={};for(s in e)n[s]=e[s];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,n)};var qe=function(t,e,i){var s,r,n,a;if(t.slice)for(r=t.length;--r>-1;)qe(t[r],e,i);else for(s=t.childNodes,r=s.length;--r>-1;)n=s[r],a=n.type,n.style&&(e.push(K(n)),i&&i.push(n)),1!==a&&9!==a&&11!==a||!n.childNodes.length||qe(n,e,i)};return a.cascadeTo=function(t,i,s){var r,n,a,o,h=e.to(t,i,s),l=[h],_=[],u=[],c=[],f=e._internals.reservedProps;for(t=h._targets||h.target,qe(t,_,c),h.render(i,!0,!0),qe(t,u),h.render(0,!0,!0),h._enabled(!0),r=c.length;--r>-1;)if(n=J(c[r],_[r],u[r]),n.firstMPT){n=n.difs;for(a in s)f[a]&&(n[a]=s[a]);o={};for(a in n)o[a]=_[r][a];l.push(e.fromTo(c[r],i,o,n))}return l},t.activate([a]),a},!0),function(){var t=_gsScope._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=t.prototype;e._onInitAllProps=function(){for(var t,e,i,s=this._tween,r=s.vars.roundProps instanceof Array?s.vars.roundProps:s.vars.roundProps.split(","),n=r.length,a={},o=s._propLookup.roundProps;--n>-1;)a[r[n]]=1;for(n=r.length;--n>-1;)for(t=r[n],e=s._firstPT;e;)i=e._next,e.pg?e.t._roundProps(a,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:s._firstPT===e&&(s._firstPT=i),e._next=e._prev=null,s._propLookup[t]=o),e=i;return!1},e._add=function(t,e,i,s){this._addTween(t,e,i,i+s,e,!0),this._overwriteProps.push(e)}}(),function(){var t=/(?:\d|\-|\+|=|#|\.)*/g,e=/[A-Za-z%]/g;_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.4.0",init:function(i,s){var r,n,a,o,h;if("function"!=typeof i.setAttribute)return!1;this._target=i,this._proxy={},this._start={},this._end={},this._suffix={};for(r in s)this._start[r]=this._proxy[r]=n=i.getAttribute(r)+"",this._end[r]=a=s[r]+"",this._suffix[r]=o=e.test(a)?a.replace(t,""):e.test(n)?n.replace(t,""):"",o&&(h=a.indexOf(o),-1!==h&&(a=a.substr(0,h))),this._addTween(this._proxy,r,parseFloat(n),a,r)||(this._suffix[r]=""),"="===a.charAt(1)&&(this._end[r]=this._firstPT.s+this._firstPT.c+o),this._overwriteProps.push(r);return!0},set:function(t){this._super.setRatio.call(this,t);for(var e,i=this._overwriteProps,s=i.length,r=1===t?this._end:t?this._proxy:this._start,n=r===this._proxy;--s>-1;)e=i[s],this._target.setAttribute(e,r[e]+(n?this._suffix[e]:""))}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,s,r,n,a,o,h=e.useRadians===!0?2*Math.PI:360,l=1e-6;for(i in e)"useRadians"!==i&&(o=(e[i]+"").split("_"),s=o[0],r=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),n=this.finals[i]="string"==typeof s&&"="===s.charAt(1)?r+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0,a=n-r,o.length&&(s=o.join("_"),-1!==s.indexOf("short")&&(a%=h,a!==a%(h/2)&&(a=0>a?a+h:a-h)),-1!==s.indexOf("_cw")&&0>a?a=(a+9999999999*h)%h-(0|a/h)*h:-1!==s.indexOf("ccw")&&a>0&&(a=(a-9999999999*h)%h-(0|a/h)*h)),(a>l||-l>a)&&(this._addTween(t,i,r,r+a,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,s,r=_gsScope.GreenSockGlobals||_gsScope,n=r.com.greensock,a=2*Math.PI,o=Math.PI/2,h=n._class,l=function(e,i){var s=h("easing."+e,function(){},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,s},_=t.register||function(){},u=function(t,e,i,s){var r=h("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new s},!0);return _(r,t),r},c=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},f=function(e,i){var s=h("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,r.config=function(t){return new s(t)},s},p=u("Back",f("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),f("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),f("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=h("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),d=m.prototype=new t;return d.constructor=m,d.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),d.config=m.config=function(t,e,i){return new m(t,e,i)},e=h("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),d=e.prototype=new t,d.constructor=e,d.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},d.config=e.config=function(t){return new e(t)},i=h("easing.RoughEase",function(e){e=e||{};for(var i,s,r,n,a,o,h=e.taper||"none",l=[],_=0,u=0|(e.points||20),f=u,p=e.randomize!==!1,m=e.clamp===!0,d=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--f>-1;)i=p?Math.random():1/u*f,s=d?d.getRatio(i):i,"none"===h?r=g:"out"===h?(n=1-i,r=n*n*g):"in"===h?r=i*i*g:.5>i?(n=2*i,r=.5*n*n*g):(n=2*(1-i),r=.5*n*n*g),p?s+=Math.random()*r-.5*r:f%2?s+=.5*r:s-=.5*r,m&&(s>1?s=1:0>s&&(s=0)),l[_++]={x:i,y:s};for(l.sort(function(t,e){return t.x-e.x}),o=new c(1,1,null),f=u;--f>-1;)a=l[f],o=new c(a.x,a.y,o);this._prev=new c(0,0,0!==o.t?o:o.next)},!0),d=i.prototype=new t,d.constructor=i,d.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},d.config=function(t){return new i(t)},i.ease=new i,u("Bounce",l("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),l("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),l("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),u("Circ",l("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),l("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),l("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),s=function(e,i,s){var r=h("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||s)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,n.config=function(t,e){return new r(t,e)},r},u("Elastic",s("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),s("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),s("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)+1},.45)),u("Expo",l("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),l("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),l("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),u("Sine",l("SineOut",function(t){return Math.sin(t*o)}),l("SineIn",function(t){return-Math.cos(t*o)+1}),l("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),h("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),_(r.SlowMo,"SlowMo","ease,"),_(i,"RoughEase","ease,"),_(e,"SteppedEase","ease,"),p},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var s,r,n,a,o,h=function(t){var e,s=t.split("."),r=i;for(e=0;s.length>e;e++)r[s[e]]=r=r[s[e]]||{};return r},l=h("com.greensock"),_=1e-10,u=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},c=function(){},f=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),p={},m=function(s,r,n,a){this.sc=p[s]?p[s].sc:[],p[s]=this,this.gsClass=null,this.func=n;var o=[];this.check=function(l){for(var _,u,c,f,d=r.length,g=d;--d>-1;)(_=p[r[d]]||new m(r[d],[])).gsClass?(o[d]=_.gsClass,g--):l&&_.sc.push(this);if(0===g&&n)for(u=("com.greensock."+s).split("."),c=u.pop(),f=h(u.join("."))[c]=this.gsClass=n.apply(n,o),a&&(i[c]=f,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+s.split(".").pop(),[],function(){return f}):s===e&&"undefined"!=typeof module&&module.exports&&(module.exports=f)),d=0;this.sc.length>d;d++)this.sc[d].check()},this.check(!0)},d=t._gsDefine=function(t,e,i,s){return new m(t,e,i,s)},g=l._class=function(t,e,i){return e=e||function(){},d(t,[],function(){return e},i),e};d.globals=i;var v=[0,0,1,1],y=[],T=g("easing.Ease",function(t,e,i,s){this._func=t,this._type=i||0,this._power=s||0,this._params=e?v.concat(e):v},!0),x=T.map={},w=T.register=function(t,e,i,s){for(var r,n,a,o,h=e.split(","),_=h.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--_>-1;)for(n=h[_],r=s?g("easing."+n,null,!0):l.easing[n]||{},a=u.length;--a>-1;)o=u[a],x[n+"."+o]=x[o+n]=r[o]=t.getRatio?t:t[o]||new t};for(n=T.prototype,n._calcEnd=!1,n.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,s=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?s*=s:2===i?s*=s*s:3===i?s*=s*s*s:4===i&&(s*=s*s*s*s),1===e?1-s:2===e?s:.5>t?s/2:1-s/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],r=s.length;--r>-1;)n=s[r]+",Power"+r,w(new T(null,null,1,r),n,"easeOut",!0),w(new T(null,null,2,r),n,"easeIn"+(0===r?",easeNone":"")),w(new T(null,null,3,r),n,"easeInOut");x.linear=l.easing.Linear.easeIn,x.swing=l.easing.Quad.easeInOut;var b=g("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});n=b.prototype,n.addEventListener=function(t,e,i,s,r){r=r||0;var n,h,l=this._listeners[t],_=0;for(null==l&&(this._listeners[t]=l=[]),h=l.length;--h>-1;)n=l[h],n.c===e&&n.s===i?l.splice(h,1):0===_&&r>n.pr&&(_=h+1);l.splice(_,0,{c:e,s:i,up:s,pr:r}),this!==a||o||a.wake()},n.removeEventListener=function(t,e){var i,s=this._listeners[t];if(s)for(i=s.length;--i>-1;)if(s[i].c===e)return s.splice(i,1),void 0},n.dispatchEvent=function(t){var e,i,s,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)s=r[e],s&&(s.up?s.c.call(s.s||i,{type:t,target:i}):s.c.call(s.s||i))};var P=t.requestAnimationFrame,k=t.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},R=S();for(s=["ms","moz","webkit","o"],r=s.length;--r>-1&&!P;)P=t[s[r]+"RequestAnimationFrame"],k=t[s[r]+"CancelAnimationFrame"]||t[s[r]+"CancelRequestAnimationFrame"];g("Ticker",function(t,e){var i,s,r,n,h,l=this,u=S(),f=e!==!1&&P,p=500,m=33,d="tick",g=function(t){var e,a,o=S()-R;o>p&&(u+=o-m),R+=o,l.time=(R-u)/1e3,e=l.time-h,(!i||e>0||t===!0)&&(l.frame++,h+=e+(e>=n?.004:n-e),a=!0),t!==!0&&(r=s(g)),a&&l.dispatchEvent(d)};b.call(l),l.time=l.frame=0,l.tick=function(){g(!0)},l.lagSmoothing=function(t,e){p=t||1/_,m=Math.min(e,p,0)},l.sleep=function(){null!=r&&(f&&k?k(r):clearTimeout(r),s=c,r=null,l===a&&(o=!1))},l.wake=function(){null!==r?l.sleep():l.frame>10&&(R=S()-p+5),s=0===i?c:f&&P?P:function(t){return setTimeout(t,0|1e3*(h-l.time)+1)},l===a&&(o=!0),g(2)},l.fps=function(t){return arguments.length?(i=t,n=1/(i||60),h=this.time+n,l.wake(),void 0):i},l.useRAF=function(t){return arguments.length?(l.sleep(),f=t,l.fps(i),void 0):f},l.fps(t),setTimeout(function(){f&&5>l.frame&&l.useRAF(!1)},1500)}),n=l.Ticker.prototype=new l.events.EventDispatcher,n.constructor=l.Ticker;var O=g("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,U){o||a.wake();var i=this.vars.useFrames?j:U;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=O.ticker=new l.Ticker,n=O.prototype,n._dirty=n._gc=n._initted=n._paused=!1,n._totalTime=n._time=0,n._rawPrevTime=-1,n._next=n._last=n._onUpdate=n._timeline=n.timeline=null,n._paused=!1;var A=function(){o&&S()-R>2e3&&a.wake(),setTimeout(A,2e3)};A(),n.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},n.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},n.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},n.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},n.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},n.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},n.render=function(){},n.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},n.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},n._enabled=function(t,e){return o||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},n._kill=function(){return this._enabled(!1,!1)},n.kill=function(t,e){return this._kill(t,e),this},n._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},n._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},n._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||y)},n.eventCallback=function(t,e,i,s){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=f(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=s),"onUpdate"===t&&(this._onUpdate=e)}return this},n.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},n.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},n.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},n.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},n.totalTime=function(t,e,i){if(o||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,r=this._timeline;if(t>s&&!i&&(t=s),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?s-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),I.length&&V())}return this},n.progress=n.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},n.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},n.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},n.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||_,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},n.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},n.paused=function(t){if(!arguments.length)return this._paused;var e,i,s=this._timeline;return t!=this._paused&&s&&(o||t||a.wake(),e=s.rawTime(),i=e-this._pauseTime,!t&&s.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&this.render(s.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,!0,!0)),this._gc&&!t&&this._enabled(!0,!1),this};var C=g("core.SimpleTimeline",function(t){O.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});n=C.prototype=new O,n.constructor=C,n.kill()._gc=!1,n._first=n._last=n._recent=null,n._sortChildren=!1,n.add=n.insert=function(t,e){var i,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(s=t._startTime;i&&i._startTime>s;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},n._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},n.render=function(t,e,i){var s,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)s=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s},n.rawTime=function(){return o||a.wake(),this._totalTime};var D=g("TweenLite",function(e,i,s){if(O.call(this,i,s),this.render=D.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:D.selector(e)||e;var r,n,a,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?Y[D.defaultOverwrite]:"number"==typeof h?h>>0:Y[h],(o||e instanceof Array||e.push&&f(e))&&"number"!=typeof e[0])for(this._targets=a=u(e),this._propLookup=[],this._siblings=[],r=0;a.length>r;r++)n=a[r],n?"string"!=typeof n?n.length&&n!==t&&n[0]&&(n[0]===t||n[0].nodeType&&n[0].style&&!n.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(u(n))):(this._siblings[r]=G(n,this,!1),1===h&&this._siblings[r].length>1&&Z(n,this,null,1,this._siblings[r])):(n=a[r--]=D.selector(n),"string"==typeof n&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=G(e,this,!1),1===h&&this._siblings.length>1&&Z(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-_,this.render(-this._delay))},!0),M=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},z=function(t,e){var i,s={};for(i in t)B[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!E[i]||E[i]&&E[i]._autoCSS)||(s[i]=t[i],delete t[i]);t.css=s};n=D.prototype=new O,n.constructor=D,n.kill()._gc=!1,n.ratio=0,n._firstPT=n._targets=n._overwrittenProps=n._startAt=null,n._notifyPluginsOfEnabled=n._lazy=!1,D.version="1.17.0",D.defaultEase=n._ease=new T(null,null,1,1),D.defaultOverwrite="auto",D.ticker=a,D.autoSleep=120,D.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},D.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(D.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var I=[],F={},N=D._internals={isArray:f,isSelector:M,lazyTweens:I},E=D._plugins={},L=N.tweenLookup={},X=0,B=N.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1},Y={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},j=O._rootFramesTimeline=new C,U=O._rootTimeline=new C,q=30,V=N.lazyRender=function(){var t,e=I.length;for(F={};--e>-1;)t=I[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);I.length=0};U._startTime=a.time,j._startTime=a.frame,U._active=j._active=!0,setTimeout(V,1),O._updateRoot=D.render=function(){var t,e,i;if(I.length&&V(),U.render((a.time-U._startTime)*U._timeScale,!1,!1),j.render((a.frame-j._startTime)*j._timeScale,!1,!1),I.length&&V(),a.frame>=q){q=a.frame+(parseInt(D.autoSleep,10)||120);for(i in L){for(e=L[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete L[i]}if(i=U._first,(!i||i._paused)&&D.autoSleep&&!j._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",O._updateRoot);var G=function(t,e,i){var s,r,n=t._gsTweenID;if(L[n||(t._gsTweenID=n="t"+X++)]||(L[n]={target:t,tweens:[]}),e&&(s=L[n].tweens,s[r=s.length]=e,i))for(;--r>-1;)s[r]===e&&s.splice(r,1);return L[n].tweens},W=function(t,e,i,s){var r,n,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,s)),a=D.onOverwrite,a&&(n=a(t,e,i,s)),r!==!1&&n!==!1},Z=function(t,e,i,s,r){var n,a,o,h;if(1===s||s>=4){for(h=r.length,n=0;h>n;n++)if((o=r[n])!==e)o._gc||o._kill(null,t,e)&&(a=!0);else if(5===s)break;return a}var l,u=e._startTime+_,c=[],f=0,p=0===e._duration;for(n=r.length;--n>-1;)(o=r[n])===e||o._gc||o._paused||(o._timeline!==e._timeline?(l=l||Q(e,0,p),0===Q(o,l,p)&&(c[f++]=o)):u>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>u&&((p||!o._initted)&&2e-10>=u-o._startTime||(c[f++]=o)));for(n=f;--n>-1;)if(o=c[n],2===s&&o._kill(i,t,e)&&(a=!0),2!==s||!o._firstPT&&o._initted){if(2!==s&&!W(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},Q=function(t,e,i){for(var s=t._timeline,r=s._timeScale,n=t._startTime;s._timeline;){if(n+=s._startTime,r*=s._timeScale,s._paused)return-100;s=s._timeline}return n/=r,n>e?n-e:i&&n===e||!t._initted&&2*_>n-e?_:(n+=t.totalDuration()/t._timeScale/r)>e+_?0:n-e-_};n._init=function(){var t,e,i,s,r,n=this.vars,a=this._overwrittenProps,o=this._duration,h=!!n.immediateRender,l=n.ease;if(n.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(s in n.startAt)r[s]=n.startAt[s];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=h&&n.lazy!==!1,r.startAt=r.delay=null,this._startAt=D.to(this.target,0,r),h)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(n.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(h=!1),i={};for(s in n)B[s]&&"autoCSS"!==s||(i[s]=n[s]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&n.lazy!==!1,i.immediateRender=h,this._startAt=D.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof T?l:"function"==typeof l?new T(l,n.easeParams):x[l]||D.defaultEase:D.defaultEase,n.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,n.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a);if(e&&D._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),n.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=n.onUpdate,this._initted=!0},n._initProps=function(e,i,s,r){var n,a,o,h,l,_;if(null==e)return!1;F[e._gsTweenID]&&V(),this.vars.css||e.style&&e!==t&&e.nodeType&&E.css&&this.vars.autoCSS!==!1&&z(this.vars,e);for(n in this.vars){if(_=this.vars[n],B[n])_&&(_ instanceof Array||_.push&&f(_))&&-1!==_.join("").indexOf("{self}")&&(this.vars[n]=_=this._swapSelfInParams(_,this));else if(E[n]&&(h=new E[n])._onInitTween(e,this.vars[n],this)){for(this._firstPT=l={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:!0,n:n,pg:!0,pr:h._priority},a=h._overwriteProps.length;--a>-1;)i[h._overwriteProps[a]]=this._firstPT;(h._priority||h._onInitAllProps)&&(o=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[n]=l={_next:this._firstPT,t:e,p:n,f:"function"==typeof e[n],n:n,pg:!1,pr:0},l.s=l.f?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),l.c="string"==typeof _&&"="===_.charAt(1)?parseInt(_.charAt(0)+"1",10)*Number(_.substr(2)):Number(_)-l.s||0;l&&l._next&&(l._next._prev=l)}return r&&this._kill(r,e)?this._initProps(e,i,s,r):this._overwrite>1&&this._firstPT&&s.length>1&&Z(e,this,i,this._overwrite,s)?(this._kill(i,e),this._initProps(e,i,s,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(F[e._gsTweenID]=!0),o)
},n.render=function(t,e,i){var s,r,n,a,o=this._time,h=this._duration,l=this._rawPrevTime;if(t>=h)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>l||l===_&&"isPause"!==this.data)&&l!==t&&(i=!0,l>_&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:_);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===h&&l>0)&&(r="onReverseComplete",s=this._reversed),0>t&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(l!==_||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||l===t?t:_)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/h,c=this._easeType,f=this._easePower;(1===c||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===f?u*=u:2===f?u*=u*u:3===f?u*=u*u*u:4===f&&(u*=u*u*u*u),this.ratio=1===c?1-u:2===c?u:.5>t/h?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=l,I.push(this),this._lazy=[t,e],void 0;this._time&&!s?this.ratio=this._ease.getRatio(this._time/h):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===h)&&(e||this._callback("onStart"))),n=this._firstPT;n;)n.f?n.t[n.p](n.c*this.ratio+n.s):n.t[n.p]=n.c*this.ratio+n.s,n=n._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==o||s)&&this._callback("onUpdate")),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===h&&this._rawPrevTime===_&&a!==_&&(this._rawPrevTime=0))}},n._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:D.selector(e)||e;var s,r,n,a,o,h,l,_,u,c=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((f(e)||M(e))&&"number"!=typeof e[0])for(s=e.length;--s>-1;)this._kill(t,e[s],i)&&(h=!0);else{if(this._targets){for(s=this._targets.length;--s>-1;)if(e===this._targets[s]){o=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(l=t||o,_=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(D.onOverwrite||this.vars.onOverwrite)){for(n in l)o[n]&&(u||(u=[]),u.push(n));if((u||!t)&&!W(this,i,e,u))return!1}for(n in l)(a=o[n])&&(c&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,h=!0),a.pg&&a.t._kill(l)&&(h=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[n]),_&&(r[n]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},n.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_,this.render(-this._delay)),this},n._enabled=function(t,e){if(o||a.wake(),t&&this._gc){var i,s=this._targets;if(s)for(i=s.length;--i>-1;)this._siblings[i]=G(s[i],this,!0);else this._siblings=G(this.target,this,!0)}return O.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?D._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},D.to=function(t,e,i){return new D(t,e,i)},D.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new D(t,e,i)},D.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new D(t,e,s)},D.delayedCall=function(t,e,i,s,r){return new D(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:s,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},D.set=function(t,e){return new D(t,0,e)},D.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:D.selector(t)||t;var i,s,r,n;if((f(t)||M(t))&&"number"!=typeof t[0]){for(i=t.length,s=[];--i>-1;)s=s.concat(D.getTweensOf(t[i],e));for(i=s.length;--i>-1;)for(n=s[i],r=i;--r>-1;)n===s[r]&&s.splice(i,1)}else for(s=G(t).concat(),i=s.length;--i>-1;)(s[i]._gc||e&&!s[i].isActive())&&s.splice(i,1);return s},D.killTweensOf=D.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var s=D.getTweensOf(t,e),r=s.length;--r>-1;)s[r]._kill(i,t)};var $=g("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=$.prototype},!0);if(n=$.prototype,$.version="1.10.1",$.API=2,n._firstPT=null,n._addTween=function(t,e,i,s,r,n){var a,o;return null!=s&&(a="number"==typeof s||"="!==s.charAt(1)?Number(s)-Number(i):parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)))?(this._firstPT=o={_next:this._firstPT,t:t,p:e,s:i,c:a,f:"function"==typeof t[e],n:r||e,r:n},o._next&&(o._next._prev=o),o):void 0},n.setRatio=function(t){for(var e,i=this._firstPT,s=1e-6;i;)e=i.c*t+i.s,i.r?e=Math.round(e):s>e&&e>-s&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},n._kill=function(t){var e,i=this._overwriteProps,s=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;s;)null!=t[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},n._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},D._onPluginEvent=function(t,e){var i,s,r,n,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,s=r;s&&s.pr>o.pr;)s=s._next;(o._prev=s?s._prev:n)?o._prev._next=o:r=o,(o._next=s)?s._prev=o:n=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},$.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===$.API&&(E[(new t[e])._propName]=t[e]);return!0},d.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,s=t.priority||0,r=t.overwriteProps,n={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=g("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){$.call(this,i,s),this._overwriteProps=r||[]},t.global===!0),o=a.prototype=new $(i);o.constructor=a,a.API=t.API;for(e in n)"function"==typeof t[e]&&(o[n[e]]=t[e]);return a.version=t.version,$.activate([a]),a},s=t._gsQueue){for(r=0;s.length>r;r++)s[r]();for(n in p)p[n].func||t.console.log("GSAP encountered missing dependency: com.greensock."+n)}o=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");
/*!
 * VERSION: 1.17.0
 * DATE: 2015-05-27
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var s=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,n=e._internals,a=n.lazyTweens,o=n.lazyRender,h=new i(null,null,1,0),l=s.prototype=new t;return l.constructor=s,l.kill()._gc=!1,s.version="1.17.0",l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},l.addCallback=function(t,i,s,r){return this.add(e.delayedCall(0,t,s,r),i)},l.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),s=i.length,r=this._parseTimeOrLabel(e);--s>-1;)i[s]._startTime===r&&i[s]._enabled(!1,!1);return this},l.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},l.tweenTo=function(t,i){i=i||{};var s,r,n,a={ease:h,useFrames:this.usesFrames(),immediateRender:!1};for(r in i)a[r]=i[r];return a.time=this._parseTimeOrLabel(t),s=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,n=new e(this,s,a),a.onStart=function(){n.target.paused(!0),n.vars.time!==n.target.time()&&s===n.duration()&&n.duration(Math.abs(n.vars.time-n.target.time())/n.target._timeScale),i.onStart&&n._callback("onStart")},n},l.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var s=this.tweenTo(e,i);return s.duration(Math.abs(s.vars.time-t)/this._timeScale||.001)},l.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,n,h,l,_,u,c=this._dirty?this.totalDuration():this._totalDuration,f=this._duration,m=this._time,p=this._totalTime,d=this._startTime,g=this._timeScale,v=this._rawPrevTime,y=this._paused,T=this._cycle;if(t>=c)this._locked||(this._totalTime=c,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(n=!0,l="onComplete",_=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>v||v===r)&&v!==t&&this._first&&(_=!0,v>r&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=f,t=f+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===f&&v!==r&&(v>0||0>t&&v>=0)&&!this._locked)&&(l="onReverseComplete",n=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(_=n=!0,l="onReverseComplete"):v>=0&&this._first&&(_=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=f||!e||t||this._rawPrevTime===t?t:r,0===t&&n)for(s=this._first;s&&0===s._startTime;)s._duration||(n=!1),s=s._next;t=0,this._initted||(_=!0)}else 0===f&&0>v&&(_=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(u=f+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=f-this._time),this._time>f?(this._time=f,t=f+1e-4):0>this._time?this._time=t=0:t=this._time));if(this._cycle!==T&&!this._locked){var w=this._yoyo&&0!==(1&T),b=w===(this._yoyo&&0!==(1&this._cycle)),x=this._totalTime,P=this._cycle,S=this._rawPrevTime,k=this._time;if(this._totalTime=T*f,T>this._cycle?w=!w:this._totalTime+=f,this._time=m,this._rawPrevTime=0===f?v-1e-4:v,this._cycle=T,this._locked=!0,m=w?0:f,this.render(m,e,0===f),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),b&&(m=w?f+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!y)return;this._time=k,this._totalTime=x,this._cycle=P,this._rawPrevTime=S}if(!(this._time!==m&&this._first||i||_))return p!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")),void 0;if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._totalTime&&(e||this._callback("onStart")),this._time>=m)for(s=this._first;s&&(h=s._next,!this._paused||y);)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=h;else for(s=this._last;s&&(h=s._prev,!this._paused||y);)(s._active||m>=s._startTime&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=h;this._onUpdate&&(e||(a.length&&o(),this._callback("onUpdate"))),l&&(this._locked||this._gc||(d===this._startTime||g!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(n&&(a.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))},l.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var s,r,n=[],a=this.getChildren(t,e,i),o=0,h=a.length;for(s=0;h>s;s++)r=a[s],r.isActive()&&(n[o++]=r);return n},l.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),s=i.length;for(e=0;s>e;e++)if(i[e].time>t)return i[e].name;return null},l.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(t>e[i].time)return e[i].name;return null},l.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},l.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},s},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var s=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,s,r=this.vars;for(s in r)i=r[s],h(i)&&-1!==i.join("").indexOf("{self}")&&(r[s]=this._swapSelfInParams(i));h(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,n=i._internals,a=s._internals={},o=n.isSelector,h=n.isArray,l=n.lazyTweens,_=n.lazyRender,u=[],c=_gsScope._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},m=a.pauseCallback=function(t,e,i,s){var n,a=t._timeline,o=a._totalTime,h=t._startTime,l=0>t._rawPrevTime||0===t._rawPrevTime&&a._reversed,_=l?0:r,c=l?r:0;if(e||!this._forcingPlayhead){for(a.pause(h),n=t._prev;n&&n._startTime===h;)n._rawPrevTime=c,n=n._prev;for(n=t._next;n&&n._startTime===h;)n._rawPrevTime=_,n=n._next;e&&e.apply(s||a.vars.callbackScope||a,i||u),(this._forcingPlayhead||!a._paused)&&a.seek(o)}},p=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},d=s.prototype=new e;return s.version="1.17.0",d.constructor=s,d.kill()._gc=d._forcingPlayhead=!1,d.to=function(t,e,s,r){var n=s.repeat&&c.TweenMax||i;return e?this.add(new n(t,e,s),r):this.set(t,s,r)},d.from=function(t,e,s,r){return this.add((s.repeat&&c.TweenMax||i).from(t,e,s),r)},d.fromTo=function(t,e,s,r,n){var a=r.repeat&&c.TweenMax||i;return e?this.add(a.fromTo(t,e,s,r),n):this.set(t,r,n)},d.staggerTo=function(t,e,r,n,a,h,l,_){var u,c=new s({onComplete:h,onCompleteParams:l,callbackScope:_,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],o(t)&&(t=p(t)),n=n||0,0>n&&(t=p(t),t.reverse(),n*=-1),u=0;t.length>u;u++)r.startAt&&(r.startAt=f(r.startAt)),c.to(t[u],e,f(r),u*n);return this.add(c,a)},d.staggerFrom=function(t,e,i,s,r,n,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,s,r,n,a,o)},d.staggerFromTo=function(t,e,i,s,r,n,a,o,h){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,s,r,n,a,o,h)},d.call=function(t,e,s,r){return this.add(i.delayedCall(0,t,e,s),r)},d.set=function(t,e,s){return s=this._parseTimeOrLabel(s,0,!0),null==e.immediateRender&&(e.immediateRender=s===this._time&&!this._paused),this.add(new i(t,0,e),s)},s.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,n,a=new s(t),o=a._timeline;for(null==e&&(e=!0),o._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=o._time,r=o._first;r;)n=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=n;return o.add(a,0),a},d.add=function(r,n,a,o){var l,_,u,c,f,m;if("number"!=typeof n&&(n=this._parseTimeOrLabel(n,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&h(r)){for(a=a||"normal",o=o||0,l=n,_=r.length,u=0;_>u;u++)h(c=r[u])&&(c=new s({tweens:c})),this.add(c,l),"string"!=typeof c&&"function"!=typeof c&&("sequence"===a?l=c._startTime+c.totalDuration()/c._timeScale:"start"===a&&(c._startTime-=c.delay())),l+=o;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,n);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,n),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=this,m=f.rawTime()>r._startTime;f._timeline;)m&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},d.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&h(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},d._remove=function(t,i){e.prototype._remove.call(this,t,i);var s=this._last;return s?this._time>s._startTime+s._totalDuration/s._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},d.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},d.insert=d.insertMultiple=function(t,e,i,s){return this.add(t,e||0,i,s)},d.appendMultiple=function(t,e,i,s){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,s)},d.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},d.addPause=function(t,e,s,r){var n=i.delayedCall(0,m,["{self}",e,s,r],this);return n.data="isPause",this.add(n,t)},d.removeLabel=function(t){return delete this._labels[t],this},d.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},d._parseTimeOrLabel=function(e,i,s,r){var n;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&h(r)))for(n=r.length;--n>-1;)r[n]instanceof t&&r[n].timeline===this&&this.remove(r[n]);if("string"==typeof i)return this._parseTimeOrLabel(i,s&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,s);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(n=e.indexOf("="),-1===n)return null==this._labels[e]?s?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(n-1)+"1",10)*Number(e.substr(n+1)),e=n>1?this._parseTimeOrLabel(e.substr(0,n-1),0,s):this.duration()}return Number(e)+i},d.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},d.stop=function(){return this.paused(!0)},d.gotoAndPlay=function(t,e){return this.play(t,e)},d.gotoAndStop=function(t,e){return this.pause(t,e)},d.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,n,a,o,h,u=this._dirty?this.totalDuration():this._totalDuration,c=this._time,f=this._startTime,m=this._timeScale,p=this._paused;if(t>=u)this._totalTime=this._time=u,this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(h=!0,this._rawPrevTime>r&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=u+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==c||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(o="onReverseComplete",n=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=n=!0,o="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&n)for(s=this._first;s&&0===s._startTime;)s._duration||(n=!1),s=s._next;t=0,this._initted||(h=!0)}else this._totalTime=this._time=this._rawPrevTime=t;if(this._time!==c&&this._first||i||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==c&&t>0&&(this._active=!0),0===c&&this.vars.onStart&&0!==this._time&&(e||this._callback("onStart")),this._time>=c)for(s=this._first;s&&(a=s._next,!this._paused||p);)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;else for(s=this._last;s&&(a=s._prev,!this._paused||p);)(s._active||c>=s._startTime&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;this._onUpdate&&(e||(l.length&&_(),this._callback("onUpdate"))),o&&(this._gc||(f===this._startTime||m!==this._timeScale)&&(0===this._time||u>=this.totalDuration())&&(n&&(l.length&&_(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o)))}},d._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof s&&t._hasPausedChild())return!0;t=t._next}return!1},d.getChildren=function(t,e,s,r){r=r||-9999999999;for(var n=[],a=this._first,o=0;a;)r>a._startTime||(a instanceof i?e!==!1&&(n[o++]=a):(s!==!1&&(n[o++]=a),t!==!1&&(n=n.concat(a.getChildren(!0,e,s)),o=n.length))),a=a._next;return n},d.getTweensOf=function(t,e){var s,r,n=this._gc,a=[],o=0;for(n&&this._enabled(!0,!0),s=i.getTweensOf(t),r=s.length;--r>-1;)(s[r].timeline===this||e&&this._contains(s[r]))&&(a[o++]=s[r]);return n&&this._enabled(!1,!0),a},d.recent=function(){return this._recent},d._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},d.shiftChildren=function(t,e,i){i=i||0;for(var s,r=this._first,n=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(s in n)n[s]>=i&&(n[s]+=t);return this._uncache(!0)},d._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),s=i.length,r=!1;--s>-1;)i[s]._kill(t,e)&&(r=!0);return r},d.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},d.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},d._enabled=function(t,i){if(t===this._gc)for(var s=this._first;s;)s._enabled(t,!0),s=s._next;return e.prototype._enabled.call(this,t,i)},d.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},d.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},d.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,s=0,r=this._last,n=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>n&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):n=r._startTime,0>r._startTime&&!r._paused&&(s-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),n=0),i=r._startTime+r._totalDuration/r._timeScale,i>s&&(s=i),r=e;this._duration=this._totalDuration=s,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},d.paused=function(e){if(!e)for(var i=this._first,s=this._time;i;)i._startTime===s&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},d.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},d.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},s},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=e())}("TimelineMax");
/*!
 * VERSION: 1.17.0
 * DATE: 2015-05-27
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,r,s,n,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o=_gsScope._gsDefine.globals,l={},h=a.prototype=new t("css");h.constructor=a,a.version="1.17.0",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,h="px",a.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var u,f,c,p,_,d,m=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,b=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,S=/([A-Z])/g,O=/-([a-z])/gi,k=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,C=function(t,e){return e.toUpperCase()},R=/(?:Left|Right|Width)/i,A=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,M=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,N=Math.PI/180,L=180/Math.PI,F={},X=document,z=function(t){return X.createElementNS?X.createElementNS("http://www.w3.org/1999/xhtml",t):X.createElement(t)},B=z("div"),E=z("img"),I=a._internals={_specialProps:l},Y=navigator.userAgent,W=function(){var t=Y.indexOf("Android"),e=z("a");return c=-1!==Y.indexOf("Safari")&&-1===Y.indexOf("Chrome")&&(-1===t||Number(Y.substr(t+8,1))>3),_=c&&6>Number(Y.substr(Y.indexOf("Version/")+8,1)),p=-1!==Y.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Y)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Y))&&(d=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),V=function(t){return T.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},j=function(t){window.console&&console.log(t)},G="",U="",q=function(t,e){e=e||B;var i,r,s=e.style;if(void 0!==s[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===s[i[r]+t];);return r>=0?(U=3===r?"ms":i[r],G="-"+U.toLowerCase()+"-",U+t):null},H=X.defaultView?X.defaultView.getComputedStyle:function(){},Q=a.getStyle=function(t,e,i,r,s){var n;return W||"opacity"!==e?(!r&&t.style[e]?n=t.style[e]:(i=i||H(t))?n=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(S,"-$1").toLowerCase()):t.currentStyle&&(n=t.currentStyle[e]),null==s||n&&"none"!==n&&"auto"!==n&&"auto auto"!==n?n:s):V(t)},Z=I.convertToPixels=function(t,i,r,s,n){if("px"===s||!s)return r;if("auto"===s||!r)return 0;var o,l,h,u=R.test(i),f=t,c=B.style,p=0>r;if(p&&(r=-r),"%"===s&&-1!==i.indexOf("border"))o=r/100*(u?t.clientWidth:t.clientHeight);else{if(c.cssText="border:0 solid red;position:"+Q(t,"position")+";line-height:0;","%"!==s&&f.appendChild)c[u?"borderLeftWidth":"borderTopWidth"]=r+s;else{if(f=t.parentNode||X.body,l=f._gsCache,h=e.ticker.frame,l&&u&&l.time===h)return l.width*r/100;c[u?"width":"height"]=r+s}f.appendChild(B),o=parseFloat(B[u?"offsetWidth":"offsetHeight"]),f.removeChild(B),u&&"%"===s&&a.cacheWidths!==!1&&(l=f._gsCache=f._gsCache||{},l.time=h,l.width=100*(o/r)),0!==o||n||(o=Z(t,i,r,s,!0))}return p?-o:o},$=I.calculateOffset=function(t,e,i){if("absolute"!==Q(t,"position",i))return 0;var r="left"===e?"Left":"Top",s=Q(t,"margin"+r,i);return t["offset"+r]-(Z(t,e,parseFloat(s),s.replace(x,""))||0)},K=function(t,e){var i,r,s,n={};if(e=e||H(t,null))if(i=e.length)for(;--i>-1;)s=e[i],(-1===s.indexOf("-transform")||Pe===s)&&(n[s.replace(O,C)]=e.getPropertyValue(s));else for(i in e)(-1===i.indexOf("Transform")||be===i)&&(n[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===n[i]&&(n[i.replace(O,C)]=e[i]);return W||(n.opacity=V(t)),r=Xe(t,e,!1),n.rotation=r.rotation,n.skewX=r.skewX,n.scaleX=r.scaleX,n.scaleY=r.scaleY,n.x=r.x,n.y=r.y,Oe&&(n.z=r.z,n.rotationX=r.rotationX,n.rotationY=r.rotationY,n.scaleZ=r.scaleZ),n.filters&&delete n.filters,n},J=function(t,e,i,r,s){var n,a,o,l={},h=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(n=i[a])||s&&s[a])&&-1===a.indexOf("Origin")&&("number"==typeof n||"string"==typeof n)&&(l[a]="auto"!==n||"left"!==a&&"top"!==a?""!==n&&"auto"!==n&&"none"!==n||"string"!=typeof e[a]||""===e[a].replace(y,"")?n:0:$(t,a),void 0!==h[a]&&(o=new pe(h,a,h[a],o)));if(r)for(a in r)"className"!==a&&(l[a]=r[a]);return{difs:l,firstMPT:o}},te={width:["Left","Right"],height:["Top","Bottom"]},ee=["marginLeft","marginRight","marginTop","marginBottom"],ie=function(t,e,i){var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),s=te[e],n=s.length;for(i=i||H(t,null);--n>-1;)r-=parseFloat(Q(t,"padding"+s[n],i,!0))||0,r-=parseFloat(Q(t,"border"+s[n]+"Width",i,!0))||0;return r},re=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==s?s="center"===r?"50%":"0":"center"===s&&(s="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+s+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(r.replace(y,"")),e.oy=parseFloat(s.replace(y,"")),e.v=t),e||t},se=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ne=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},ae=function(t,e,i,r){var s,n,a,o,l,h=1e-6;return null==t?o=e:"number"==typeof t?o=t:(s=360,n=t.split("_"),l="="===t.charAt(1),a=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===t.indexOf("rad")?1:L)-(l?0:e),n.length&&(r&&(r[i]=e+a),-1!==t.indexOf("short")&&(a%=s,a!==a%(s/2)&&(a=0>a?a+s:a-s)),-1!==t.indexOf("_cw")&&0>a?a=(a+9999999999*s)%s-(0|a/s)*s:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*s)%s-(0|a/s)*s)),o=e+a),h>o&&o>-h&&(o=0),o},oe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},le=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},he=a.parseColor=function(t){var e,i,r,s,n,a;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),oe[t]?oe[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),r=t.charAt(3),t="#"+e+e+i+i+r+r),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(m),s=Number(t[0])%360/360,n=Number(t[1])/100,a=Number(t[2])/100,i=.5>=a?a*(n+1):a+n-a*n,e=2*a-i,t.length>3&&(t[3]=Number(t[3])),t[0]=le(s+1/3,e,i),t[1]=le(s,e,i),t[2]=le(s-1/3,e,i),t):(t=t.match(m)||oe.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):oe.black},ue="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(h in oe)ue+="|"+h+"\\b";ue=RegExp(ue+")","gi");var fe=function(t,e,i,r){if(null==t)return function(t){return t};var s,n=e?(t.match(ue)||[""])[0]:"",a=t.split(n).join("").match(v)||[],o=t.substr(0,t.indexOf(a[0])),l=")"===t.charAt(t.length-1)?")":"",h=-1!==t.indexOf(" ")?" ":",",u=a.length,f=u>0?a[0].replace(m,""):"";return u?s=e?function(t){var e,c,p,_;if("number"==typeof t)t+=f;else if(r&&D.test(t)){for(_=t.replace(D,"|").split("|"),p=0;_.length>p;p++)_[p]=s(_[p]);return _.join(",")}if(e=(t.match(ue)||[n])[0],c=t.split(e).join("").match(v)||[],p=c.length,u>p--)for(;u>++p;)c[p]=i?c[0|(p-1)/2]:a[p];return o+c.join(h)+h+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,n,c;if("number"==typeof t)t+=f;else if(r&&D.test(t)){for(n=t.replace(D,"|").split("|"),c=0;n.length>c;c++)n[c]=s(n[c]);return n.join(",")}if(e=t.match(v)||[],c=e.length,u>c--)for(;u>++c;)e[c]=i?e[0|(c-1)/2]:a[c];return o+e.join(h)+l}:function(t){return t}},ce=function(t){return t=t.split(","),function(e,i,r,s,n,a,o){var l,h=(i+"").split(" ");for(o={},l=0;4>l;l++)o[t[l]]=h[l]=h[l]||h[(l-1)/2>>0];return s.parse(e,o,n,a)}},pe=(I._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,r,s,n=this.data,a=n.proxy,o=n.firstMPT,l=1e-6;o;)e=a[o.v],o.r?e=Math.round(e):l>e&&e>-l&&(e=0),o.t[o.p]=e,o=o._next;if(n.autoRotate&&(n.autoRotate.rotation=a.rotation),1===t)for(o=n.firstMPT;o;){if(i=o.t,i.type){if(1===i.type){for(s=i.xs0+i.s+i.xs1,r=1;i.l>r;r++)s+=i["xn"+r]+i["xs"+(r+1)];i.e=s}}else i.e=i.s+i.xs0;o=o._next}},function(t,e,i,r,s){this.t=t,this.p=e,this.v=i,this.r=s,r&&(r._prev=this,this._next=r)}),_e=(I._parseToProxy=function(t,e,i,r,s,n){var a,o,l,h,u,f=r,c={},p={},_=i._transform,d=F;for(i._transform=null,F=e,r=u=i.parse(t,e,r,s),F=d,n&&(i._transform=_,f&&(f._prev=null,f._prev&&(f._prev._next=null)));r&&r!==f;){if(1>=r.type&&(o=r.p,p[o]=r.s+r.c,c[o]=r.s,n||(h=new pe(r,"s",o,h,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)l="xn"+a,o=r.p+"_"+l,p[o]=r.data[l],c[o]=r[l],n||(h=new pe(r,l,o,h,r.rxp[l]));r=r._next}return{proxy:c,end:p,firstMPT:h,pt:u}},I.CSSPropTween=function(t,e,r,s,a,o,l,h,u,f,c){this.t=t,this.p=e,this.s=r,this.c=s,this.n=l||e,t instanceof _e||n.push(this.n),this.r=h,this.type=o||0,u&&(this.pr=u,i=!0),this.b=void 0===f?r:f,this.e=void 0===c?r+s:c,a&&(this._next=a,a._prev=this)}),de=function(t,e,i,r,s,n){var a=new _e(t,e,i,r-i,s,-1,n);return a.b=i,a.e=a.xs0=r,a},me=a.parseComplex=function(t,e,i,r,s,n,a,o,l,h){i=i||n||"",a=new _e(t,e,0,0,a,h?2:1,null,!1,o,i,r),r+="";var f,c,p,_,d,v,y,x,T,w,b,S,O=i.split(", ").join(",").split(" "),k=r.split(", ").join(",").split(" "),C=O.length,R=u!==!1;for((-1!==r.indexOf(",")||-1!==i.indexOf(","))&&(O=O.join(" ").replace(D,", ").split(" "),k=k.join(" ").replace(D,", ").split(" "),C=O.length),C!==k.length&&(O=(n||"").split(" "),C=O.length),a.plugin=l,a.setRatio=h,f=0;C>f;f++)if(_=O[f],d=k[f],x=parseFloat(_),x||0===x)a.appendXtra("",x,se(d,x),d.replace(g,""),R&&-1!==d.indexOf("px"),!0);else if(s&&("#"===_.charAt(0)||oe[_]||P.test(_)))S=","===d.charAt(d.length-1)?"),":")",_=he(_),d=he(d),T=_.length+d.length>6,T&&!W&&0===d[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(k[f]).join("transparent")):(W||(T=!1),a.appendXtra(T?"rgba(":"rgb(",_[0],d[0]-_[0],",",!0,!0).appendXtra("",_[1],d[1]-_[1],",",!0).appendXtra("",_[2],d[2]-_[2],T?",":S,!0),T&&(_=4>_.length?1:_[3],a.appendXtra("",_,(4>d.length?1:d[3])-_,S,!1)));else if(v=_.match(m)){if(y=d.match(g),!y||y.length!==v.length)return a;for(p=0,c=0;v.length>c;c++)b=v[c],w=_.indexOf(b,p),a.appendXtra(_.substr(p,w-p),Number(b),se(y[c],b),"",R&&"px"===_.substr(w+b.length,2),0===c),p=w+b.length;a["xs"+a.l]+=_.substr(p)}else a["xs"+a.l]+=a.l?" "+_:_;if(-1!==r.indexOf("=")&&a.data){for(S=a.xs0+a.data.s,f=1;a.l>f;f++)S+=a["xs"+f]+a.data["xn"+f];a.e=S+a["xs"+f]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},ge=9;for(h=_e.prototype,h.l=h.pr=0;--ge>0;)h["xn"+ge]=0,h["xs"+ge]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,r,s,n){var a=this,o=a.l;return a["xs"+o]+=n&&o?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=s,a["xn"+o]=e,a.plugin||(a.xfirst=new _e(a,"xn"+o,e,i,a.xfirst||a,0,a.n,s,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=s,a)):(a["xs"+o]+=e+(r||""),a)};var ve=function(t,e){e=e||{},this.p=e.prefix?q(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||fe(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},ye=I._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var r,s,n=t.split(","),a=e.defaultValue;for(i=i||[a],r=0;n.length>r;r++)e.prefix=0===r&&e.prefix,e.defaultValue=i[r]||a,s=new ve(n[r],e)},xe=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";ye(t,{parser:function(t,i,r,s,n,a,h){var u=o.com.greensock.plugins[e];return u?(u._cssRegister(),l[r].parse(t,i,r,s,n,a,h)):(j("Error: "+e+" js file not loaded."),n)}})}};h=ve.prototype,h.parseComplex=function(t,e,i,r,s,n){var a,o,l,h,u,f,c=this.keyword;if(this.multi&&(D.test(i)||D.test(e)?(o=e.replace(D,"|").split("|"),l=i.replace(D,"|").split("|")):c&&(o=[e],l=[i])),l){for(h=l.length>o.length?l.length:o.length,a=0;h>a;a++)e=o[a]=o[a]||this.dflt,i=l[a]=l[a]||this.dflt,c&&(u=e.indexOf(c),f=i.indexOf(c),u!==f&&(-1===f?o[a]=o[a].split(c).join(""):-1===u&&(o[a]+=" "+c)));e=o.join(", "),i=l.join(", ")}return me(t,this.p,e,i,this.clrs,this.dflt,r,this.pr,s,n)},h.parse=function(t,e,i,r,n,a){return this.parseComplex(t.style,this.format(Q(t,this.p,s,!1,this.dflt)),this.format(e),n,a)},a.registerSpecialProp=function(t,e,i){ye(t,{parser:function(t,r,s,n,a,o){var l=new _e(t,s,0,0,a,2,s,!1,i);return l.plugin=o,l.setRatio=e(t,r,n._tween,s),l},priority:i})},a.useSVGTransformAttr=c||p;var Te,we="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),be=q("transform"),Pe=G+"transform",Se=q("transformOrigin"),Oe=null!==q("perspective"),ke=I.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Oe?a.defaultForce3D||"auto":!1},Ce=window.SVGElement,Re=function(t,e,i){var r,s=X.createElementNS("http://www.w3.org/2000/svg",t),n=/([a-z])([A-Z])/g;for(r in i)s.setAttributeNS(null,r.replace(n,"$1-$2").toLowerCase(),i[r]);return e.appendChild(s),s},Ae=X.documentElement,Me=function(){var t,e,i,r=d||/Android/i.test(Y)&&!window.chrome;return X.createElementNS&&!r&&(t=Re("svg",Ae),e=Re("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Se]="50% 50%",e.style[be]="scaleX(0.5)",r=i===e.getBoundingClientRect().width&&!(p&&Oe),Ae.removeChild(t)),r}(),De=function(t,e,i,r,s){var n,o,l,h,u,f,c,p,_,d,m,g,v,y,x=t._gsTransform,T=Fe(t,!0);x&&(v=x.xOrigin,y=x.yOrigin),(!r||2>(n=r.split(" ")).length)&&(c=t.getBBox(),e=re(e).split(" "),n=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*c.width:parseFloat(e[0]))+c.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*c.height:parseFloat(e[1]))+c.y]),i.xOrigin=h=parseFloat(n[0]),i.yOrigin=u=parseFloat(n[1]),r&&T!==Le&&(f=T[0],c=T[1],p=T[2],_=T[3],d=T[4],m=T[5],g=f*_-c*p,o=h*(_/g)+u*(-p/g)+(p*m-_*d)/g,l=h*(-c/g)+u*(f/g)-(f*m-c*d)/g,h=i.xOrigin=n[0]=o,u=i.yOrigin=n[1]=l),x&&(s||s!==!1&&a.defaultSmoothOrigin!==!1?(o=h-v,l=u-y,x.xOffset+=o*T[0]+l*T[2]-o,x.yOffset+=o*T[1]+l*T[3]-l):x.xOffset=x.yOffset=0),t.setAttribute("data-svg-origin",n.join(" "))},Ne=function(t){return!!(Ce&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Le=[1,0,0,1,0,0],Fe=function(t,e){var i,r,s,n,a,o=t._gsTransform||new ke,l=1e5;if(be?r=Q(t,Pe,null,!0):t.currentStyle&&(r=t.currentStyle.filter.match(A),r=r&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),o.x||0,o.y||0].join(","):""),i=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,(o.svg||t.getBBox&&Ne(t))&&(i&&-1!==(t.style[be]+"").indexOf("matrix")&&(r=t.style[be],i=0),s=t.getAttribute("transform"),i&&s&&(-1!==s.indexOf("matrix")?(r=s,i=0):-1!==s.indexOf("translate")&&(r="matrix(1,0,0,1,"+s.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Le;for(s=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],ge=s.length;--ge>-1;)n=Number(s[ge]),s[ge]=(a=n-(n|=0))?(0|a*l+(0>a?-.5:.5))/l+n:n;return e&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s},Xe=I.getTransform=function(t,i,r,n){if(t._gsTransform&&r&&!n)return t._gsTransform;var o,l,h,u,f,c,p=r?t._gsTransform||new ke:new ke,_=0>p.scaleX,d=2e-5,m=1e5,g=Oe?parseFloat(Q(t,Se,i,!1,"0 0 0").split(" ")[2])||p.zOrigin||0:0,v=parseFloat(a.defaultTransformPerspective)||0;if(p.svg=!(!t.getBBox||!Ne(t)),p.svg&&(De(t,Q(t,Se,s,!1,"50% 50%")+"",p,t.getAttribute("data-svg-origin")),Te=a.useSVGTransformAttr||Me),o=Fe(t),o!==Le){if(16===o.length){var y,x,T,w,b,P=o[0],S=o[1],O=o[2],k=o[3],C=o[4],R=o[5],A=o[6],M=o[7],D=o[8],N=o[9],F=o[10],X=o[12],z=o[13],B=o[14],E=o[11],I=Math.atan2(A,F);p.zOrigin&&(B=-p.zOrigin,X=D*B-o[12],z=N*B-o[13],B=F*B+p.zOrigin-o[14]),p.rotationX=I*L,I&&(w=Math.cos(-I),b=Math.sin(-I),y=C*w+D*b,x=R*w+N*b,T=A*w+F*b,D=C*-b+D*w,N=R*-b+N*w,F=A*-b+F*w,E=M*-b+E*w,C=y,R=x,A=T),I=Math.atan2(D,F),p.rotationY=I*L,I&&(w=Math.cos(-I),b=Math.sin(-I),y=P*w-D*b,x=S*w-N*b,T=O*w-F*b,N=S*b+N*w,F=O*b+F*w,E=k*b+E*w,P=y,S=x,O=T),I=Math.atan2(S,P),p.rotation=I*L,I&&(w=Math.cos(-I),b=Math.sin(-I),P=P*w+C*b,x=S*w+R*b,R=S*-b+R*w,A=O*-b+A*w,S=x),p.rotationX&&Math.abs(p.rotationX)+Math.abs(p.rotation)>359.9&&(p.rotationX=p.rotation=0,p.rotationY+=180),p.scaleX=(0|Math.sqrt(P*P+S*S)*m+.5)/m,p.scaleY=(0|Math.sqrt(R*R+N*N)*m+.5)/m,p.scaleZ=(0|Math.sqrt(A*A+F*F)*m+.5)/m,p.skewX=0,p.perspective=E?1/(0>E?-E:E):0,p.x=X,p.y=z,p.z=B,p.svg&&(p.x-=p.xOrigin-(p.xOrigin*P-p.yOrigin*C),p.y-=p.yOrigin-(p.yOrigin*S-p.xOrigin*R))}else if(!(Oe&&!n&&o.length&&p.x===o[4]&&p.y===o[5]&&(p.rotationX||p.rotationY)||void 0!==p.x&&"none"===Q(t,"display",i))){var Y=o.length>=6,W=Y?o[0]:1,V=o[1]||0,j=o[2]||0,G=Y?o[3]:1;p.x=o[4]||0,p.y=o[5]||0,h=Math.sqrt(W*W+V*V),u=Math.sqrt(G*G+j*j),f=W||V?Math.atan2(V,W)*L:p.rotation||0,c=j||G?Math.atan2(j,G)*L+f:p.skewX||0,Math.abs(c)>90&&270>Math.abs(c)&&(_?(h*=-1,c+=0>=f?180:-180,f+=0>=f?180:-180):(u*=-1,c+=0>=c?180:-180)),p.scaleX=h,p.scaleY=u,p.rotation=f,p.skewX=c,Oe&&(p.rotationX=p.rotationY=p.z=0,p.perspective=v,p.scaleZ=1),p.svg&&(p.x-=p.xOrigin-(p.xOrigin*W+p.yOrigin*j),p.y-=p.yOrigin-(p.xOrigin*V+p.yOrigin*G))}p.zOrigin=g;for(l in p)d>p[l]&&p[l]>-d&&(p[l]=0)}return r&&(t._gsTransform=p,p.svg&&(Te&&t.style[be]?e.delayedCall(.001,function(){Ie(t.style,be)}):!Te&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),p},ze=function(t){var e,i,r=this.data,s=-r.rotation*N,n=s+r.skewX*N,a=1e5,o=(0|Math.cos(s)*r.scaleX*a)/a,l=(0|Math.sin(s)*r.scaleX*a)/a,h=(0|Math.sin(n)*-r.scaleY*a)/a,u=(0|Math.cos(n)*r.scaleY*a)/a,f=this.t.style,c=this.t.currentStyle;if(c){i=l,l=-h,h=-i,e=c.filter,f.filter="";var p,_,m=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==c.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+l+", M21="+h+", M22="+u,w=r.x+m*r.xPercent/100,b=r.y+g*r.yPercent/100;if(null!=r.ox&&(p=(r.oxp?.01*m*r.ox:r.ox)-m/2,_=(r.oyp?.01*g*r.oy:r.oy)-g/2,w+=p-(p*o+_*l),b+=_-(p*h+_*u)),v?(p=m/2,_=g/2,y+=", Dx="+(p-(p*o+_*l)+w)+", Dy="+(_-(p*h+_*u)+b)+")"):y+=", sizingMethod='auto expand')",f.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(M,y):y+" "+e,(0===t||1===t)&&1===o&&0===l&&0===h&&1===u&&(v&&-1===y.indexOf("Dx=0, Dy=0")||T.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient("&&e.indexOf("Alpha"))&&f.removeAttribute("filter")),!v){var P,S,O,k=8>d?1:-1;for(p=r.ieOffsetX||0,_=r.ieOffsetY||0,r.ieOffsetX=Math.round((m-((0>o?-o:o)*m+(0>l?-l:l)*g))/2+w),r.ieOffsetY=Math.round((g-((0>u?-u:u)*g+(0>h?-h:h)*m))/2+b),ge=0;4>ge;ge++)S=ee[ge],P=c[S],i=-1!==P.indexOf("px")?parseFloat(P):Z(this.t,S,parseFloat(P),P.replace(x,""))||0,O=i!==r[S]?2>ge?-r.ieOffsetX:-r.ieOffsetY:2>ge?p-r.ieOffsetX:_-r.ieOffsetY,f[S]=(r[S]=Math.round(i-O*(0===ge||2===ge?1:k)))+"px"}}},Be=I.set3DTransformRatio=I.setTransformRatio=function(t){var e,i,r,s,n,a,o,l,h,u,f,c,_,d,m,g,v,y,x,T,w,b,P,S=this.data,O=this.t.style,k=S.rotation,C=S.rotationX,R=S.rotationY,A=S.scaleX,M=S.scaleY,D=S.scaleZ,L=S.x,F=S.y,X=S.z,z=S.svg,B=S.perspective,E=S.force3D;if(!(((1!==t&&0!==t||"auto"!==E||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&E||X||B||R||C)&&(!Te||!z)&&Oe))return k||S.skewX||z?(k*=N,b=S.skewX*N,P=1e5,e=Math.cos(k)*A,s=Math.sin(k)*A,i=Math.sin(k-b)*-M,n=Math.cos(k-b)*M,b&&"simple"===S.skewType&&(v=Math.tan(b),v=Math.sqrt(1+v*v),i*=v,n*=v,S.skewY&&(e*=v,s*=v)),z&&(L+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i)+S.xOffset,F+=S.yOrigin-(S.xOrigin*s+S.yOrigin*n)+S.yOffset,Te&&(S.xPercent||S.yPercent)&&(d=this.t.getBBox(),L+=.01*S.xPercent*d.width,F+=.01*S.yPercent*d.height),d=1e-6,d>L&&L>-d&&(L=0),d>F&&F>-d&&(F=0)),x=(0|e*P)/P+","+(0|s*P)/P+","+(0|i*P)/P+","+(0|n*P)/P+","+L+","+F+")",z&&Te?this.t.setAttribute("transform","matrix("+x):O[be]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+x):O[be]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+M+","+L+","+F+")",void 0;if(p&&(d=1e-4,d>A&&A>-d&&(A=D=2e-5),d>M&&M>-d&&(M=D=2e-5),!B||S.z||S.rotationX||S.rotationY||(B=0)),k||S.skewX)k*=N,m=e=Math.cos(k),g=s=Math.sin(k),S.skewX&&(k-=S.skewX*N,m=Math.cos(k),g=Math.sin(k),"simple"===S.skewType&&(v=Math.tan(S.skewX*N),v=Math.sqrt(1+v*v),m*=v,g*=v,S.skewY&&(e*=v,s*=v))),i=-g,n=m;else{if(!(R||C||1!==D||B||z))return O[be]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+L+"px,"+F+"px,"+X+"px)"+(1!==A||1!==M?" scale("+A+","+M+")":""),void 0;e=n=1,i=s=0}h=1,r=a=o=l=u=f=0,c=B?-1/B:0,_=S.zOrigin,d=1e-6,T=",",w="0",k=R*N,k&&(m=Math.cos(k),g=Math.sin(k),o=-g,u=c*-g,r=e*g,a=s*g,h=m,c*=m,e*=m,s*=m),k=C*N,k&&(m=Math.cos(k),g=Math.sin(k),v=i*m+r*g,y=n*m+a*g,l=h*g,f=c*g,r=i*-g+r*m,a=n*-g+a*m,h*=m,c*=m,i=v,n=y),1!==D&&(r*=D,a*=D,h*=D,c*=D),1!==M&&(i*=M,n*=M,l*=M,f*=M),1!==A&&(e*=A,s*=A,o*=A,u*=A),(_||z)&&(_&&(L+=r*-_,F+=a*-_,X+=h*-_+_),z&&(L+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i)+S.xOffset,F+=S.yOrigin-(S.xOrigin*s+S.yOrigin*n)+S.yOffset),d>L&&L>-d&&(L=w),d>F&&F>-d&&(F=w),d>X&&X>-d&&(X=0)),x=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",x+=(d>e&&e>-d?w:e)+T+(d>s&&s>-d?w:s)+T+(d>o&&o>-d?w:o),x+=T+(d>u&&u>-d?w:u)+T+(d>i&&i>-d?w:i)+T+(d>n&&n>-d?w:n),C||R?(x+=T+(d>l&&l>-d?w:l)+T+(d>f&&f>-d?w:f)+T+(d>r&&r>-d?w:r),x+=T+(d>a&&a>-d?w:a)+T+(d>h&&h>-d?w:h)+T+(d>c&&c>-d?w:c)+T):x+=",0,0,0,0,1,0,",x+=L+T+F+T+X+T+(B?1+-X/B:1)+")",O[be]=x};h=ke.prototype,h.x=h.y=h.z=h.skewX=h.skewY=h.rotation=h.rotationX=h.rotationY=h.zOrigin=h.xPercent=h.yPercent=h.xOffset=h.yOffset=0,h.scaleX=h.scaleY=h.scaleZ=1,ye("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,r,n,o,l){if(r._lastParsedTransform===l)return n;r._lastParsedTransform=l;var h,u,f,c,p,_,d,m,g,v=t._gsTransform,y=r._transform=Xe(t,s,!0,l.parseTransform),x=t.style,T=1e-6,w=we.length,b=l,P={},S="transformOrigin";if("string"==typeof b.transform&&be)f=B.style,f[be]=b.transform,f.display="block",f.position="absolute",X.body.appendChild(B),h=Xe(B,null,!1),X.body.removeChild(B),null!=b.xPercent&&(h.xPercent=ne(b.xPercent,y.xPercent)),null!=b.yPercent&&(h.yPercent=ne(b.yPercent,y.yPercent));else if("object"==typeof b){if(h={scaleX:ne(null!=b.scaleX?b.scaleX:b.scale,y.scaleX),scaleY:ne(null!=b.scaleY?b.scaleY:b.scale,y.scaleY),scaleZ:ne(b.scaleZ,y.scaleZ),x:ne(b.x,y.x),y:ne(b.y,y.y),z:ne(b.z,y.z),xPercent:ne(b.xPercent,y.xPercent),yPercent:ne(b.yPercent,y.yPercent),perspective:ne(b.transformPerspective,y.perspective)},d=b.directionalRotation,null!=d)if("object"==typeof d)for(f in d)b[f]=d[f];else b.rotation=d;"string"==typeof b.x&&-1!==b.x.indexOf("%")&&(h.x=0,h.xPercent=ne(b.x,y.xPercent)),"string"==typeof b.y&&-1!==b.y.indexOf("%")&&(h.y=0,h.yPercent=ne(b.y,y.yPercent)),h.rotation=ae("rotation"in b?b.rotation:"shortRotation"in b?b.shortRotation+"_short":"rotationZ"in b?b.rotationZ:y.rotation,y.rotation,"rotation",P),Oe&&(h.rotationX=ae("rotationX"in b?b.rotationX:"shortRotationX"in b?b.shortRotationX+"_short":y.rotationX||0,y.rotationX,"rotationX",P),h.rotationY=ae("rotationY"in b?b.rotationY:"shortRotationY"in b?b.shortRotationY+"_short":y.rotationY||0,y.rotationY,"rotationY",P)),h.skewX=null==b.skewX?y.skewX:ae(b.skewX,y.skewX),h.skewY=null==b.skewY?y.skewY:ae(b.skewY,y.skewY),(u=h.skewY-y.skewY)&&(h.skewX+=u,h.rotation+=u)}for(Oe&&null!=b.force3D&&(y.force3D=b.force3D,_=!0),y.skewType=b.skewType||y.skewType||a.defaultSkewType,p=y.force3D||y.z||y.rotationX||y.rotationY||h.z||h.rotationX||h.rotationY||h.perspective,p||null==b.scale||(h.scaleZ=1);--w>-1;)i=we[w],c=h[i]-y[i],(c>T||-T>c||null!=b[i]||null!=F[i])&&(_=!0,n=new _e(y,i,y[i],c,n),i in P&&(n.e=P[i]),n.xs0=0,n.plugin=o,r._overwriteProps.push(n.n));return c=b.transformOrigin,y.svg&&(c||b.svgOrigin)&&(m=y.xOffset,g=y.yOffset,De(t,re(c),h,b.svgOrigin,b.smoothOrigin),n=de(y,"xOrigin",(v?y:h).xOrigin,h.xOrigin,n,S),n=de(y,"yOrigin",(v?y:h).yOrigin,h.yOrigin,n,S),(m!==y.xOffset||g!==y.yOffset)&&(n=de(y,"xOffset",v?m:y.xOffset,y.xOffset,n,S),n=de(y,"yOffset",v?g:y.yOffset,y.yOffset,n,S)),c=Te?null:"0px 0px"),(c||Oe&&p&&y.zOrigin)&&(be?(_=!0,i=Se,c=(c||Q(t,i,s,!1,"50% 50%"))+"",n=new _e(x,i,0,0,n,-1,S),n.b=x[i],n.plugin=o,Oe?(f=y.zOrigin,c=c.split(" "),y.zOrigin=(c.length>2&&(0===f||"0px"!==c[2])?parseFloat(c[2]):f)||0,n.xs0=n.e=c[0]+" "+(c[1]||"50%")+" 0px",n=new _e(y,"zOrigin",0,0,n,-1,n.n),n.b=f,n.xs0=n.e=y.zOrigin):n.xs0=n.e=c):re(c+"",y)),_&&(r._transformType=y.svg&&Te||!p&&3!==this._transformType?2:3),n},prefix:!0}),ye("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ye("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,a){e=this.format(e);var o,l,h,u,f,c,p,_,d,m,g,v,y,x,T,w,b=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],P=t.style;for(d=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),o=e.split(" "),l=0;b.length>l;l++)this.p.indexOf("border")&&(b[l]=q(b[l])),f=u=Q(t,b[l],s,!1,"0px"),-1!==f.indexOf(" ")&&(u=f.split(" "),f=u[0],u=u[1]),c=h=o[l],p=parseFloat(f),v=f.substr((p+"").length),y="="===c.charAt(1),y?(_=parseInt(c.charAt(0)+"1",10),c=c.substr(2),_*=parseFloat(c),g=c.substr((_+"").length-(0>_?1:0))||""):(_=parseFloat(c),g=c.substr((_+"").length)),""===g&&(g=r[i]||v),g!==v&&(x=Z(t,"borderLeft",p,v),T=Z(t,"borderTop",p,v),"%"===g?(f=100*(x/d)+"%",u=100*(T/m)+"%"):"em"===g?(w=Z(t,"borderLeft",1,"em"),f=x/w+"em",u=T/w+"em"):(f=x+"px",u=T+"px"),y&&(c=parseFloat(f)+_+g,h=parseFloat(u)+_+g)),a=me(P,b[l],f+" "+u,c+" "+h,!1,"0px",a);return a},prefix:!0,formatter:fe("0px 0px 0px 0px",!1,!0)}),ye("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,r,n,a){var o,l,h,u,f,c,p="background-position",_=s||H(t,null),m=this.format((_?d?_.getPropertyValue(p+"-x")+" "+_.getPropertyValue(p+"-y"):_.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==m.indexOf("%")!=(-1!==g.indexOf("%"))&&(c=Q(t,"backgroundImage").replace(k,""),c&&"none"!==c)){for(o=m.split(" "),l=g.split(" "),E.setAttribute("src",c),h=2;--h>-1;)m=o[h],u=-1!==m.indexOf("%"),u!==(-1!==l[h].indexOf("%"))&&(f=0===h?t.offsetWidth-E.width:t.offsetHeight-E.height,o[h]=u?parseFloat(m)/100*f+"px":100*(parseFloat(m)/f)+"%");m=o.join(" ")}return this.parseComplex(t.style,m,g,n,a)},formatter:re}),ye("backgroundSize",{defaultValue:"0 0",formatter:re}),ye("perspective",{defaultValue:"0px",prefix:!0}),ye("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ye("transformStyle",{prefix:!0}),ye("backfaceVisibility",{prefix:!0}),ye("userSelect",{prefix:!0}),ye("margin",{parser:ce("marginTop,marginRight,marginBottom,marginLeft")}),ye("padding",{parser:ce("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ye("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,r,n,a){var o,l,h;return 9>d?(l=t.currentStyle,h=8>d?" ":",",o="rect("+l.clipTop+h+l.clipRight+h+l.clipBottom+h+l.clipLeft+")",e=this.format(e).split(",").join(h)):(o=this.format(Q(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,n,a)}}),ye("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ye("autoRound,strictUnits",{parser:function(t,e,i,r,s){return s}}),ye("border",{defaultValue:"0px solid #000",parser:function(t,e,i,r,n,a){return this.parseComplex(t.style,this.format(Q(t,"borderTopWidth",s,!1,"0px")+" "+Q(t,"borderTopStyle",s,!1,"solid")+" "+Q(t,"borderTopColor",s,!1,"#000")),this.format(e),n,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ue)||["#000"])[0]}}),ye("borderWidth",{parser:ce("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ye("float,cssFloat,styleFloat",{parser:function(t,e,i,r,s){var n=t.style,a="cssFloat"in n?"cssFloat":"styleFloat";return new _e(n,a,0,0,s,-1,i,!1,0,n[a],e)}});var Ee=function(t){var e,i=this.t,r=i.filter||Q(this.data,"filter")||"",s=0|this.s+this.c*t;100===s&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(i.removeAttribute("filter"),e=!Q(this.data,"filter")):(i.filter=r.replace(b,""),e=!0)),e||(this.xn1&&(i.filter=r=r||"alpha(opacity="+s+")"),-1===r.indexOf("pacity")?0===s&&this.xn1||(i.filter=r+" alpha(opacity="+s+")"):i.filter=r.replace(T,"opacity="+s))};ye("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,r,n,a){var o=parseFloat(Q(t,"opacity",s,!1,"1")),l=t.style,h="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),h&&1===o&&"hidden"===Q(t,"visibility",s)&&0!==e&&(o=0),W?n=new _e(l,"opacity",o,e-o,n):(n=new _e(l,"opacity",100*o,100*(e-o),n),n.xn1=h?1:0,l.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=a,n.setRatio=Ee),h&&(n=new _e(l,"visibility",0,0,n,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit"),n.xs0="inherit",r._overwriteProps.push(n.n),r._overwriteProps.push(i)),n}});var Ie=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(S,"-$1").toLowerCase())):t.removeAttribute(e))},Ye=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Ie(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ye("className",{parser:function(t,e,r,n,a,o,l){var h,u,f,c,p,_=t.getAttribute("class")||"",d=t.style.cssText;if(a=n._classNamePT=new _e(t,r,0,0,a,2),a.setRatio=Ye,a.pr=-11,i=!0,a.b=_,u=K(t,s),f=t._gsClassPT){for(c={},p=f.data;p;)c[p.p]=1,p=p._next;f.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:_.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),h=J(t,u,K(t),l,c),t.setAttribute("class",_),a.data=h.firstMPT,t.style.cssText=d,a=a.xfirst=n.parse(t,h.difs,a,o)}});var We=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,r,s,n,a=this.t.style,o=l.transform.parse;if("all"===this.e)a.cssText="",s=!0;else for(e=this.e.split(" ").join("").split(","),r=e.length;--r>-1;)i=e[r],l[i]&&(l[i].parse===o?s=!0:i="transformOrigin"===i?Se:l[i].p),Ie(a,i);s&&(Ie(a,be),n=this.t._gsTransform,n&&(n.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(ye("clearProps",{parser:function(t,e,r,s,n){return n=new _e(t,r,0,0,n,2),n.setRatio=We,n.e=e,n.pr=-10,n.data=s._tween,i=!0,n}}),h="bezier,throwProps,physicsProps,physics2D".split(","),ge=h.length;ge--;)xe(h[ge]);h=a.prototype,h._firstPT=h._lastParsedTransform=h._transform=null,h._onInitTween=function(t,e,o){if(!t.nodeType)return!1;this._target=t,this._tween=o,this._vars=e,u=e.autoRound,i=!1,r=e.suffixMap||a.suffixMap,s=H(t,""),n=this._overwriteProps;
var h,p,d,m,g,v,y,x,T,b=t.style;if(f&&""===b.zIndex&&(h=Q(t,"zIndex",s),("auto"===h||""===h)&&this._addLazySet(b,"zIndex",0)),"string"==typeof e&&(m=b.cssText,h=K(t,s),b.cssText=m+";"+e,h=J(t,h,K(t)).difs,!W&&w.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,b.cssText=m),this._firstPT=p=e.className?l.className.parse(t,e.className,"className",this,null,null,e):this.parse(t,e,null),this._transformType){for(T=3===this._transformType,be?c&&(f=!0,""===b.zIndex&&(y=Q(t,"zIndex",s),("auto"===y||""===y)&&this._addLazySet(b,"zIndex",0)),_&&this._addLazySet(b,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(T?"visible":"hidden"))):b.zoom=1,d=p;d&&d._next;)d=d._next;x=new _e(t,"transform",0,0,null,2),this._linkCSSP(x,null,d),x.setRatio=be?Be:ze,x.data=this._transform||Xe(t,s,!0),x.tween=o,x.pr=-1,n.pop()}if(i){for(;p;){for(v=p._next,d=m;d&&d.pr>p.pr;)d=d._next;(p._prev=d?d._prev:g)?p._prev._next=p:m=p,(p._next=d)?d._prev=p:g=p,p=v}this._firstPT=m}return!0},h.parse=function(t,e,i,n){var a,o,h,f,c,p,_,d,m,g,v=t.style;for(a in e)p=e[a],o=l[a],o?i=o.parse(t,p,a,this,i,n,e):(c=Q(t,a,s)+"",m="string"==typeof p,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||m&&P.test(p)?(m||(p=he(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),i=me(v,a,c,p,!0,"transparent",i,0,n)):!m||-1===p.indexOf(" ")&&-1===p.indexOf(",")?(h=parseFloat(c),_=h||0===h?c.substr((h+"").length):"",(""===c||"auto"===c)&&("width"===a||"height"===a?(h=ie(t,a,s),_="px"):"left"===a||"top"===a?(h=$(t,a,s),_="px"):(h="opacity"!==a?0:1,_="")),g=m&&"="===p.charAt(1),g?(f=parseInt(p.charAt(0)+"1",10),p=p.substr(2),f*=parseFloat(p),d=p.replace(x,"")):(f=parseFloat(p),d=m?p.replace(x,""):""),""===d&&(d=a in r?r[a]:_),p=f||0===f?(g?f+h:f)+d:e[a],_!==d&&""!==d&&(f||0===f)&&h&&(h=Z(t,a,h,_),"%"===d?(h/=Z(t,a,100,"%")/100,e.strictUnits!==!0&&(c=h+"%")):"em"===d?h/=Z(t,a,1,"em"):"px"!==d&&(f=Z(t,a,f,d),d="px"),g&&(f||0===f)&&(p=f+h+d)),g&&(f+=h),!h&&0!==h||!f&&0!==f?void 0!==v[a]&&(p||"NaN"!=p+""&&null!=p)?(i=new _e(v,a,f||h||0,0,i,-1,a,!1,0,c,p),i.xs0="none"!==p||"display"!==a&&-1===a.indexOf("Style")?p:c):j("invalid "+a+" tween value: "+e[a]):(i=new _e(v,a,h,f-h,i,0,a,u!==!1&&("px"===d||"zIndex"===a),0,c,p),i.xs0=d)):i=me(v,a,c,p,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);return i},h.setRatio=function(t){var e,i,r,s=this._firstPT,n=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;s;){if(e=s.c*t+s.s,s.r?e=Math.round(e):n>e&&e>-n&&(e=0),s.type)if(1===s.type)if(r=s.l,2===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2;else if(3===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(i=s.xs0+e+s.xs1,r=1;s.l>r;r++)i+=s["xn"+r]+s["xs"+(r+1)];s.t[s.p]=i}else-1===s.type?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(t);else s.t[s.p]=e+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(t),s=s._next;else for(;s;){if(2!==s.type)if(s.r&&-1!==s.type)if(e=Math.round(s.s+s.c),s.type){if(1===s.type){for(r=s.l,i=s.xs0+e+s.xs1,r=1;s.l>r;r++)i+=s["xn"+r]+s["xs"+(r+1)];s.t[s.p]=i}}else s.t[s.p]=e+s.xs0;else s.t[s.p]=s.e;else s.setRatio(t);s=s._next}},h._enableTransforms=function(t){this._transform=this._transform||Xe(this._target,s,!0),this._transformType=this._transform.svg&&Te||!t&&3!==this._transformType?2:3};var Ve=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var r=this._firstPT=new _e(t,e,0,0,this._firstPT,2);r.e=i,r.setRatio=Ve,r.data=this},h._linkCSSP=function(t,e,i,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),i?i._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._kill=function(e){var i,r,s,n=e;if(e.autoAlpha||e.alpha){n={};for(r in e)n[r]=e[r];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return e.className&&(i=this._classNamePT)&&(s=i.xfirst,s&&s._prev?this._linkCSSP(s._prev,i._next,s._prev._prev):s===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,s._prev),this._classNamePT=null),t.prototype._kill.call(this,n)};var je=function(t,e,i){var r,s,n,a;if(t.slice)for(s=t.length;--s>-1;)je(t[s],e,i);else for(r=t.childNodes,s=r.length;--s>-1;)n=r[s],a=n.type,n.style&&(e.push(K(n)),i&&i.push(n)),1!==a&&9!==a&&11!==a||!n.childNodes.length||je(n,e,i)};return a.cascadeTo=function(t,i,r){var s,n,a,o,l=e.to(t,i,r),h=[l],u=[],f=[],c=[],p=e._internals.reservedProps;for(t=l._targets||l.target,je(t,u,c),l.render(i,!0,!0),je(t,f),l.render(0,!0,!0),l._enabled(!0),s=c.length;--s>-1;)if(n=J(c[s],u[s],f[s]),n.firstMPT){n=n.difs;for(a in r)p[a]&&(n[a]=r[a]);o={};for(a in n)o[a]=u[s][a];h.push(e.fromTo(c[s],i,o,n))}return h},t.activate([a]),a},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}("CSSPlugin");
/*!
 * VERSION: 1.7.5
 * DATE: 2015-02-26
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t=document.documentElement,e=window,i=function(i,r){var s="x"===r?"Width":"Height",n="scroll"+s,o="client"+s,a=document.body;return i===e||i===t||i===a?Math.max(t[n],a[n])-(e["inner"+s]||t[o]||a[o]):i[n]-i["offset"+s]},r=_gsScope._gsDefine.plugin({propName:"scrollTo",API:2,version:"1.7.5",init:function(t,r,s){return this._wdw=t===e,this._target=t,this._tween=s,"object"!=typeof r&&(r={y:r}),this.vars=r,this._autoKill=r.autoKill!==!1,this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=r.x?(this._addTween(this,"x",this.x,"max"===r.x?i(t,"x"):r.x,"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=r.y?(this._addTween(this,"y",this.y,"max"===r.y?i(t,"y"):r.y,"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(t){this._super.setRatio.call(this,t);var r=this._wdw||!this.skipX?this.getX():this.xPrev,s=this._wdw||!this.skipY?this.getY():this.yPrev,n=s-this.yPrev,o=r-this.xPrev;this._autoKill&&(!this.skipX&&(o>7||-7>o)&&i(this._target,"x")>r&&(this.skipX=!0),!this.skipY&&(n>7||-7>n)&&i(this._target,"y")>s&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?e.scrollTo(this.skipX?r:this.x,this.skipY?s:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),s=r.prototype;r.max=i,s.getX=function(){return this._wdw?null!=e.pageXOffset?e.pageXOffset:null!=t.scrollLeft?t.scrollLeft:document.body.scrollLeft:this._target.scrollLeft},s.getY=function(){return this._wdw?null!=e.pageYOffset?e.pageYOffset:null!=t.scrollTop?t.scrollTop:document.body.scrollTop:this._target.scrollTop},s._kill=function(t){return t.scrollTo_x&&(this.skipX=!0),t.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,t)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
/*!
 * VERSION: 0.9.9
 * DATE: 2015-04-28
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * ThrowPropsPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.ThrowPropsPlugin",["plugins.TweenPlugin","TweenLite","easing.Ease","utils.VelocityTracker"],function(t,e,i,r){var s,n,o,a,l=function(){t.call(this,"throwProps"),this._overwriteProps.length=0},h=999999999999999,u=1e-10,f=_gsScope._gsDefine.globals,c=!1,p={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},_=function(t,e,i,r){for(var s,n,o=e.length,a=0,l=h;--o>-1;)s=e[o],n=s-t,0>n&&(n=-n),l>n&&s>=r&&i>=s&&(a=o,l=n);return e[a]},d=function(t,e,i,r){if("auto"===t.end)return t;i=isNaN(i)?h:i,r=isNaN(r)?-h:r;var s="function"==typeof t.end?t.end(e):t.end instanceof Array?_(e,t.end,i,r):Number(t.end);return s>i?s=i:r>s&&(s=r),{max:s,min:s,unitFactor:t.unitFactor}},g=function(t,e,i){for(var r in e)void 0===t[r]&&r!==i&&(t[r]=e[r]);return t},m=l.calculateChange=function(t,r,s,n){null==n&&(n=.05);var o=r instanceof i?r:r?new i(r):e.defaultEase;return s*n*t/o.getRatio(n)},v=l.calculateDuration=function(t,r,s,n,o){o=o||.05;var a=n instanceof i?n:n?new i(n):e.defaultEase;return Math.abs((r-t)*a.getRatio(o)/s/o)},y=l.calculateTweenDuration=function(t,s,n,o,a,h){if("string"==typeof t&&(t=e.selector(t)),!t)return 0;null==n&&(n=10),null==o&&(o=.2),null==a&&(a=1),t.length&&(t=t[0]||t);var f,p,_,y,x,w,T,b,P,S,k=0,O=9999999999,C=s.throwProps||s,R=s.ease instanceof i?s.ease:s.ease?new i(s.ease):e.defaultEase,A=isNaN(C.checkpoint)?.05:Number(C.checkpoint),M=isNaN(C.resistance)?l.defaultResistance:Number(C.resistance);for(f in C)"resistance"!==f&&"checkpoint"!==f&&"preventOvershoot"!==f&&(p=C[f],"object"!=typeof p&&(P=P||r.getByTarget(t),P&&P.isTrackingProp(f)?p="number"==typeof p?{velocity:p}:{velocity:P.getVelocity(f)}:(y=Number(p)||0,_=y*M>0?y/M:y/-M)),"object"==typeof p&&(void 0!==p.velocity&&"number"==typeof p.velocity?y=Number(p.velocity)||0:(P=P||r.getByTarget(t),y=P&&P.isTrackingProp(f)?P.getVelocity(f):0),x=isNaN(p.resistance)?M:Number(p.resistance),_=y*x>0?y/x:y/-x,w="function"==typeof t[f]?t[f.indexOf("set")||"function"!=typeof t["get"+f.substr(3)]?f:"get"+f.substr(3)]():t[f]||0,T=w+m(y,R,_,A),void 0!==p.end&&(p=d(p,T,p.max,p.min),(h||c)&&(C[f]=g(p,C[f],"end"))),void 0!==p.max&&T>Number(p.max)+u?(S=p.unitFactor||l.defaultUnitFactors[f]||1,b=w>p.max&&p.min!==p.max||y*S>-15&&45>y*S?o+.1*(n-o):v(w,p.max,y,R,A),O>b+a&&(O=b+a)):void 0!==p.min&&Number(p.min)-u>T&&(S=p.unitFactor||l.defaultUnitFactors[f]||1,b=p.min>w&&p.min!==p.max||y*S>-45&&15>y*S?o+.1*(n-o):v(w,p.min,y,R,A),O>b+a&&(O=b+a)),b>k&&(k=b)),_>k&&(k=_));return k>O&&(k=O),k>n?n:o>k?o:k},x=l.prototype=new t("throwProps");return x.constructor=l,l.version="0.9.9",l.API=2,l._autoCSS=!0,l.defaultResistance=100,l.defaultUnitFactors={time:1e3,totalTime:1e3},l.track=function(t,e,i){return r.track(t,e,i)},l.untrack=function(t,e){r.untrack(t,e)},l.isTracking=function(t,e){return r.isTracking(t,e)},l.getVelocity=function(t,e){var i=r.getByTarget(t);return i?i.getVelocity(e):0/0},l._cssRegister=function(){var t=f.com.greensock.plugins.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,o=e._setPluginRatio,a=e.CSSPropTween;e._registerComplexSpecialProp("throwProps",{parser:function(t,e,h,u,f,c){c=new l;var _,d,g,m,v,y={},x={},w={},T={},b={},P={};n={};for(g in e)"resistance"!==g&&"preventOvershoot"!==g&&(d=e[g],"object"==typeof d?(void 0!==d.velocity&&"number"==typeof d.velocity?y[g]=Number(d.velocity)||0:(v=v||r.getByTarget(t),y[g]=v&&v.isTrackingProp(g)?v.getVelocity(g):0),void 0!==d.end&&(T[g]=d.end),void 0!==d.min&&(x[g]=d.min),void 0!==d.max&&(w[g]=d.max),d.preventOvershoot&&(P[g]=!0),void 0!==d.resistance&&(_=!0,b[g]=d.resistance)):"number"==typeof d?y[g]=d:(v=v||r.getByTarget(t),y[g]=v&&v.isTrackingProp(g)?v.getVelocity(g):d||0),p[g]&&u._enableTransforms(2===p[g]));m=i(t,y,u,f,c),s=m.proxy,y=m.end;for(g in s)n[g]={velocity:y[g],min:x[g],max:w[g],end:T[g],resistance:b[g],preventOvershoot:P[g]};return null!=e.resistance&&(n.resistance=e.resistance),e.preventOvershoot&&(n.preventOvershoot=!0),f=new a(t,"throwProps",0,0,m.pt,2),u._overwriteProps.pop(),f.plugin=c,f.setRatio=o,f.data=m,c._onInitTween(s,n,u._tween),f}})}},l.to=function(t,i,r,l,h){i.throwProps||(i={throwProps:i}),0===h&&(i.throwProps.preventOvershoot=!0),c=!0;var u=new e(t,l||1,i);return u.render(0,!0,!0),u.vars.css?(u.duration(y(s,{throwProps:n,ease:i.ease},r,l,h)),u._delay&&!u.vars.immediateRender?u.invalidate():o._onInitTween(s,a,u),c=!1,u):(u.kill(),u=new e(t,y(t,i,r,l,h),i),c=!1,u)},x._onInitTween=function(t,e,i){this.target=t,this._props=[],o=this,a=e;var s,n,l,h,u,f,p,_,v,y=i._ease,x=isNaN(e.checkpoint)?.05:Number(e.checkpoint),w=i._duration,T=e.preventOvershoot,b=0;for(s in e)if("resistance"!==s&&"checkpoint"!==s&&"preventOvershoot"!==s){if(n=e[s],"number"==typeof n)u=Number(n)||0;else if("object"!=typeof n||isNaN(n.velocity)){if(v=v||r.getByTarget(t),!v||!v.isTrackingProp(s))throw"ERROR: No velocity was defined in the throwProps tween of "+t+" property: "+s;u=v.getVelocity(s)}else u=Number(n.velocity);f=m(u,y,w,x),_=0,h="function"==typeof t[s],l=h?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():t[s],"object"==typeof n&&(p=l+f,void 0!==n.end&&(n=d(n,p,n.max,n.min),c&&(e[s]=g(n,e[s],"end"))),void 0!==n.max&&p>Number(n.max)?T||n.preventOvershoot?f=n.max-l:_=n.max-l-f:void 0!==n.min&&Number(n.min)>p&&(T||n.preventOvershoot?f=n.min-l:_=n.min-l-f)),this._overwriteProps[b]=s,this._props[b++]={p:s,s:l,c1:f,c2:_,f:h,r:!1}}return!0},x._kill=function(e){for(var i=this._props.length;--i>-1;)null!=e[this._props[i].p]&&this._props.splice(i,1);return t.prototype._kill.call(this,e)},x._roundProps=function(t,e){for(var i=this._props,r=i.length;--r>-1;)(t[i[r].p]||t.throwProps)&&(i[r].r=e)},x.setRatio=function(t){for(var e,i,r=this._props.length;--r>-1;)e=this._props[r],i=e.s+e.c1*t+e.c2*t*t,e.r&&(i=Math.round(i)),e.f?this.target[e.p](i):this.target[e.p]=i},t.activate([l]),l},!0),_gsScope._gsDefine("utils.VelocityTracker",["TweenLite"],function(t){var e,i,r,s,n=/([A-Z])/g,o={},a={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},l=document.defaultView?document.defaultView.getComputedStyle:function(){},h=function(t,e,i){var r=(t._gsTransform||o)[e];return r||0===r?r:(t.style[e]?r=t.style[e]:(i=i||l(t,null))?r=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(n,"-$1").toLowerCase()):t.currentStyle&&(r=t.currentStyle[e]),parseFloat(r)||0)},u=t.ticker,f=function(t,e,i){this.p=t,this.f=e,this.v1=this.v2=0,this.t1=this.t2=u.time,this.css=!1,this.type="",this._prev=null,i&&(this._next=i,i._prev=this)},c=function(){var t,i,n=e,o=u.time;if(o-r>=.03)for(s=r,r=o;n;){for(i=n._firstVP;i;)t=i.css?h(n.target,i.p):i.f?n.target[i.p]():n.target[i.p],(t!==i.v1||o-i.t1>.15)&&(i.v2=i.v1,i.v1=t,i.t2=i.t1,i.t1=o),i=i._next;n=n._next}},p=function(t){this._lookup={},this.target=t,this.elem=t.style&&t.nodeType?!0:!1,i||(u.addEventListener("tick",c,null,!1,-100),r=s=u.time,i=!0),e&&(this._next=e,e._prev=this),e=this},_=p.getByTarget=function(t){for(var i=e;i;){if(i.target===t)return i;i=i._next}},d=p.prototype;return d.addProp=function(e,i){if(!this._lookup[e]){var r=this.target,s="function"==typeof r[e],n=s?this._altProp(e):e,o=this._firstVP;this._firstVP=this._lookup[e]=this._lookup[n]=o=new f(n!==e&&0===e.indexOf("set")?n:e,s,o),o.css=this.elem&&(void 0!==this.target.style[o.p]||a[o.p]),o.css&&a[o.p]&&!r._gsTransform&&t.set(r,{x:"+=0",overwrite:!1}),o.type=i||o.css&&0===e.indexOf("rotation")?"deg":"",o.v1=o.v2=o.css?h(r,o.p):s?r[o.p]():r[o.p]}},d.removeProp=function(t){var e=this._lookup[t];e&&(e._prev?e._prev._next=e._next:e===this._firstVP&&(this._firstVP=e._next),e._next&&(e._next._prev=e._prev),this._lookup[t]=0,e.f&&(this._lookup[this._altProp(t)]=0))},d.isTrackingProp=function(t){return this._lookup[t]instanceof f},d.getVelocity=function(t){var e,i,r,s=this._lookup[t],n=this.target;if(!s)throw"The velocity of "+t+" is not being tracked.";return e=s.css?h(n,s.p):s.f?n[s.p]():n[s.p],i=e-s.v2,("rad"===s.type||"deg"===s.type)&&(r="rad"===s.type?2*Math.PI:360,i%=r,i!==i%(r/2)&&(i=0>i?i+r:i-r)),i/(u.time-s.t2)},d._altProp=function(t){var e=t.substr(0,3),i=("get"===e?"set":"set"===e?"get":e)+t.substr(3);return"function"==typeof this.target[i]?i:t},p.getByTarget=function(i){var r=e;for("string"==typeof i&&(i=t.selector(i)),i.length&&i!==window&&i[0]&&i[0].style&&!i.nodeType&&(i=i[0]);r;){if(r.target===i)return r;r=r._next}},p.track=function(t,e,i){var r=_(t),s=e.split(","),n=s.length;for(i=(i||"").split(","),r||(r=new p(t));--n>-1;)r.addProp(s[n],i[n]||i[0]);return r},p.untrack=function(t,i){var r=_(t),s=(i||"").split(","),n=s.length;if(r){for(;--n>-1;)r.removeProp(s[n]);r._firstVP&&i||(r._prev?r._prev._next=r._next:r===e&&(e=r._next),r._next&&(r._next._prev=r._prev))}},p.isTracking=function(t,e){var i=_(t);return i?!e&&i._firstVP?!0:i.isTrackingProp(e):!1},p},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}("ThrowPropsPlugin");
/*!
 * VERSION: 0.14.0
 * DATE: 2015-05-26
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * Requires TweenLite and CSSPlugin version 1.17.0 or later (TweenMax contains both TweenLite and CSSPlugin). ThrowPropsPlugin is required for momentum-based continuation of movement after the mouse/touch is released (ThrowPropsPlugin is a membership benefit of Club GreenSock - http://greensock.com/club/).
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite","plugins.CSSPlugin"],function(t,e,i){var r,s,n,a,o,l,h,u,_={css:{}},c={css:{}},f={css:{}},p={css:{}},d=_gsScope._gsDefine.globals,m={},g=document,v=g.documentElement||{},y=function(t){return g.createElementNS?g.createElementNS("http://www.w3.org/1999/xhtml",t):g.createElement(t)},T=y("div"),x=[],w=function(){return!1},b=180/Math.PI,P=999999999999999,S=Date.now||function(){return(new Date).getTime()},k=!(g.addEventListener||!g.all),C=g.createElement("div"),R=[],O={},A=0,D=/^(?:a|input|textarea|button|select)$/i,M=0,L=-1!==navigator.userAgent.toLowerCase().indexOf("android"),N=0,E={},I={},z=function(t){if("string"==typeof t&&(t=e.selector(t)),!t||t.nodeType)return[t];var i,r=[],s=t.length;for(i=0;i!==s;r.push(t[i++]));return r},F=function(){for(var t=R.length;--t>-1;)R[t]()},X=function(t){R.push(t),1===R.length&&e.ticker.addEventListener("tick",F,this,!1,1)},B=function(t){for(var i=R.length;--i>-1;)R[i]===t&&R.splice(i,1);e.to(Y,0,{overwrite:"all",delay:15,onComplete:Y})},Y=function(){R.length||e.ticker.removeEventListener("tick",F)},W=function(t,e){var i;for(i in e)void 0===t[i]&&(t[i]=e[i]);return t},j=function(){return null!=window.pageYOffset?window.pageYOffset:null!=g.scrollTop?g.scrollTop:v.scrollTop||g.body.scrollTop||0},U=function(){return null!=window.pageXOffset?window.pageXOffset:null!=g.scrollLeft?g.scrollLeft:v.scrollLeft||g.body.scrollLeft||0},V=function(t,e){Me(t,"scroll",e),q(t.parentNode)||V(t.parentNode,e)},G=function(t,e){Le(t,"scroll",e),q(t.parentNode)||G(t.parentNode,e)},q=function(t){return!(t&&t!==v&&t!==g&&t!==g.body&&t!==window&&t.nodeType&&t.parentNode)},H=function(t,e){var i="x"===e?"Width":"Height",r="scroll"+i,s="client"+i,n=g.body;return Math.max(0,q(t)?Math.max(v[r],n[r])-(window["inner"+i]||v[s]||n[s]):t[r]-t[s])},Q=function(t){var e=q(t),i=H(t,"x"),r=H(t,"y");e?t=I:Q(t.parentNode),t._gsMaxScrollX=i,t._gsMaxScrollY=r,t._gsScrollX=t.scrollLeft||0,t._gsScrollY=t.scrollTop||0},Z=function(t,e){return t=t||window.event,m.pageX=t.clientX+g.body.scrollLeft+v.scrollLeft,m.pageY=t.clientY+g.body.scrollTop+v.scrollTop,e&&(t.returnValue=!1),m},$=function(t){return t?("string"==typeof t&&(t=e.selector(t)),t.length&&t!==window&&t[0]&&t[0].style&&!t.nodeType&&(t=t[0]),t===window||t.nodeType&&t.style?t:null):t},K=function(t,e){var i,s,n,a=t.style;if(void 0===a[e]){for(n=["O","Moz","ms","Ms","Webkit"],s=5,i=e.charAt(0).toUpperCase()+e.substr(1);--s>-1&&void 0===a[n[s]+i];);if(0>s)return"";r=3===s?"ms":n[s],e=r+i}return e},J=function(t,e,i){var r=t.style;r&&(void 0===r[e]&&(e=K(t,e)),null==i?r.removeProperty?r.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):r.removeAttribute(e):void 0!==r[e]&&(r[e]=i))},te=g.defaultView?g.defaultView.getComputedStyle:w,ee=/(?:Left|Right|Width)/i,ie=/(?:\d|\-|\+|=|#|\.)*/g,re=function(t,e,i,r,s){if("px"===r||!r)return i;if("auto"===r||!i)return 0;var n,a=ee.test(e),o=t,l=T.style,h=0>i;return h&&(i=-i),"%"===r&&-1!==e.indexOf("border")?n=i/100*(a?t.clientWidth:t.clientHeight):(l.cssText="border:0 solid red;position:"+ne(t,"position",!0)+";line-height:0;","%"!==r&&o.appendChild?l[a?"borderLeftWidth":"borderTopWidth"]=i+r:(o=t.parentNode||g.body,l[a?"width":"height"]=i+r),o.appendChild(T),n=parseFloat(T[a?"offsetWidth":"offsetHeight"]),o.removeChild(T),0!==n||s||(n=re(t,e,i,r,!0))),h?-n:n},se=function(t,e){if("absolute"!==ne(t,"position",!0))return 0;var i="left"===e?"Left":"Top",r=ne(t,"margin"+i,!0);return t["offset"+i]-(re(t,e,parseFloat(r),(r+"").replace(ie,""))||0)},ne=function(t,e,i){var r,s=(t._gsTransform||{})[e];return s||0===s?s:(t.style[e]?s=t.style[e]:(r=te(t))?(s=r.getPropertyValue(e.replace(/([A-Z])/g,"-$1").toLowerCase()),s=s||r.length?s:r[e]):t.currentStyle&&(s=t.currentStyle[e]),"auto"!==s||"top"!==e&&"left"!==e||(s=se(t,e)),i?s:parseFloat(s)||0)},ae=function(t,e,i){var r=t.vars,s=r[i],n=t._listeners[e];"function"==typeof s&&s.apply(r[i+"Scope"]||r.callbackScope||t,r[i+"Params"]||[t.pointerEvent]),n&&t.dispatchEvent(e)},oe=function(t,e){var i,r,s,n=$(t);return n?Ce(n,e):void 0!==t.left?(s=xe(e),{left:t.left-s.x,top:t.top-s.y,width:t.width,height:t.height}):(r=t.min||t.minX||t.minRotation||0,i=t.min||t.minY||0,{left:r,top:i,width:(t.max||t.maxX||t.maxRotation||0)-r,height:(t.max||t.maxY||0)-i})},le=function(){if(!g.createElementNS)return a=0,o=!1,void 0;var t,e,i,r,s=y("div"),n=g.createElementNS("http://www.w3.org/2000/svg","svg"),u=y("div"),_=s.style,c=g.body||v;g.body&&_e&&(_.position=u.style.position="absolute",c.appendChild(u),u.appendChild(s),_.height="10px",r=s.offsetTop,u.style.border="5px solid red",h=r!==s.offsetTop,c.removeChild(u)),_=n.style,n.setAttributeNS(null,"width","400px"),n.setAttributeNS(null,"height","400px"),n.setAttributeNS(null,"viewBox","0 0 400 400"),_.display="block",_.boxSizing="border-box",_.border="0px solid red",_.transform="none",s.style.cssText="width:100px;height:100px;overflow:scroll",c.appendChild(s),s.appendChild(n),i=n.createSVGPoint().matrixTransform(n.getScreenCTM()),e=i.y,s.scrollTop=100,i.x=i.y=0,i=i.matrixTransform(n.getScreenCTM()),l=100.1>e-i.y?0:e-i.y-150,s.removeChild(n),c.removeChild(s),c.appendChild(n),t=n.getScreenCTM(),e=t.e,_.border="50px solid red",t=n.getScreenCTM(),0===e&&0===t.e&&0===t.f&&1===t.a?(a=1,o=!0):(a=e!==t.e?1:0,o=1!==t.a),c.removeChild(n)},he=""!==K(T,"perspective"),ue=K(T,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),_e=K(T,"transform"),ce=_e.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),fe={},pe={},de=window.SVGElement,me=function(t){return!!(de&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},ge=(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent))&&11>parseFloat(RegExp.$1),ve=[],ye=[],Te=function(t){if(!t.getBoundingClientRect||!t.parentNode||!_e)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:v};if(We.cacheSVGData!==!1&&t._gsCache&&t._gsCache.lastUpdate===e.ticker.frame)return t._gsCache;var i,r,s,n,h,u,_,c,f,p,d,m,y=t,T=we(t);if(T.lastUpdate=e.ticker.frame,t.getBBox&&!T.isSVGRoot){for(y=t.parentNode,i=t.getBBox();y&&"svg"!==(y.nodeName+"").toLowerCase();)y=y.parentNode;return n=Te(y),T.offsetTop=i.y*n.scaleY,T.offsetLeft=i.x*n.scaleX,T.scaleX=n.scaleX,T.scaleY=n.scaleY,T.offsetParent=y||v,T}for(s=T.offsetParent,s===g.body&&(s=v),ye.length=ve.length=0;y&&(h=ne(y,_e,!0),"matrix(1, 0, 0, 1, 0, 0)"!==h&&"none"!==h&&"translate3d(0px, 0px, 0px)"!==h&&(ye.push(y),ve.push(y.style[_e]),y.style[_e]="none"),y!==s);)y=y.parentNode;for(r=s.getBoundingClientRect(),h=t.getScreenCTM(),c=t.createSVGPoint(),_=c.matrixTransform(h),c.x=c.y=10,c=c.matrixTransform(h),T.scaleX=(c.x-_.x)/10,T.scaleY=(c.y-_.y)/10,void 0===a&&le(),T.borderBox&&!o&&t.getAttribute("width")&&(n=te(t)||{},f=parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)||0,p=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)||0,d=parseFloat(n.width)||0,m=parseFloat(n.height)||0,T.scaleX*=(d-f)/d,T.scaleY*=(m-p)/m),l?(i=t.getBoundingClientRect(),T.offsetLeft=i.left-r.left,T.offsetTop=i.top-r.top):(T.offsetLeft=_.x-r.left,T.offsetTop=_.y-r.top),T.offsetParent=s,u=ye.length;--u>-1;)ye[u].style[_e]=ve[u];return T},xe=function(t,i){if(i=i||{},!t||t===v||!t.parentNode||t===window)return{x:0,y:0};var r=te(t),s=ue&&r?r.getPropertyValue(ue):"50% 50%",n=s.split(" "),a=-1!==s.indexOf("left")?"0%":-1!==s.indexOf("right")?"100%":n[0],o=-1!==s.indexOf("top")?"0%":-1!==s.indexOf("bottom")?"100%":n[1];return("center"===o||null==o)&&(o="50%"),("center"===a||isNaN(parseFloat(a)))&&(a="50%"),t.getBBox&&me(t)?(t._gsTransform||(e.set(t,{x:"+=0",overwrite:!1}),void 0===t._gsTransform.xOrigin&&console.log("Draggable requires at least GSAP 1.17.0")),s=t.getBBox(),i.x=t._gsTransform.xOrigin-s.x,i.y=t._gsTransform.yOrigin-s.y):(t.getBBox&&!t.offsetWidth&&-1!==(a+o).indexOf("%")&&(t=t.getBBox(),t={offsetWidth:t.width,offsetHeight:t.height}),i.x=-1!==a.indexOf("%")?t.offsetWidth*parseFloat(a)/100:parseFloat(a),i.y=-1!==o.indexOf("%")?t.offsetHeight*parseFloat(o)/100:parseFloat(o)),i},we=function(t){if(We.cacheSVGData!==!1&&t._gsCache&&t._gsCache.lastUpdate===e.ticker.frame)return t._gsCache;var i,r=t._gsCache=t._gsCache||{},s=te(t),n=t.getBBox&&me(t),a="svg"===(t.nodeName+"").toLowerCase();if(r.isSVG=n,r.isSVGRoot=a,r.borderBox="border-box"===s.boxSizing,r.computedStyle=s,a)(r.offsetParent=t.offsetParent)||(t.parentNode.insertBefore(T,t),r.offsetParent=T.offsetParent,t.parentNode.removeChild(T));else if(n){for(i=t.parentNode;i&&"svg"!==(i.nodeName+"").toLowerCase();)i=i.parentNode;r.offsetParent=i}return r},be=function(t,e,i,r){if(t===window||!t||!t.style||!t.parentNode)return[1,0,0,1,0,0];var s,n,o,l,u,_,c,f,p,d,m,y,T,x,w=t._gsCache||we(t),b=t.parentNode,P=b._gsCache||we(b),S=w.computedStyle,k=w.isSVG?P.offsetParent:b.offsetParent;return s=w.isSVG&&-1!==(t.style[_e]+"").indexOf("matrix")?t.style[_e]:S?S.getPropertyValue(ce):t.currentStyle?t.currentStyle[_e]:"1,0,0,1,0,0",t.getBBox&&-1!==(t.getAttribute("transform")+"").indexOf("matrix")&&(s=t.getAttribute("transform")),s=(s+"").match(/(?:\-|\b)[\d\-\.e]+\b/g)||[1,0,0,1,0,0],s.length>6&&(s=[s[0],s[1],s[4],s[5],s[12],s[13]]),r?s[4]=s[5]=0:w.isSVG&&(u=t._gsTransform)&&(u.xOrigin||u.yOrigin)&&(s[0]=parseFloat(s[0]),s[1]=parseFloat(s[1]),s[2]=parseFloat(s[2]),s[3]=parseFloat(s[3]),s[4]=parseFloat(s[4])-(u.xOrigin-(u.xOrigin*s[0]+u.yOrigin*s[2])),s[5]=parseFloat(s[5])-(u.yOrigin-(u.xOrigin*s[1]+u.yOrigin*s[3]))),e&&(void 0===a&&le(),o=w.isSVG||w.isSVGRoot?Te(t):t,w.isSVG?(l=t.getBBox(),d=P.isSVGRoot?{x:0,y:0}:b.getBBox(),o={offsetLeft:l.x-d.x,offsetTop:l.y-d.y,offsetParent:w.offsetParent}):w.isSVGRoot?(m=parseInt(S.borderTopWidth,10)||0,y=parseInt(S.borderLeftWidth,10)||0,T=(s[0]-a)*y+s[2]*m,x=s[1]*y+(s[3]-a)*m,_=e.x,c=e.y,f=_-(_*s[0]+c*s[2]),p=c-(_*s[1]+c*s[3]),s[4]=parseFloat(s[4])+f,s[5]=parseFloat(s[5])+p,e.x-=f,e.y-=p,_=o.scaleX,c=o.scaleY,e.x*=_,e.y*=c,s[0]*=_,s[1]*=c,s[2]*=_,s[3]*=c,ge||(e.x+=T,e.y+=x)):!h&&t.offsetParent&&(e.x+=parseInt(ne(t.offsetParent,"borderLeftWidth"),10)||0,e.y+=parseInt(ne(t.offsetParent,"borderTopWidth"),10)||0),n=b===v||b===g.body,s[4]=Number(s[4])+e.x+(o.offsetLeft||0)-i.x-(n?0:b.scrollLeft||0),s[5]=Number(s[5])+e.y+(o.offsetTop||0)-i.y-(n?0:b.scrollTop||0),b&&"fixed"===ne(t,"position",S)&&(s[4]+=U(),s[5]+=j()),b&&b!==v&&k===o.offsetParent&&(s[4]-=b.offsetLeft||0,s[5]-=b.offsetTop||0,h||!b.offsetParent||w.isSVG||w.isSVGRoot||(s[4]-=parseInt(ne(b.offsetParent,"borderLeftWidth"),10)||0,s[5]-=parseInt(ne(b.offsetParent,"borderTopWidth"),10)||0))),s},Pe=function(t,e){if(!t||t===window||!t.parentNode)return[1,0,0,1,0,0];for(var i,r,s,n,a,o,l,h,u=xe(t,fe),_=xe(t.parentNode,pe),c=be(t,u,_);(t=t.parentNode)&&t.parentNode&&t!==v;)u=_,_=xe(t.parentNode,u===fe?pe:fe),l=be(t,u,_),i=c[0],r=c[1],s=c[2],n=c[3],a=c[4],o=c[5],c[0]=i*l[0]+r*l[2],c[1]=i*l[1]+r*l[3],c[2]=s*l[0]+n*l[2],c[3]=s*l[1]+n*l[3],c[4]=a*l[0]+o*l[2]+l[4],c[5]=a*l[1]+o*l[3]+l[5];return e&&(i=c[0],r=c[1],s=c[2],n=c[3],a=c[4],o=c[5],h=i*n-r*s,c[0]=n/h,c[1]=-r/h,c[2]=-s/h,c[3]=i/h,c[4]=(s*o-n*a)/h,c[5]=-(i*o-r*a)/h),c},Se=function(t,e,i,r,s){t=$(t);var n=Pe(t,!1,s),a=e.x,o=e.y;return i&&(xe(t,e),a-=e.x,o-=e.y),r=r===!0?e:r||{},r.x=a*n[0]+o*n[2]+n[4],r.y=a*n[1]+o*n[3]+n[5],r},ke=function(t,e,i){var r=t.x*e[0]+t.y*e[2]+e[4],s=t.x*e[1]+t.y*e[3]+e[5];return t.x=r*i[0]+s*i[2]+i[4],t.y=r*i[1]+s*i[3]+i[5],t},Ce=function(t,e,i){if(!(t=$(t)))return null;e=$(e);var r,s,n,a,o,l,h,u,_,c,f,p,d,m,y,T,x,w,b,P,S,C,R=t.getBBox&&me(t);if(t===window)a=j(),s=U(),n=s+(v.clientWidth||t.innerWidth||g.body.clientWidth||0),o=a+((t.innerHeight||0)-20<v.clientHeight?v.clientHeight:t.innerHeight||g.body.clientHeight||0);else{if(void 0===e||e===window)return t.getBoundingClientRect();r=xe(t),s=-r.x,a=-r.y,R?(p=t.getBBox(),d=p.width,m=p.height):t.offsetWidth?(d=t.offsetWidth,m=t.offsetHeight):(S=te(t),d=parseFloat(S.width),m=parseFloat(S.height)),n=s+d,o=a+m,"svg"!==t.nodeName.toLowerCase()||k||(y=Te(t),C=y.computedStyle||{},w=(t.getAttribute("viewBox")||"0 0").split(" "),b=parseFloat(w[0]),P=parseFloat(w[1]),T=parseFloat(C.borderLeftWidth)||0,x=parseFloat(C.borderTopWidth)||0,n-=d-(d-T)/y.scaleX-b,o-=m-(m-x)/y.scaleY-P,s-=T/y.scaleX-b,a-=x/y.scaleY-P,S&&(n+=(parseFloat(C.borderRightWidth)+T)/y.scaleX,o+=(x+parseFloat(C.borderBottomWidth))/y.scaleY))}return t===e?{left:s,top:a,width:n-s,height:o-a}:(l=Pe(t),h=Pe(e,!0),u=ke({x:s,y:a},l,h),_=ke({x:n,y:a},l,h),c=ke({x:n,y:o},l,h),f=ke({x:s,y:o},l,h),s=Math.min(u.x,_.x,c.x,f.x),a=Math.min(u.y,_.y,c.y,f.y),E.x=E.y=0,i&&xe(e,E),{left:s+E.x,top:a+E.y,width:Math.max(u.x,_.x,c.x,f.x)-s,height:Math.max(u.y,_.y,c.y,f.y)-a})},Re=function(t){return t.length&&t[0]&&(t[0].nodeType&&t[0].style&&!t.nodeType||t[0].length&&t[0][0])?!0:!1},Oe=function(t){var e,i,r,s=[],n=t.length;for(e=0;n>e;e++)if(i=t[e],Re(i))for(r=i.length,r=0;i.length>r;r++)s.push(i[r]);else s.push(i);return s},Ae="ontouchstart"in v&&"orientation"in window,De=function(t){for(var e=t.split(","),i=(void 0!==T.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==T.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":t).split(","),r={},s=8;--s>-1;)r[e[s]]=i[s],r[i[s]]=e[s];return r}("touchstart,touchmove,touchend,touchcancel"),Me=function(t,e,i,r){t.addEventListener?t.addEventListener(De[e]||e,i,r):t.attachEvent&&t.attachEvent("on"+e,i)},Le=function(t,e,i){t.removeEventListener?t.removeEventListener(De[e]||e,i):t.detachEvent&&t.detachEvent("on"+e,i)},Ne=function(t,e){for(var i=t.length;--i>-1;)if(t[i].identifier===e)return!0;return!1},Ee=function(t){s=t.touches&&t.touches.length>M,Le(t.target,"touchend",Ee)},Ie=function(t){s=t.touches&&t.touches.length>M,Me(t.target,"touchend",Ee)},ze=function(t,e,i,r,s,n){var a,o,l,h={};if(e)if(1!==s&&e instanceof Array){for(h.end=a=[],l=e.length,o=0;l>o;o++)a[o]=e[o]*s;i+=1.1,r-=1.1}else h.end="function"==typeof e?function(i){return e.call(t,i)*s}:e;return(i||0===i)&&(h.max=i),(r||0===r)&&(h.min=r),n&&(h.velocity=0),h},Fe=function(t){var e;return t&&t.getAttribute&&"BODY"!==t.nodeName?"true"===(e=t.getAttribute("data-clickable"))||"false"!==e&&(t.onclick||D.test(t.nodeName+"")||"true"===t.getAttribute("contentEditable"))?!0:Fe(t.parentNode):!1},Xe=function(t,e){for(var i,r=t.length;--r>-1;)i=t[r],i.ondragstart=i.onselectstart=e?null:w,J(i,"userSelect",e?"text":"none")},Be=function(){var t,e=g.createElement("div"),i=g.createElement("div"),r=i.style,s=g.body||T;return r.display="inline-block",r.position="relative",e.style.cssText=i.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",e.appendChild(i),s.appendChild(e),u=i.offsetHeight+18>e.scrollHeight,r.width="100%",_e||(r.paddingRight="500px",t=e.scrollLeft=e.scrollWidth-e.clientWidth,r.left="-90px",t=t!==e.scrollLeft),s.removeChild(e),t}(),Ye=function(t,i){t=$(t),i=i||{};var r,s,n,a,o,l,h=g.createElement("div"),_=h.style,c=t.firstChild,f=0,p=0,d=t.scrollTop,m=t.scrollLeft,v=t.scrollWidth,y=t.scrollHeight,T=0,x=0,w=0;he&&i.force3D!==!1?(o="translate3d(",l="px,0px)"):_e&&(o="translate(",l="px)"),this.scrollTop=function(t,e){return arguments.length?(this.top(-t,e),void 0):-this.top()},this.scrollLeft=function(t,e){return arguments.length?(this.left(-t,e),void 0):-this.left()},this.left=function(r,s){if(!arguments.length)return-(t.scrollLeft+p);var n=t.scrollLeft-m,a=p;return(n>2||-2>n)&&!s?(m=t.scrollLeft,e.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-m),i.onKill&&i.onKill(),void 0):(r=-r,0>r?(p=0|r-.5,r=0):r>x?(p=0|r-x,r=x):p=0,(p||a)&&(o?this._suspendTransforms||(_[_e]=o+-p+"px,"+-f+l):_.left=-p+"px",Be&&p+T>=0&&(_.paddingRight=p+T+"px")),t.scrollLeft=0|r,m=t.scrollLeft,void 0)},this.top=function(r,s){if(!arguments.length)return-(t.scrollTop+f);var n=t.scrollTop-d,a=f;return(n>2||-2>n)&&!s?(d=t.scrollTop,e.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-d),i.onKill&&i.onKill(),void 0):(r=-r,0>r?(f=0|r-.5,r=0):r>w?(f=0|r-w,r=w):f=0,(f||a)&&(o?this._suspendTransforms||(_[_e]=o+-p+"px,"+-f+l):_.top=-f+"px"),t.scrollTop=0|r,d=t.scrollTop,void 0)},this.maxScrollTop=function(){return w},this.maxScrollLeft=function(){return x},this.disable=function(){for(c=h.firstChild;c;)a=c.nextSibling,t.appendChild(c),c=a;t===h.parentNode&&t.removeChild(h)},this.enable=function(){if(c=t.firstChild,c!==h){for(;c;)a=c.nextSibling,h.appendChild(c),c=a;t.appendChild(h),this.calibrate()}},this.calibrate=function(e){var i,a,o=t.clientWidth===r;d=t.scrollTop,m=t.scrollLeft,(!o||t.clientHeight!==s||h.offsetHeight!==n||v!==t.scrollWidth||y!==t.scrollHeight||e)&&((f||p)&&(i=this.left(),a=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),(!o||e)&&(_.display="block",_.width="auto",_.paddingRight="0px",T=Math.max(0,t.scrollWidth-t.clientWidth),T&&(T+=ne(t,"paddingLeft")+(u?ne(t,"paddingRight"):0))),_.display="inline-block",_.position="relative",_.overflow="visible",_.verticalAlign="top",_.width="100%",_.paddingRight=T+"px",u&&(_.paddingBottom=ne(t,"paddingBottom",!0)),k&&(_.zoom="1"),r=t.clientWidth,s=t.clientHeight,v=t.scrollWidth,y=t.scrollHeight,x=t.scrollWidth-r,w=t.scrollHeight-s,n=h.offsetHeight,_.display="block",(i||a)&&(this.left(i),this.top(a)))},this.content=h,this.element=t,this._suspendTransforms=!1,this.enable()},We=function(r,a){t.call(this,r),r=$(r),n||(n=d.com.greensock.plugins.ThrowPropsPlugin),this.vars=a=a||{},this.target=r,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(a.dragResistance)||0,this.edgeResistance=isNaN(a.edgeResistance)?1:parseFloat(a.edgeResistance)||0,this.lockAxis=a.lockAxis,this.autoScroll=a.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!a.allowEventDefault;var o,l,h,u,m,y,T,w,R,D,E,F,Y,j,U,H,K,te,ee,ie,re,se,le,he,ue,_e,ce,fe,pe,de,me,ge=(a.type||(k?"top,left":"x,y")).toLowerCase(),ve=-1!==ge.indexOf("x")||-1!==ge.indexOf("y"),ye=-1!==ge.indexOf("rotation"),Te=ye?"rotation":ve?"x":"left",xe=ve?"y":"top",we=-1!==ge.indexOf("x")||-1!==ge.indexOf("left")||"scroll"===ge,be=-1!==ge.indexOf("y")||-1!==ge.indexOf("top")||"scroll"===ge,ke=a.minimumMovement||2,Ce=this,Re=z(a.trigger||a.handle||r),Oe={},Ee=0,Be=!1,je=a.clickableTest||Fe,Ue=function(t){if(Ce.autoScroll&&Ce.isDragging&&(te||Be)){var e,i,s,n,a,o,h,u,_=r,c=15*Ce.autoScroll;for(Be=!1,I.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=v.scrollTop?v.scrollTop:g.body.scrollTop,I.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=v.scrollLeft?v.scrollLeft:g.body.scrollLeft,n=Ce.pointerX-I.scrollLeft,a=Ce.pointerY-I.scrollTop;_&&!i;)i=q(_.parentNode),e=i?I:_.parentNode,s=i?{bottom:Math.max(v.clientHeight,window.innerHeight||0),right:Math.max(v.clientWidth,window.innerWidth||0),left:0,top:0}:e.getBoundingClientRect(),o=h=0,be&&(a>s.bottom-40&&(u=e._gsMaxScrollY-e.scrollTop)?(Be=!0,h=Math.min(u,0|c*(1-Math.max(0,s.bottom-a)/40))):s.top+40>a&&e.scrollTop&&(Be=!0,h=-Math.min(e.scrollTop,0|c*(1-Math.max(0,a-s.top)/40))),h&&(e.scrollTop+=h)),we&&(n>s.right-40&&(u=e._gsMaxScrollX-e.scrollLeft)?(Be=!0,o=Math.min(u,0|c*(1-Math.max(0,s.right-n)/40))):s.left+40>n&&e.scrollLeft&&(Be=!0,o=-Math.min(e.scrollLeft,0|c*(1-Math.max(0,n-s.left)/40))),o&&(e.scrollLeft+=o)),i&&(o||h)&&(window.scrollTo(e.scrollLeft,e.scrollTop),ri(Ce.pointerX+o,Ce.pointerY+h)),_=e}if(te){var f=Ce.x,p=Ce.y,d=1e-6;d>f&&f>-d&&(f=0),d>p&&p>-d&&(p=0),ye?(pe.data.rotation=Ce.rotation=f,pe.setRatio(1)):l?(be&&l.top(p),we&&l.left(f)):ve?(be&&(pe.data.y=p),we&&(pe.data.x=f),pe.setRatio(1)):(be&&(r.style.top=p+"px"),we&&(r.style.left=f+"px")),w&&!t&&ae(Ce,"drag","onDrag")}te=!1},Ge=function(t,i){var s;r._gsTransform||!ve&&!ye||e.set(r,{x:"+=0",overwrite:!1}),ve?(Ce.y=r._gsTransform.y,Ce.x=r._gsTransform.x):ye?Ce.x=Ce.rotation=r._gsTransform.rotation:l?(Ce.y=l.top(),Ce.x=l.left()):(Ce.y=parseInt(r.style.top,10)||0,Ce.x=parseInt(r.style.left,10)||0),!ie&&!re||i||(ie&&(s=ie(Ce.x),s!==Ce.x&&(Ce.x=s,ye&&(Ce.rotation=s),te=!0)),re&&(s=re(Ce.y),s!==Ce.y&&(Ce.y=s,te=!0)),te&&Ue(!0)),t||ae(Ce,"throwupdate","onThrowUpdate")},qe=function(){var t,e,i,s;T=!1,l?(l.calibrate(),Ce.minX=D=-l.maxScrollLeft(),Ce.minY=F=-l.maxScrollTop(),Ce.maxX=R=Ce.maxY=E=0,T=!0):a.bounds&&(t=oe(a.bounds,r.parentNode),ye?(Ce.minX=D=t.left,Ce.maxX=R=t.left+t.width,Ce.minY=F=Ce.maxY=E=0):void 0!==a.bounds.maxX||void 0!==a.bounds.maxY?(t=a.bounds,Ce.minX=D=t.minX,Ce.minY=F=t.minY,Ce.maxX=R=t.maxX,Ce.maxY=E=t.maxY):(e=oe(r,r.parentNode),Ce.minX=D=ne(r,Te)+t.left-e.left,Ce.minY=F=ne(r,xe)+t.top-e.top,Ce.maxX=R=D+(t.width-e.width),Ce.maxY=E=F+(t.height-e.height)),D>R&&(Ce.minX=R,Ce.maxX=R=D,D=Ce.minX),F>E&&(Ce.minY=E,Ce.maxY=E=F,F=Ce.minY),ye&&(Ce.minRotation=D,Ce.maxRotation=R),T=!0),a.liveSnap&&(i=a.liveSnap===!0?a.snap||{}:a.liveSnap,s=i instanceof Array||"function"==typeof i,ye?(ie=ti(s?i:i.rotation,D,R,1),re=null):(we&&(ie=ti(s?i:i.x||i.left||i.scrollLeft,D,R,l?-1:1)),be&&(re=ti(s?i:i.y||i.top||i.scrollTop,F,E,l?-1:1))))},He=function(){Ce.isThrowing=!1,ae(Ce,"throwcomplete","onThrowComplete")},Qe=function(){Ce.isThrowing=!1},Ze=function(t,e){var i,s,o,h;t&&n?(t===!0&&(i=a.snap||{},s=i instanceof Array||"function"==typeof i,t={resistance:(a.throwResistance||a.resistance||1e3)/(ye?10:1)},ye?t.rotation=ze(Ce,s?i:i.rotation,R,D,1,e):(we&&(t[Te]=ze(Ce,s?i:i.x||i.left||i.scrollLeft,R,D,l?-1:1,e||"x"===Ce.lockedAxis)),be&&(t[xe]=ze(Ce,s?i:i.y||i.top||i.scrollTop,E,F,l?-1:1,e||"y"===Ce.lockedAxis)))),Ce.isThrowing=!0,h=isNaN(a.overshootTolerance)?1===a.edgeResistance?0:1-Ce.edgeResistance+.2:a.overshootTolerance,Ce.tween=o=n.to(l||r,{throwProps:t,ease:a.ease||d.Power3.easeOut,onComplete:He,onOverwrite:Qe,onUpdate:a.fastMode?ae:Ge,onUpdateParams:a.fastMode?[Ce,"onthrowupdate","onThrowUpdate"]:x},isNaN(a.maxDuration)?2:a.maxDuration,isNaN(a.minDuration)?0===h?0:.5:a.minDuration,h),a.fastMode||(l&&(l._suspendTransforms=!0),o.render(o.duration(),!0,!0),Ge(!0,!0),Ce.endX=Ce.x,Ce.endY=Ce.y,ye&&(Ce.endRotation=Ce.x),o.play(0),Ge(!0,!0),l&&(l._suspendTransforms=!1))):T&&Ce.applyBounds()},$e=function(){he=Pe(r.parentNode,!0),he[1]||he[2]||1!=he[0]||1!=he[3]||0!=he[4]||0!=he[5]||(he=null)},Ke=function(){var t=1-Ce.edgeResistance;$e(),l?(qe(),y=l.top(),m=l.left()):(Je()?(Ge(!0,!0),qe()):Ce.applyBounds(),ye?(K=Se(r,{x:0,y:0}),Ge(!0,!0),m=Ce.x,y=Ce.y=Math.atan2(K.y-u,h-K.x)*b):(ce=r.parentNode?r.parentNode.scrollTop||0:0,fe=r.parentNode?r.parentNode.scrollLeft||0:0,y=ne(r,xe),m=ne(r,Te))),T&&t&&(m>R?m=R+(m-R)/t:D>m&&(m=D-(D-m)/t),ye||(y>E?y=E+(y-E)/t:F>y&&(y=F-(F-y)/t)))},Je=function(){return Ce.tween&&Ce.tween.isActive()},ti=function(t,e,i,r){return"function"==typeof t?function(s){var n=Ce.isPressed?1-Ce.edgeResistance:1;return t.call(Ce,s>i?i+(s-i)*n:e>s?e+(s-e)*n:s)*r}:t instanceof Array?function(r){for(var s,n,a=t.length,o=0,l=P;--a>-1;)s=t[a],n=s-r,0>n&&(n=-n),l>n&&s>=e&&i>=s&&(o=a,l=n);return t[o]}:isNaN(t)?function(t){return t}:function(){return t*r}},ei=function(t){var i,s;if(o&&!Ce.isPressed&&t&&!("mousedown"===t.type&&30>S()-_e&&De[Ce.pointerEvent.type])){if(ue=Je(),Ce.pointerEvent=t,De[t.type]?(le=-1!==t.type.indexOf("touch")?t.currentTarget:g,Me(le,"touchend",si),Me(le,"touchmove",ii),Me(le,"touchcancel",si),Me(g,"touchstart",Ie)):(le=null,Me(g,"mousemove",ii)),me=null,Me(g,"mouseup",si),t&&t.target&&Me(t.target,"mouseup",si),se=je.call(Ce,t.target)&&!a.dragClickables)return Me(t.target,"change",si),ae(Ce,"press","onPress"),Xe(Re,!0),void 0;if(de=!le||we===be||l||Ce.vars.allowNativeTouchScrolling===!1?!1:we?"y":"x",k?t=Z(t,!0):de||Ce.allowEventDefault||(t.preventDefault(),t.preventManipulation&&t.preventManipulation()),t.changedTouches?(t=U=t.changedTouches[0],H=t.identifier):t.pointerId?H=t.pointerId:U=H=null,M++,X(Ue),u=Ce.pointerY=t.pageY,h=Ce.pointerX=t.pageX,(de||Ce.autoScroll)&&Q(r.parentNode),!Ce.autoScroll||ye||l||!r.parentNode||r.getBBox||!r.parentNode._gsMaxScrollX||C.parentNode||(C.style.width=r.parentNode.scrollWidth+"px",r.parentNode.appendChild(C)),Ke(),he&&(i=h*he[0]+u*he[2]+he[4],u=h*he[1]+u*he[3]+he[5],h=i),Ce.tween&&Ce.tween.kill(),Ce.isThrowing=!1,e.killTweensOf(l||r,!0,Oe),l&&e.killTweensOf(r,!0,{scrollTo:1}),Ce.tween=Ce.lockedAxis=null,(a.zIndexBoost||!ye&&!l&&a.zIndexBoost!==!1)&&(r.style.zIndex=We.zIndex++),Ce.isPressed=!0,w=!(!a.onDrag&&!Ce._listeners.drag),!ye)for(s=Re.length;--s>-1;)J(Re[s],"cursor",a.cursor||"move");ae(Ce,"press","onPress")}},ii=function(t){var e,i,r,n,a=t;if(o&&!s&&Ce.isPressed&&t){if(Ce.pointerEvent=t,e=t.changedTouches){if(t=e[0],t!==U&&t.identifier!==H){for(n=e.length;--n>-1&&(t=e[n]).identifier!==H;);if(0>n)return}}else if(t.pointerId&&H&&t.pointerId!==H)return;if(k)t=Z(t,!0);else{if(le&&de&&!me&&(i=t.pageX,r=t.pageY,he&&(n=i*he[0]+r*he[2]+he[4],r=i*he[1]+r*he[3]+he[5],i=n),me=Math.abs(i-h)>Math.abs(r-u)&&we?"x":"y",Ce.vars.lockAxisOnTouchScroll!==!1&&(Ce.lockedAxis="x"===me?"y":"x","function"==typeof Ce.vars.onLockAxis&&Ce.vars.onLockAxis.call(Ce,a)),L&&de===me))return si(a),void 0;Ce.allowEventDefault||de&&(!me||de===me)||a.cancelable===!1||(a.preventDefault(),a.preventManipulation&&a.preventManipulation())}Ce.autoScroll&&(Be=!0),ri(t.pageX,t.pageY)}},ri=function(t,e){var i,r,s,n,a,o,l=1-Ce.dragResistance,_=1-Ce.edgeResistance;Ce.pointerX=t,Ce.pointerY=e,ye?(n=Math.atan2(K.y-e,t-K.x)*b,a=Ce.y-n,Ce.y=n,a>180?y-=360:-180>a&&(y+=360),s=m+(y-n)*l):(he&&(o=t*he[0]+e*he[2]+he[4],e=t*he[1]+e*he[3]+he[5],t=o),r=e-u,i=t-h,ke>r&&r>-ke&&(r=0),ke>i&&i>-ke&&(i=0),(Ce.lockAxis||Ce.lockedAxis)&&(i||r)&&(o=Ce.lockedAxis,o||(Ce.lockedAxis=o=we&&Math.abs(i)>Math.abs(r)?"y":be?"x":null,o&&"function"==typeof Ce.vars.onLockAxis&&Ce.vars.onLockAxis.call(Ce,Ce.pointerEvent)),"y"===o?r=0:"x"===o&&(i=0)),s=m+i*l,n=y+r*l),ie||re?(ie&&(s=ie(s)),re&&(n=re(n))):T&&(s>R?s=R+(s-R)*_:D>s&&(s=D+(s-D)*_),ye||(n>E?n=E+(n-E)*_:F>n&&(n=F+(n-F)*_))),ye||(s=Math.round(s),n=Math.round(n)),(Ce.x!==s||Ce.y!==n&&!ye)&&(ye?Ce.endRotation=Ce.x=Ce.endX=s:(be&&(Ce.y=Ce.endY=n),we&&(Ce.x=Ce.endX=s)),te=!0,Ce.isDragging||(Ce.isDragging=!0,ae(Ce,"dragstart","onDragStart")))},si=function(t,e){if(o&&Ce.isPressed&&(!t||null==H||e||!(t.pointerId&&t.pointerId!==H||t.changedTouches&&!Ne(t.changedTouches,H)))){Ce.isPressed=!1;var i,s,n,l,h=t,u=Ce.isDragging;if(le?(Le(le,"touchend",si),Le(le,"touchmove",ii),Le(le,"touchcancel",si),Le(g,"touchstart",Ie)):Le(g,"mousemove",ii),Le(g,"mouseup",si),t&&t.target&&Le(t.target,"mouseup",si),te=!1,C.parentNode&&C.parentNode.removeChild(C),se)return t&&Le(t.target,"change",si),Xe(Re,!1),ae(Ce,"release","onRelease"),ae(Ce,"click","onClick"),se=!1,void 0;if(B(Ue),!ye)for(s=Re.length;--s>-1;)J(Re[s],"cursor",a.cursor||"move");if(u&&(Ee=N=S(),Ce.isDragging=!1),M--,t){if(k&&(t=Z(t,!1)),i=t.changedTouches,i&&(t=i[0],t!==U&&t.identifier!==H)){for(s=i.length;--s>-1&&(t=i[s]).identifier!==H;);if(0>s)return}Ce.pointerEvent=h,Ce.pointerX=t.pageX,Ce.pointerY=t.pageY}return h&&!u?(ue&&(a.snap||a.bounds)&&Ze(a.throwProps),ae(Ce,"release","onRelease"),L&&"touchmove"===h.type||(ae(Ce,"click","onClick"),l=h.target||h.srcElement||r,l.click?l.click():g.createEvent&&(n=g.createEvent("MouseEvents"),n.initEvent("click",!0,!0),l.dispatchEvent(n)),_e=S())):(Ze(a.throwProps),k||Ce.allowEventDefault||!h||!a.dragClickables&&je.call(Ce,h.target)||!u||de&&(!me||de!==me)||h.cancelable===!1||(h.preventDefault(),h.preventManipulation&&h.preventManipulation()),ae(Ce,"release","onRelease")),u&&ae(Ce,"dragend","onDragEnd"),!0}},ni=function(t){if(t&&Ce.isDragging){var e=t.target||t.srcElement||r.parentNode,i=e.scrollLeft-e._gsScrollX,s=e.scrollTop-e._gsScrollY;(i||s)&&(h-=i,u-=s,e._gsScrollX+=i,e._gsScrollY+=s,ri(Ce.pointerX,Ce.pointerY))}},ai=function(t){var e=S(),i=40>e-_e,r=40>e-Ee;(Ce.isPressed||r||i)&&(t.preventDefault?(t.preventDefault(),(i||r&&Ce.vars.suppressClickOnDrag!==!1)&&t.stopImmediatePropagation()):t.returnValue=!1,t.preventManipulation&&t.preventManipulation())};ee=We.get(this.target),ee&&ee.kill(),this.startDrag=function(t){ei(t),Ce.isDragging||(Ce.isDragging=!0,ae(Ce,"dragstart","onDragStart"))},this.drag=ii,this.endDrag=function(t){si(t,!0)},this.timeSinceDrag=function(){return Ce.isDragging?0:(S()-Ee)/1e3},this.hitTest=function(t,e){return We.hitTest(Ce.target,t,e)},this.getDirection=function(t,e){var i,r,s,a,o,l,h="velocity"===t&&n?t:"object"!=typeof t||ye?"start":"element";return"element"===h&&(o=Ve(Ce.target),l=Ve(t)),i="start"===h?Ce.x-m:"velocity"===h?n.getVelocity(this.target,Te):o.left+o.width/2-(l.left+l.width/2),ye?0>i?"counter-clockwise":"clockwise":(e=e||2,r="start"===h?Ce.y-y:"velocity"===h?n.getVelocity(this.target,xe):o.top+o.height/2-(l.top+l.height/2),s=Math.abs(i/r),a=1/e>s?"":0>i?"left":"right",e>s&&(""!==a&&(a+="-"),a+=0>r?"up":"down"),a)},this.applyBounds=function(t){var e,i;return t&&a.bounds!==t?(a.bounds=t,Ce.update(!0)):(Ge(!0),qe(),T&&(e=Ce.x,i=Ce.y,T&&(e>R?e=R:D>e&&(e=D),i>E?i=E:F>i&&(i=F)),(Ce.x!==e||Ce.y!==i)&&(Ce.x=Ce.endX=e,ye?Ce.endRotation=e:Ce.y=Ce.endY=i,te=!0,Ue())),Ce)},this.update=function(t){var e=Ce.x,i=Ce.y;return $e(),t?Ce.applyBounds():(te&&Ue(),Ge(!0)),Ce.isPressed&&(we&&Math.abs(e-Ce.x)>.01||be&&Math.abs(i-Ce.y)>.01&&!ye)&&Ke(),Ce},this.enable=function(t){var s,h,u;if("soft"!==t){for(h=Re.length;--h>-1;)u=Re[h],Me(u,"mousedown",ei),Me(u,"touchstart",ei),Me(u,"click",ai,!0),ye||J(u,"cursor",a.cursor||"move"),J(u,"touchCallout","none"),J(u,"touchAction",we===be||l?"none":we?"pan-y":"pan-x");Xe(Re,!1)}return V(Ce.target,ni),o=!0,n&&"soft"!==t&&n.track(l||r,ve?"x,y":ye?"rotation":"top,left"),l&&l.enable(),r._gsDragID=s="d"+A++,O[s]=this,l&&(l.element._gsDragID=s),e.set(r,{x:"+=0",overwrite:!1}),pe={t:r,data:k?j:r._gsTransform,tween:{},setRatio:k?function(){e.set(r,Y)}:i._internals.setTransformRatio||i._internals.set3DTransformRatio},this.update(!0),Ce},this.disable=function(t){var e,i,s=this.isDragging;if(!ye)for(e=Re.length;--e>-1;)J(Re[e],"cursor",null);if("soft"!==t){for(e=Re.length;--e>-1;)i=Re[e],J(i,"touchCallout",null),J(i,"touchAction",null),Le(i,"mousedown",ei),Le(i,"touchstart",ei),Le(i,"click",ai);Xe(Re,!0),le&&(Le(le,"touchcancel",si),Le(le,"touchend",si),Le(le,"touchmove",ii)),Le(g,"mouseup",si),Le(g,"mousemove",ii)}return G(r,ni),o=!1,n&&"soft"!==t&&n.untrack(l||r,ve?"x,y":ye?"rotation":"top,left"),l&&l.disable(),B(Ue),this.isDragging=this.isPressed=se=!1,s&&ae(this,"dragend","onDragEnd"),Ce},this.enabled=function(t,e){return arguments.length?t?this.enable(e):this.disable(e):o},this.kill=function(){return Ce.isThrowing=!1,e.killTweensOf(l||r,!0,Oe),Ce.disable(),delete O[r._gsDragID],Ce},-1!==ge.indexOf("scroll")&&(l=this.scrollProxy=new Ye(r,W({onKill:function(){Ce.isPressed&&si(null)}},a)),r.style.overflowY=be&&!Ae?"auto":"hidden",r.style.overflowX=we&&!Ae?"auto":"hidden",r=l.content),a.force3D!==!1&&e.set(r,{force3D:!0}),ye?Oe.rotation=1:(we&&(Oe[Te]=1),be&&(Oe[xe]=1)),ye?(Y=p,j=Y.css,Y.overwrite=!1):ve&&(Y=we&&be?_:we?c:f,j=Y.css,Y.overwrite=!1),this.enable()},je=We.prototype=new t;je.constructor=We,je.pointerX=je.pointerY=0,je.isDragging=je.isPressed=!1,We.version="0.14.0",We.zIndex=1e3,Me(g,"touchcancel",function(){}),Me(g,"contextmenu",function(){var t;for(t in O)O[t].isPressed&&O[t].endDrag()}),We.create=function(t,i){"string"==typeof t&&(t=e.selector(t));for(var r=Re(t)?Oe(t):[t],s=r.length;--s>-1;)r[s]=new We(r[s],i);return r},We.get=function(t){return O[($(t)||{})._gsDragID]},We.timeSinceDrag=function(){return(S()-N)/1e3};var Ue={},Ve=function(t,e){if(t===window)return Ue.left=Ue.top=0,Ue.width=Ue.right=v.clientWidth||t.innerWidth||g.body.clientWidth||0,Ue.height=Ue.bottom=(t.innerHeight||0)-20<v.clientHeight?v.clientHeight:t.innerHeight||g.body.clientHeight||0,Ue;var i=t.pageX!==e?{left:t.pageX,top:t.pageY,right:t.pageX+1,bottom:t.pageY+1}:t.nodeType||t.left===e||t.top===e?$(t).getBoundingClientRect():t;return i.right===e&&i.width!==e?(i.right=i.left+i.width,i.bottom=i.top+i.height):i.width===e&&(i={width:i.right-i.left,height:i.bottom-i.top,right:i.right,left:i.left,bottom:i.bottom,top:i.top}),i
};return We.hitTest=function(t,e,i){if(t===e)return!1;var r,s,n,a=Ve(t),o=Ve(e),l=o.left>a.right||o.right<a.left||o.top>a.bottom||o.bottom<a.top;return l||!i?!l:(n=-1!==(i+"").indexOf("%"),i=parseFloat(i)||0,r={left:Math.max(a.left,o.left),top:Math.max(a.top,o.top)},r.width=Math.min(a.right,o.right)-r.left,r.height=Math.min(a.bottom,o.bottom)-r.top,0>r.width||0>r.height?!1:n?(i*=.01,s=r.width*r.height,s>=a.width*a.height*i||s>=o.width*o.height*i):r.width>i&&r.height>i)},C.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",We},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),require("../plugins/CSSPlugin.js"),module.exports=e())}("Draggable");
function isFunction(n){return Object.prototype.toString.call(n)=="[object Function]"}function trace(n){console.log("TRACE "+n)}function loadXML(n,t){typeof loadXMLAsJavascript!="undefined"&&loadXMLAsJavascript==!0?setTimeout(function(){n=n.split("xml/")[1];n="_"+n.split(".xml").join("_xml");var i=eval(n);t(i)},0):$.ajax({type:"GET",url:n,dataType:"xml",error:xmlError,success:function(n){t(n)}})}function xmlError(n,t){var i="XML "+t;i+="\n"+n.statusText;i+="\nIf you are running this course offline, remember some browsers cannot load xml when offline.";alert(i)}function init(){loadJS();openerUpdate()}function openerUpdate(){try{top.opener.update()}catch(n){}}function openerClose(){try{top.opener.courseClose()}catch(n){}}function courseClose(){try{trackingObj.closeCourse()}catch(n){}try{top.opener.splashClose()}catch(n){}}var doc,win,devmode=!1;window.console||(console={});window.console.log||(console.log=function(){});window.console.trace||(console.trace=function(){console.log("console.trace doesn't work in IE ")});window.console.warn||(console.warn=function(n){console.log("WARN > "+n)});window.console.error||(console.error=function(n){console.log("ERROR > "+n)});window.console.group||(console.group=function(n){console.log("GROUP > "+n)});window.console.groupEnd||(console.groupEnd=function(){console.log("GROUPEND ")});Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){try{this.keyCode=0}catch(n){}this.returnValue=!1});Event.prototype.stopImmediatePropagation||(Event.prototype.stopImmediatePropagation=function(){devmode&&console.warn("stopImmediatePropagation is not a function (IE8?)");this.returnValue=!0})
function fnLaunchBIT(n,t,i,r,u){if(sURL=sBITServer+sBITUrl,sURL+="?prj="+n+"&",sURL+="scoid="+t+"&",sURL+="scrid="+i+"&",sURL+=r?"dmode=4&":"dmode=8&",sURL+="company="+sBITcompany+"&",sURL+="maintain=true",typeof u=="string"){var f="The screen id has not been identified from the filename:\r";f+=u+"\r";f+="Please specify the location of the current screen when logging this issue.";alert(f)}_fnNewWindow(sURL,"maintain","toolbar=0,menubar=0,scrollbars=1,resizable=1,status=1,location=0,directories=0,copyhistory=0,height=400,width=630,left=0,top=0")}function _fnNewWindow(n,t,i){var r=window.open(n,t,i);r.focus()}var sURL="",sBITServer="http://clients.bright-wave.co.uk/",sBITUrl="bild/wp_issue_management/bild_issue_capture_frm_course.aspx",sBITcompany="strFld_BWPrjFolder",bIsClientCapture=!0
function lmsConnection(){var n=this;n.connection_error_message="Cannot locate the LMS API adapter";n.api_error_message="Cannot find the API";n.api_update_error_message="Cannot update from the API";n.api_connection_lost="Your connection has been lost. If you continue with the course, your progress from this point on will not be recorded and, importantly, your completion will not be recorded in the LMS. If you wish to continue with the training at this time, you will need to close this browser window and re launch the course.";n.findAPI_attempts=0;n.max_findAPI_attempts=300;n.save_to_cookie=!1;n.cookie_path="lite_scorm";n.latest_update_time;n.module_time_initialised;n.top=window.top;n.oAPI;n.project_code;n.callback_function;n.fail_function;n.api_student_name;n.api_lesson_location;n.api_lesson_status;n.api_score;n.api_suspend_data;n.module_student_name="Student,Joe";n.module_lesson_location="0";n.module_lesson_status="incomplete";n.module_score="null";n.module_suspend_data="0";n.module_session_time="00:00:00";n.createConnection=function(t,i,r){n.callback_function=i;n.fail_function=r;n.project_code=t;n.getAPI()};n.enableCookieSaving=function(){n.save_to_cookie=!0};n.clearCookie=function(){n.eraseCookie("cookie_student_name");n.eraseCookie("cookie_lesson_location");n.eraseCookie("cookie_lesson_status");n.eraseCookie("cookie_score");n.eraseCookie("cookie_suspend_data");n.eraseCookie("lms_update_time");n.eraseCookie("cookie_update_time");n.module_student_name="Student,Joe";n.module_lesson_location="0";n.module_lesson_status="browsed";n.module_score="null";n.module_suspend_data="0";n.module_session_time="00:00:00";n.api_student_name=null;n.api_lesson_location=null;n.api_lesson_status=null;n.api_score=null;n.api_suspend_data=null;n.updateLMS()};n.getStudentName=function(){return n.module_student_name};n.getStudentEmail=function(){return""};n.getLessonLocation=function(){return n.module_lesson_location};n.getLessonStatus=function(){return n.module_lesson_status};n.getScore=function(){var t=Number(n.module_score);return isNaN(t)&&(t=0),t};n.getSuspendData=function(){return n.module_suspend_data};n.getCertificateCode=function(){return""};n.setStudentName=function(t){n.module_student_name=t};n.setLessonLocation=function(t){n.module_lesson_location=t};n.setLessonStatus=function(t){n.module_lesson_status=t};n.setScore=function(t){n.module_score=t};n.setSuspendData=function(t){n.module_suspend_data=t};n.resetLMS=function(){console.warn("WARN: DANGER resetLMS");console.trace();n.setLessonLocation("0");n.setLessonStatus("incomplete");n.setScore("0");n.setSuspendData("0");n.updateLMS();console.warn("WARN: Close course window to keep resetLMS changes")};n.testCompletion=function(){};n.updateVarsFromLMS=function(){if(n.checkAPI())try{n.api_student_name=n.oAPI.LMSGetValue("cmi.core.student_name");n.api_lesson_location=n.oAPI.LMSGetValue("cmi.core.lesson_location");n.api_lesson_status=n.oAPI.LMSGetValue("cmi.core.lesson_status").toLowerCase();n.api_score=n.oAPI.LMSGetValue("cmi.core.score.raw");var t=n.oAPI.LMSGetValue("cmi.suspend_data");n.eraseCookie("lms_update_time");n.api_suspend_data=t;n.save_to_cookie&&n.readCookie("cookie_update_time")>n.readCookie("lms_update_time")?(n.updateFromCookies(),n.updateLMS()):((n.api_lesson_status=="not attempted"||n.api_lesson_status==""||n.api_lesson_status==" ")&&n.updateLMS(),n.api_student_name&&(n.module_student_name=n.api_student_name),n.api_lesson_location&&(n.module_lesson_location=n.api_lesson_location),n.api_lesson_status&&(n.module_lesson_status=n.api_lesson_status),n.api_score&&(n.module_score=n.api_score),n.api_suspend_data&&(n.module_suspend_data=n.api_suspend_data))}catch(i){alert(n.api_update_error_message+" - "+i.message)}else n.save_to_cookie&&n.updateFromCookies()};n.formatTime=function(n){var u=new Date(n),r=u.getUTCHours(),t,i;return r<10&&(r="0"+r.toString()),t=u.getUTCMinutes(),t<10&&(t="0"+t.toString()),i=u.getUTCSeconds(),i<10&&(i="0"+i.toString()),r+":"+t+":"+i};n.updateLMS=function(){if(n.latest_update_time=(new Date).getTime(),n.checkAPI()){n.module_session_time=n.formatTime(n.latest_update_time-n.module_time_initialised);var t=!1;n.api_lesson_location!=n.module_lesson_location&&(n.oAPI.LMSSetValue("cmi.core.lesson_location",n.module_lesson_location),n.api_lesson_location=n.module_lesson_location,t=!0);n.api_lesson_status!=n.module_lesson_status&&(n.oAPI.LMSSetValue("cmi.core.lesson_status",n.module_lesson_status),n.api_lesson_status=n.module_lesson_status,t=!0);String(n.api_score)!=String(n.module_score)&&String(n.module_score)!="null"&&(n.oAPI.LMSSetValue("cmi.core.score.raw",String(n.module_score)),n.oAPI.LMSSetValue("cmi.core.score.min","0"),n.oAPI.LMSSetValue("cmi.core.score.max","100"),n.api_score=n.module_score,t=!0);n.api_suspend_data!=n.module_suspend_data&&(n.oAPI.LMSSetValue("cmi.suspend_data",n.module_suspend_data),n.api_suspend_data=n.module_suspend_data,t=!0);n.api_session_time!=n.module_session_time&&(n.oAPI.LMSSetValue("cmi.core.session_time",n.module_session_time),n.api_session_time=n.module_session_time,t=!0);t&&n.oAPI.LMSCommit("");n.save_to_cookie&&n.createCookie("lms_update_time",n.latest_update_time)}n.save_to_cookie&&n.updateCookies()};n.updateCookies=function(){n.createCookie("cookie_student_name",n.module_student_name);n.createCookie("cookie_lesson_location",n.module_lesson_location);n.createCookie("cookie_lesson_status",n.module_lesson_status);n.createCookie("cookie_score",n.module_score);n.createCookie("cookie_suspend_data",n.module_suspend_data);n.createCookie("cookie_update_time",n.latest_update_time)};n.updateFromCookies=function(){n.module_student_name=n.readCookie("cookie_student_name");n.module_lesson_location=n.readCookie("cookie_lesson_location");n.module_lesson_status=n.readCookie("cookie_lesson_status");n.module_score=n.readCookie("cookie_score");n.module_suspend_data=n.readCookie("cookie_suspend_data")};n.closeConnection=function(){n.updateLMS();n.checkAPI()&&(n.oAPI.LMSSetValue("cmi.core.exit","suspend"),n.oAPI.LMSCommit(""),n.oAPI.LMSFinish(""))};n.initialiseAPI=function(){n.module_time_initialised=(new Date).getTime();n.oAPI&&n.oAPI.LMSInitialize("");n.updateVarsFromLMS();n.callback_function&&n.callback_function()};n.checkAPI=function(){try{var t=n.oAPI.LMSGetLastError();return t!="0"&&alert("LMS ERROR: "+t),!0}catch(i){return n.oAPI&&alert(n.api_connection_lost),!1}};n.testOpener=function(n){var t=!1;try{t=n.opener?!0:!1}catch(i){t=!1}return t};n.getAPI=function(){var t=n.findAPI(window);t==null&&n.testOpener(n.top)&&(t=n.findAPI(n.top.opener),t==null&&n.testOpener(n.top.opener)&&(t=n.findAPI(n.top.opener.opener)));t==null?n.connection_error_message&&(n.save_to_cookie||n.fail_function()):(n.oAPI=t,n.initialiseAPI())};n.findAPI=function(t){try{}catch(i){}try{while(t.API==null&&t.parent!=null&&t.parent!=t){if(n.findAPI_attempts++,n.findAPI_attempts>n.max_findAPI_attempts)return n.api_error_message&&alert(n.api_error_message),null;t=t.parent}return t.API}catch(i){return null}};n.createCookie=function(n,t,i){var i,r,u;i||(i=7);i?(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toGMTString()):u="";document.cookie=n+"="+t+u+"; path=/"};n.readCookie=function(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null};n.eraseCookie=function(t){n.createCookie(t,"",-1)}}
function Tracking(){var n=this;n.sSuspend_data="";n.sSuspend_score=0;n.sLesson_status="incomplete";n.sLesson_location=null;n.custom_data=[];n.lms_ready=!1;n.dispatcher=createDispatcher("tracking");n.trackingConnection=new lmsConnection;n.init=function(){n.trackingConnection.createConnection(masterObj.projectCode,n.connectedCallback,n.connectionFailedCallback)};n.connectedCallback=function(){n.readTrackingFromLMS()};n.connectionFailedCallback=function(){alert("Failed to connect to SCORM API. Tracking data not available.");n.readTrackingFromLMS()};n.readTrackingFromLMS=function(){var r,t,i,u;if(n.sSuspend_data=n.trackingConnection.module_suspend_data,n.sSuspend_score=n.trackingConnection.module_score,n.sLesson_status=n.trackingConnection.module_lesson_status,n.sLesson_location=n.trackingConnection.module_lesson_location,(n.sSuspend_data=="null"||n.sSuspend_data=="undefined")&&(n.sSuspend_data=""),r=n.sSuspend_data.split("|"),masterObj.arTopics.length>r[0].length)for(n.sSuspend_data="",t=0;t<masterObj.arTopics.length;t++)n.sSuspend_data+=masterObj.arTopics[t].locked?"3":"0";else for(n.sSuspend_data=r[0],t=0;t<r.length;t++)i=r[t].split(":"),i.length>1&&(i[0]=="role"&&(u=Number(i[1]),setRole(u)),n.setCustomData(i[0],i[1]));n.lms_ready=!0;n.dispatcher.trigger("ready")};n.updateScore=function(){for(var i,r,u,f=0,e=0,t=0;t<masterObj.arTopics.length;t++)i=masterObj.arTopics[t],i.assessment&&(f++,e+=i.getBestScore());r=e/f;u=0;n.sSuspend_score!="null"&&(u=Number(n.sSuspend_score));r>u&&(n.sSuspend_score=r)};n.updateTracking=function(){var t=!1,i;n.updateSuspendData();n.updateScore();i=masterObj.getCompletionMode();switch(i){case"pass":t=n.checkPassed();break;case"screens":t=n.checkTopicCompletion();break;case"topics":t=n.checkTopicCompletion();break;case"both":t=Boolean(n.checkTopicCompletion()&&n.checkPassed())}n.updateScore();t&&(n.sLesson_status=i=="pass"?"passed":"completed");menuObj&&menuObj.updateTopicButtonStatus();currentScreen&&(n.sLesson_location=currentScreen.id);n.saveToAPI()};n.updateSuspendData=function(){var r,t,i;if(n.lms_ready){for(n.sSuspend_data="",r=!0,t=0;t<masterObj.arTopics.length;t++){i=masterObj.arTopics[t];i.updateStatus();switch(i.getStatus()){case"notattempted":n.sSuspend_data+="0";break;case"incomplete":n.sSuspend_data+="1";break;case"completed":n.sSuspend_data+="2";break;case"passed":n.sSuspend_data+="2";break;case"locked":n.sSuspend_data+="3";break;default:n.sSuspend_data+="0"}}n.sSuspend_data+=n.getCustomDataAsString()}};n.previousTopicsCompleted=function(n){for(var t,r=!0,i=0;i<masterObj.arTopics.length;i++){if(t=masterObj.arTopics[i],t==n)break;t.getCompleted()||t.locking_ignore||(r=!1)}return r};n.checkTopicCompletion=function(){for(var t,i=!0,n=0;n<masterObj.arTopics.length;n++)if(t=masterObj.arTopics[n],t.updateStatus(),!t.getCompleted()){i=!1;break}return i};n.checkPassed=function(){for(var n,i=!0,t=0;t<masterObj.arTopics.length;t++)n=masterObj.arTopics[t],n.updateStatus(),!n.getPassed()&&n.getAssessment()&&(i=!1);return i};n.getCustomDataAsString=function(){for(var i,r="",t=0;t<n.custom_data.length;t++)i=n.custom_data[t],r+="|"+i.id+":"+i.data;return r};n.getBookmark=function(){var t=masterObj.getScreenById(n.sLesson_location);return t?n.sLesson_location:null};n.getSuspendStatus=function(t){var i=n.sSuspend_data.split("");return i[t]};n.getCustomData=function(t){for(var r,u=null,i=0;i<n.custom_data.length;i++)if(r=n.custom_data[i],r.id==t){u=r.data;break}return u};n.setCustomData=function(t,i){for(var f,r,e=!1,u=0;u<n.custom_data.length;u++)if(f=n.custom_data[u],f.id==t){f.data=i;e=!0;break}e||(r={},r.id=t,r.data=i,n.custom_data.push(r));n.updateSuspendData();n.saveToAPI()};n.saveToAPI=function(){n.lms_ready&&(n.trackingConnection.setLessonLocation(n.sLesson_location),n.trackingConnection.setLessonStatus(n.sLesson_status),n.trackingConnection.setSuspendData(n.sSuspend_data),n.trackingConnection.setScore(n.sSuspend_score),n.trackingConnection.updateLMS())};n.closeCourse=function(){n.trackingConnection.closeConnection()}}
function processResources(n){for(var i=!0,t=0;t<n.length;t++)loadedResources[n[t]]||(i=!1),loadedResources[n[t]]=!0;return i?!0:!1}function loadJS(){typeof loadCompiledCSSandJavascriptAndXML!="undefined"&&loadCompiledCSSandJavascriptAndXML==!0?jsLoaded():Modernizr.load({load:js_array,complete:jsLoaded})}function jsLoaded(){initMaster();initCourseText()}function resetLMS(){try{trackingObj.trackingConnection.resetLMS();trackingObj.readTrackingFromLMS()}catch(n){devmode&&console.log("Log CATCH ERROR %o",n)}}function initMaster(){masterObj=new Master;masterObj.init("lib/xml/master.xml");trackingObj=new Tracking(masterObj);try{_editor()}catch(n){devmode&&console.log("Log NO EDITOR %o",n)}}function initCourseText(){coursetextObj=new CourseText;coursetextObj.init("lib/xml/coursetext.xml")}function coursetextXMLReady(){coursetext_ready=!0;courseReady()}function masterXMLReady(){master_ready=!0;courseReady()}function bookmarkResume(){jumpScreen(String(trackingObj.getBookmark()))}function bookmarkMenu(){closeDialogue();menuObj.showMenu()}function updateTracking(){trackingObj.updateTracking()}function courseReady(){master_ready&&coursetext_ready&&(trackingObj.init(),_respondo=new Respondo,navObj=new Nav,menuObj=new Menu(masterObj),menuObj.createUI(),_respondo.init(),navObj.createNav(),masterObj.courseReady())}function menuReady(){var n=trackingObj.getBookmark();n&&masterObj.getDialogueById("bookmark")?openDialogue("bookmark"):(menuObj.showMenu(),masterObj.splashDialogue&&openDialogue(masterObj.splashDialogue))}function loadTopic(n){navObj.navDir="default";masterObj.loadTopic(n);navObj.showTopicTitle(currentTopic.sLabel);navObj.inTopic()}function allowEnableNext(){var n=!1;return currentTopic&&(currentTopic.iCurrentPos<currentTopic.arScreens.length-1?n=!0:masterObj.bNavBetweenTopics&&(n=!0,masterObj.iCurrentPos==masterObj.arTopics.length-1&&currentTopic.iCurrentPos==currentTopic.arScreens.length-1&&(n=!1)),currentScreen&&(currentScreen.getCompleted()||(n=!1),masterObj.getUnlockScreenMode()&&(n=!0))),n}function allowEnableBack(){var n=!1,t;return currentTopic&&(currentTopic.iCurrentPos>0?n=!0:masterObj.bNavBetweenTopics&&(n=!0,masterObj.iCurrentPos===0&&currentTopic.iCurrentPos===0?n=!1:(t=masterObj.getPreviousTopic(),t.getCompleted()||(n=!1))),currentScreen.bBackLocked&&(n=!1),currentTopic.assessment&&currentTopic.iCurrentPos!==0&&(n=!1)),n}function unlockNext(){currentScreen.bNextLocked=!1;enableNext()}function enableNext(){allowEnableNext()&&navObj.initNav()}function openExit(){openDialogue("exit")}function openHelp(){openDialogue("help")}function openGlossary(){openLink(getVarText("glossaryLink"))}function openResources(){var n="resources";currentTopic&&currentTopic.resourcesID&&(n=currentTopic.resourcesID);currentScreen&&currentScreen.resourcesID&&(n=currentScreen.resourcesID);openDialogue(n)}function openDialogue(n){hideInvisibleButtons();masterObj.loadDialogue(n)}function closeDialogue(){showInvisibleButtons();navObj.closeDialogue()}function backButtonPressed(){navObj.backButtonPressed()}function nextButtonPressed(){navObj.nextButtonPressed()}function goNext(){navObj.navDir="next";var n=currentTopic.arScreens[0];currentTopic.iCurrentPos<currentTopic.arScreens.length-1?(navObj.disableBackNext(),currentTopic.iCurrentPos++,n=currentTopic.arScreens[currentTopic.iCurrentPos],masterObj.loadScreen(n)):(navObj.disableBackNext(),masterObj.iCurrentPos++,currentTopic=masterObj.arTopics[masterObj.iCurrentPos],currentTopic.iCurrentPos=0,n=currentTopic.arScreens[currentTopic.iCurrentPos],masterObj.loadScreen(n))}function goBack(){navObj.navDir="back";var n=currentTopic.arScreens[currentTopic.arScreens.length-1];currentTopic.iCurrentPos>0?(navObj.disableBackNext(),currentTopic.iCurrentPos--,n=currentTopic.arScreens[currentTopic.iCurrentPos],masterObj.loadScreen(n)):(navObj.disableBackNext(),masterObj.iCurrentPos--,currentTopic=masterObj.arTopics[masterObj.iCurrentPos],currentTopic.iCurrentPos=currentTopic.arScreens.length-1,n=currentTopic.arScreens[currentTopic.iCurrentPos],masterObj.loadScreen(n))}function returnToMenu(){masterObj.returnToMenu()}function exitCourse(){top.close()}function getPrevIntro(){for(var n,i=null,r=currentTopic.arScreens,u=currentScreen,t=0;t<r.length;t++){if(n=r[t],n==u)break;n.bHasIntro&&(i=n)}return i}function loadMenuScreen(){menuScreen=masterObj.getMenuById("menuscreen");menuObj.oMenuScreen=menuScreen;menuScreen.initScreen($("#menuscreen"))}function loadCurrentDialogue(){currentDialogue&&(currentScreen&&currentScreen.view.disable(),navObj&&navObj.showDialogueWindow(),currentDialogue.initScreen($("#dialogueholder")))}function screenReady(n){switch(n){case"menu":tweenTo($("#menuscreen"),.3,{autoAlpha:1,display:"block"});tweenTo($("#screenHolder_menuscreen"),.3,{autoAlpha:1,display:"block"});menuReady();menuObj.showMenu();menuObj.disableMenuButtons();menuObj.enableMenuButtons();break;case"dialogue":navObj.initDialogueWindow()}}function hideMenu(){menuObj.hideMenu()}function unlockFirstTopic(){menuObj.unlockFirstTopic()}function muteSound(){sound_muted=!0;var n=$(".jp-flat-audio");n.length>0&&n.data("control").reset()}function unmuteSound(){sound_muted=!1;var n=$(".jp-flat-audio");n.length>0&&n.data("control").play()}var js_array=[],anticache="",devmode=!0,i,item,loadedResources,sound_muted;for(typeof loadXMLAsJavascript!="undefined"&&loadXMLAsJavascript==!0&&js_array.push("lib/js/complied_xml.js"+anticache),js_array.push("lib/js/plugins/jPlayer/jquery.jplayer.min.js"+anticache),js_array.push("lib/js/bw/control/respondo.js"+anticache),js_array.push("lib/js/bw/utils/utils.js"+anticache),js_array.push("lib/js/bw/view/view_utils.js"+anticache),js_array.push("lib/js/bw/control/tracking.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/sprite.js"+anticache),js_array.push("lib/js/bw/view/menu.js"+anticache),js_array.push("lib/js/bw/view/preloader.js"+anticache),js_array.push("lib/js/bw/view/v_screen.js"+anticache),js_array.push("lib/js/bw/view/v_screen_element.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/text_object.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/line.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/box.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/pagecounter.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/image.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/status.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/button.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/tabs.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/pointer.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/slider_reveal.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/timed_element.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/timeline.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/timer.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/video_player.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/audio_player.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/sub_screen.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/sub_dialogue.js"+anticache),js_array.push("lib/js/bw/view/screen_elements/score.js"+anticache),js_array.push("lib/js/bw/model/master.js"+anticache),js_array.push("lib/js/bw/model/coursetext.js"+anticache),js_array.push("lib/js/bw/model/screen/screen.js"+anticache),js_array.push("lib/js/bw/model/screen/sub_screen.js"+anticache),js_array.push("lib/js/bw/model/screen/topic_screen.js"+anticache),js_array.push("lib/js/bw/model/screen/dialogue_screen.js"+anticache),js_array.push("lib/js/bw/model/screen/sub_dialogue.js"+anticache),js_array.push("lib/js/bw/model/screen/menu_screen.js"+anticache),js_array.push("lib/js/bw/model/screen/nav_screen.js"+anticache),js_array.push("lib/js/bw/model/screen_element.js"+anticache),js_array.push("lib/js/bw/model/screen_event.js"+anticache),js_array.push("lib/js/bw/model/trigger_event.js"+anticache),js_array.push("lib/js/bw/model/event_action.js"+anticache),js_array.push("lib/js/bw/model/sequence_event.js"+anticache),js_array.push("lib/js/bw/model/topic.js"+anticache),js_array.push("lib/js/bw/model/navigation.js"+anticache),js_array.push("lib/js/bw/screentypes/column_sort.js"+anticache),js_array.push("lib/js/bw/screentypes/drag_drop.js"+anticache),js_array.push("lib/js/bw/screentypes/mcq.js"+anticache),js_array.push("lib/js/bw/screentypes/list_sort.js"+anticache),js_array.push("lib/js/bw/screentypes/mcq_graphical.js"+anticache),js_array.push("lib/js/bw/screentypes/parallax.js"+anticache),js_array.push("lib/js/bw/screentypes/photostory.js"+anticache),js_array.push("lib/js/bw/screentypes/score.js"+anticache),js_array.push("lib/js/bw/screentypes/sliding_scale.js"+anticache),js_array.push("lib/js/bw/screentypes/text_graphic.js"+anticache),js_array.push("lib/js/bw/screentypes/wipe_reveal_h.js"+anticache),js_array.push("lib/js/bw/screentypes/scroll.js"+anticache),i=0;i<js_array.length;i++)item=js_array[i],js_array[i]=item;loadedResources={};var currentTopic,currentScreen,currentDialogue,menuScreen,previousScreen,_respondo=null,masterObj=null,coursetextObj=null,trackingObj=null,menuObj=null,navObj=null,coursetext_ready=!1,master_ready=!1,lms_ready=!1;sound_muted=!1
var _coursetext_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>     <!-- navigation btns -->     <text id="dialogue_close_label"><![CDATA[<p>Close</p>]]></text>           </data>');
var _dialogue_bookmark_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>  	<text id="title" x="50" y="30" height="33" width="230"><![CDATA[<p class="title">Welcome back</p>]]></text>  	<text id="text" x="50" y="80" width="230"><![CDATA[<p class="bookmarkText">Would you like to return to your bookmark, or return to the menu?</p>]]></text>  	<button id="bookmarkBtn" x="50" y="160" anim="alpha" func="bookmarkResume"><![CDATA[<p>Bookmark</p>]]></button>  	<button id="menuBtn" x="190" y="160" anim="alpha" func="bookmarkMenu"><![CDATA[<p>Menu</p>]]></button> 	 </data> ');
var _dialogue_exit_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>    	<text id="text" x="50" y="50" width="220" anim="alpha" animtime="1" animdelay="0.1" antialiasforanim="true"><![CDATA[<p>Are you sure you want to exit?</p>]]></text>  	<button id="yesBtn" x="50" y="120" width="80" anim="alpha" func="leaveCourse"><![CDATA[<p>Yes</p>]]></button>  	<button id="noBtn" x="160" y="120" width="80" anim="alpha" func="closeGenericDialogue"><![CDATA[<p>No</p>]]></button> 	 	 </data> ');
var _dialogue_help_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  	<text id="title" x="15" y="15" width="280"><![CDATA[<p class="title">Help</p>]]></text> 	 	 	<text id="text" scroll="true" x="15" y="75" height="315" width="650"><![CDATA[ 		<p>You can select any topic to start but if you are taking the learning for the first time we suggest you look at them in order.</p> 		<p>Each topic has a number of screens. A page indicator shows you what screen you are on and how many pages there are in each topic.</p> 		<p>When you exit the course your progress will be remembered. So when you return you can return to the same place if you want to.</p> 		<p>To complete the course you&#39;ll need to pass the assessment with a score of 80% or more.</p> 		<p>At the top of the screen are these buttons: </p> 		<ul> 			<li>Exit - to close the module</li> 			<li>Help - to open this help screen</li> 			<li>Menu - to return to the main menu</li> 			<li>Resources - to open a list of useful links for further information</li> 		</ul> 		<p>Either side of the screen are these buttons: </p> 		<ul> 			<li>Back - to move back a screen</li> 			<li>Next - to move forward a screen</li> 		</ul> 	]]></text>  	 </data>');
var _dialogue_resources_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  	<text id="intro" x="15" y="15" width="600"><![CDATA[<p class="title">Resources</p> 		<p>This is the Resources panel which is available from every screen.</p> 		<p>It can contain links to further information held on your intranet, on the internet, or links to download files that can be included with the course.</p> 	]]></text>        <box id="scrollingbox" x="15" y="150" height="330" width="640" scroll="true"> 	 		<text x="10" y="10" width="600"><![CDATA[ 			<ul> 				<li><a href="http://www.brightwave.co.uk" target="_blank">Select this link to visit Brightwave&#39;s website.</a></li> 				<li><a href="http://www.brightwave.co.uk/images/stories/PDF/Brightideas/Rapid-getting-behind-the-hype.pdf" target="_blank">Select this link to download Brightwave&#39;s white paper about Rapid e-learning.</a></li> 				<li><a href="../module1/lib/docs/example.docx" target="_blank">Example word document.</a></li> 			</ul> 		]]></text>  	</box>  </data> ');
var _master_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?>  <course  engine="waveform 1.6.3" version="0.2.0.0"  title="Waveform test course v1.6.3"  bitprjcode="BWS919"  lmstracking="scorm1.2"   devmode="true"  devunlockmode="true" devunlockscreenmode="false" cheatmode="true" clientbitmode="false"   responsive="true"  menu="true" autotopic="1"   navbetweentopics="true"  completionmode="pass"   maintaincomplete="true"  bookmark="true"  >  	<dialogue id="exit" 	closebtn="false" width="290" height="200" xml="lib/xml/dialogue_exit.xml" /> 	<dialogue id="bookmark" closebtn="false" width="325" height="250" xml="lib/xml/dialogue_bookmark.xml" /> 	<dialogue id="help" width="680" height="420" xml="lib/xml/dialogue_help.xml" /> 	<dialogue id="resources" width="680" height="420" xml="lib/xml/dialogue_resources.xml" />  	<menu id="menuscreen" 	xml="lib/xml/menu_screen.xml" /> 	<navigation id="navscreen" xml="lib/xml/nav_screen.xml" phonexml="lib/xml/nav_screen_phone.xml" />  	 	<topic id="0" label="Experimental screens"> 		<page id="0_002" xml="lib/xml/_template_random_positioning.xml" /> 		<page id="0_150" type="column_sort" 		xml="lib/xml/_template_column_sort.xml" /> 		<page id="0_155" type="column_sort" 		xml="lib/xml/_template_column_sort_non_radio.xml" /> 		<page id="0_001" type="drag_drop" xml="lib/xml/_template_drag_drop.xml" phonetype="text_graphic" phonexml="lib/xml/_template_unsupported_replacement.xml"  /> 		<page id="0_090" 	xml="lib/xml/_template_timeline_animations.xml" /> 		<page id="0_091" 	xml="lib/xml/_template_timeline_animations.xml" /> 		<page id="0_092" 	xml="lib/xml/_template_text_graphic_exit_event.xml" /> 		<page id="0_093" 	xml="lib/xml/_template_text_graphic_exit_event.xml" /> 		<page id="0_100" 	xml="lib/xml/_template_text_graphic_dialogue.xml" /> 		<page id="0_110" 	xml="lib/xml/_template_text_graphic_dialogue.xml" /> 	</topic> 	 	<topic id="1" label="Presentation screens"> 		<page id="1_160" xml="lib/xml/_template_multiscreen.xml" /> 		 		<page id="1_100" 	xml="lib/xml/_template_text_graphic.xml" /> 		<page id="1_110" 	xml="lib/xml/_template_text_graphic_reveal.xml" /> 		<page id="1_120" 	xml="lib/xml/_template_text_graphic_reveal_image_swap.xml" /> 		<page id="1_130" type="photostory"	xml="lib/xml/_template_photostory.xml" /> 		<page id="1_140"	xml="lib/xml/_template_tab_reveal.xml" /> 		<page id="1_150" type="parallax"	xml="lib/xml/_template_parallax.xml" phonetype="text_graphic" phonexml="lib/xml/_template_unsupported_replacement.xml" /> 	 	</topic> 	 	<topic id="2" label="Audio screens" locked="true"> 		<page id="2_100" 	xml="lib/xml/_template_audio.xml" /> 		<page id="2_110" 	xml="lib/xml/_template_audio_autoplay.xml" /> 		<page id="2_120" 	xml="lib/xml/_template_audio_reveal.xml" /> 	</topic> 	 	<topic id="3" label="Video screens" locked="true" unlock="1"> 		<page id="3_100" 	xml="lib/xml/_template_video.xml" /> 		<page id="3_110" 	xml="lib/xml/_template_video_events.xml" /> 	</topic>  	<topic id="4" label="Question screens" locked="true"> 		<page id="4_160" type="drag_drop" 			xml="lib/xml/_template_drag_drop.xml" phonetype="text_graphic" phonexml="lib/xml/_template_unsupported_replacement.xml"  /> 		<page id="4_100" type="mcq" 					xml="lib/xml/_template_mcq.xml" /> 		<page id="4_120" type="mcq" 					xml="lib/xml/_template_mcq_option_specific.xml" /> 		<page id="4_130" type="mcq_graphical" 	xml="lib/xml/_template_mcq_graphical.xml" /> 		<page id="4_140" type="mcq_graphical" 	xml="lib/xml/_template_mcq_graphical_option_specific.xml" /> 		<page id="4_090" type="list_sort"				xml="lib/xml/_template_list_sort.xml" /> 		<page id="4_150" type="column_sort" 		xml="lib/xml/_template_column_sort.xml" /> 		<page id="4_155" type="column_sort" 		xml="lib/xml/_template_column_sort_non_radio.xml" /> 		<page id="4_170" type="sliding_scale" 	xml="lib/xml/_template_sliding_scale.xml" phonetype="text_graphic" phonexml="lib/xml/_template_unsupported_replacement.xml"  /> 	</topic>  	<topic id="5" label="Quiz" assessment="true" masteryscore="80" locked="true"> 	         <page id="5_100" xml="lib/xml/_template_quiz_intro.xml"/>  <!--         <pool serve="7" randomise="false"> 			<page id="5_110" type="mcq" 					xml="lib/xml/_template_mcq_assessment.xml" 		scored="true" topicref="1"/> 			<page id="5_115" type="drag_drop" 			xml="lib/xml/_template_drag_drop_timed.xml" phonetype="mcq" phonexml="lib/xml/_template_mcq_assessment.xml"	scored="true" topicref="2"/> 			<page id="5_130" type="mcq" 					xml="lib/xml/_template_mcq_option_specific.xml" 	scored="true" topicref="3"/> 			<page id="5_140" type="mcq_graphical" 	xml="lib/xml/_template_mcq_graphical.xml" 			scored="true" topicref="1"/> 			<page id="5_160" type="sliding_scale" 		xml="lib/xml/_template_sliding_scale.xml" 				scored="true" topicref="2"/> 			<page id="5_170" type="column_sort" 		xml="lib/xml/_template_column_sort.xml" 				scored="true" topicref="3"/> 			<page id="5_180" type="drag_drop" 			xml="lib/xml/_template_drag_drop.xml" phonetype="mcq" phonexml="lib/xml/_template_mcq_assessment.xml" scored="true" topicref="1"/> 		</pool> --> 		         <pool serve="3" randomise="false"> 			<page id="5_110" type="mcq" 					xml="lib/xml/_template_mcq_assessment.xml" 	scored="true" topicref="1"/> 			<page id="5_120" type="mcq" 					xml="lib/xml/_template_mcq_assessment.xml" 	scored="true" topicref="2"/> 			<page id="5_130" type="mcq" 					xml="lib/xml/_template_mcq_assessment.xml" 	scored="true" topicref="3"/> 		</pool>         <page id="5_190" type="score" xml="lib/xml/_template_score.xml"/> 		 	</topic>  	<topic id="6" label="Quiz" assessment="true" masteryscore="80" locked="true"> 	         <page id="6_100" xml="lib/xml/_template_quiz_intro.xml"/>          <pool serve="3" randomise="false"> 			<page id="6_110" type="mcq" 					xml="lib/xml/_template_mcq_assessment.xml" 	scored="true" topicref="1"/> 			<page id="6_120" type="mcq" 					xml="lib/xml/_template_mcq_assessment.xml" 	scored="true" topicref="2"/> 			<page id="6_130" type="mcq" 					xml="lib/xml/_template_mcq_assessment.xml" 	scored="true" topicref="3"/> 		</pool> 		         <page id="6_190" type="score" xml="lib/xml/_template_score.xml"/> 		 	</topic>  </course>');
var _menu_screen_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  	<image id="menu_logo" x="30" y="30" anim="alpha" animtime="0.1" animdelay="0">		 		<![CDATA[lib/images/ui/waveform_small_logo.png]]> 	</image> 	 	 	<text id="course_title" x="290" y="45" width="640" anim="alpha" animtime="0.1" animdelay="0" rotation="0"> 		<![CDATA[<p class="courseTitle">Waveform test course v1.6</p>]]> 	</text> 	 	<box id="intro_box" x="290" y="90" width="650" height="115" corner="0" bgcol="FFFFFF" bgalpha="60" linewidth="1" linecol="AAAAAA" anim="alpha" animtime="1" animdelay="0"> 		<text id="txt" x="5" y="5" width="640" anim="alpha" animtime="0.1" animdelay="0" rotation="0"> 			<![CDATA[ 			<p class="menuTitle">Menu</p> 			<p>This is the menu screen from which the learner can launch a number of topics.</p> 			<p>Select a topic from the list below.</p> 			]]> 		</text> 	</box> 	 	<box id="topic0" class="topicButton" x="55" y="425" width="182" height="150" corner="0" bgcol="FFFFFF" bgalpha="1" linewidth="1" linecol="1B9DED" anim="none" topicbtn="0" status_x="150" status_y="10"> 		 		<image x="30" y="30" anim="alpha" animtime="0.1" animdelay="0">		 			<![CDATA[lib/images/content/menu_icon-01.png]]> 		</image> 		<text x="20" y="90" width="160" anim="alpha" animtime="0.1" animdelay="0" rotation="0"> 			<![CDATA[<p class="title">Experimental screens</p>]]> 		</text> 	</box> 	 	 	<box id="topic1" class="topicButton" x="55" y="230" width="182" height="150" corner="0" bgcol="FFFFFF" bgalpha="1" linewidth="1" linecol="1B9DED" anim="none" topicbtn="1" status_x="150" status_y="10"> 		 		<image x="30" y="30" anim="alpha" animtime="0.1" animdelay="0">		 			<![CDATA[lib/images/content/menu_icon-01.png]]> 		</image> 		<text x="20" y="90" width="160" anim="alpha" animtime="0.1" animdelay="0" rotation="0"> 			<![CDATA[<p class="title">Presentation screens</p>]]> 		</text> 	</box> 	 	<box id="topic2" class="topicButton" x="290" y="230" width="182" height="150" corner="0" bgcol="FFFFFF" bgalpha="1" linewidth="1" linecol="1B9DED" anim="none" topicbtn="2" status_x="150" status_y="10"> 		 		<image x="30" y="30" anim="alpha" animtime="0.1" animdelay="0">		 			<![CDATA[lib/images/content/menu_icon-02.png]]> 		</image> 		<text x="20" y="90" width="160" anim="alpha" animtime="0.1" animdelay="0" rotation="0"> 			<![CDATA[<p class="title">Audio screens</p>]]> 		</text> 	</box> 	 	<box id="topic3" class="topicButton" x="525" y="230" width="182" height="150" corner="0" bgcol="FFFFFF" bgalpha="1" linewidth="1" linecol="1B9DED" anim="none" topicbtn="3" status_x="150" status_y="10"> 		 		<image x="30" y="30" anim="alpha" animtime="0.1" animdelay="0">	 			<![CDATA[lib/images/content/menu_icon-03.png]]> 		</image> 		<text x="20" y="90" width="160" anim="alpha" animtime="0.1" animdelay="0" rotation="0"> 			<![CDATA[<p class="title">Video screens</p>]]> 		</text> 	</box> 	 	<box id="topic4" class="topicButton" x="760" y="230" width="182" height="150" corner="0" bgcol="FFFFFF" bgalpha="1" linewidth="1" linecol="1B9DED" anim="none" topicbtn="4" status_x="150" status_y="10"> 		 		<image x="30" y="30" anim="alpha" animtime="0.1" animdelay="0">		 			<![CDATA[lib/images/content/menu_icon-04.png]]> 		</image> 		<text x="20" y="90" width="160" anim="alpha" animtime="0.1" animdelay="0" rotation="0"> 			<![CDATA[<p class="title">Question screens</p>]]> 		</text> 	</box> 	 	<box id="topic5" class="topicButton" x="525" y="425" width="182" height="150" corner="0" bgcol="FFFFFF" bgalpha="1" linewidth="1" linecol="1B9DED" anim="none" topicbtn="5" status_x="150" status_y="10"> 		 		<image x="30" y="30" anim="alpha" animtime="0.1" animdelay="0">	 			<![CDATA[lib/images/content/menu_icon-05.png]]> 		</image> 		<text x="20" y="90" width="160" anim="alpha" animtime="0.1" animdelay="0" rotation="0"> 			<![CDATA[<p class="title">Assessment</p>]]> 		</text> 	</box> 	 	<box id="topic6" class="topicButton" x="760" y="425" width="182" height="150" corner="0" bgcol="FFFFFF" bgalpha="1" linewidth="1" linecol="1B9DED" anim="none" topicbtn="6" status_x="150" status_y="10"> 		 		<image x="30" y="30" anim="alpha" animtime="0.1" animdelay="0">	 			<![CDATA[lib/images/content/menu_icon-06.png]]> 		</image> 		<text x="20" y="90" width="160" anim="alpha" animtime="0.1" animdelay="0" rotation="0"> 			<![CDATA[<p class="title">Assessment 2</p>]]> 		</text> 	</box>  </data>  ');
var _nav_screen_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	<events> 		<event id="init"> 			<event id="update" /> 			<function name="initNav" /> 		</event> 		<event id="help"> 			<dialogue id="help" /> 		</event>  		<event id="exit"> 			<dialogue id="exit" /> 		</event> 		 		<event id="resources"> 			<dialogue id="resources" /> 		</event>  		 		<event id="menu"> 			<function name="returnToMenu"/> 		</event> 		 		<event id="next"> 			<function name="nextButtonPressed"/> 		</event> 		 		<event id="back"> 			<function name="backButtonPressed"/> 		</event>	 		 		<event id="in_topic"> 			<anim type="alpha" animtime="0.2">navBg</anim> 			<anim type="alpha" animtime="0.2">topictitle</anim> 			<anim type="alpha" animtime="0.2">menuBtn</anim> 			<anim type="alpha" animtime="0.2">pagenavbuttons</anim> 			<anim type="alpha" animtime="0.2">pagecounter</anim> 		</event> 		<event id="in_menu"> 			<anim type="alphaout" animtime="0.2">navBg</anim> 			<anim type="alphaout" animtime="0.2">topictitle</anim> 			<anim type="alphaout" animtime="0.2">menuBtn</anim> 			<anim type="alphaout" animtime="0.2">pagenavbuttons</anim> 			<anim type="alphaout" animtime="0.2">pagecounter</anim> 		</event> 		 		<event id="update"> 			<function name="update" target="pagecounter" /> 		</event> 		 	</events> 	 	<box id="navBg" x="0" y="0" width="1014" height="56" bgcol="ffffff" bgalpha="1" anim="hidden"/> 	 	<box id="navHolder" x="814" y="15" width="200" height="40" bgcol="white" bgalpha="1" anim="top" animtime="0.9" animdelay="0.6" ease="Elastic.easeOut" >				 		<box id="navBtnsHolder"> 			<box id="menuBtn" 		x="0" y="0" height="35" width="35" class="navbutton" event="menu"> 				<text class="tooltip" x="-33" y="35" width="100"> 					<![CDATA[<p>Menu</p>]]> 				</text> 			</box> 			<box id="resourcesBtn" 	x="50" y="0"  height="35" width="35" class="navbutton" event="resources" > 				<text class="tooltip" x="-33" y="35" width="100"> 					<![CDATA[<p>Resources</p>]]> 				</text> 			</box> 			<box id="helpBtn" 		x="100" y="0"   height="35" width="35" class="navbutton" event="help"> 				<text class="tooltip" x="-33" y="35" width="100"> 					<![CDATA[<p>Help</p>]]> 				</text> 			</box> 			<box id="exitBtn" 		x="150" y="0"  height="35" width="35" class="navbutton" event="exit"> 				<text class="tooltip" x="-33" y="35" width="100"> 					<![CDATA[<p>Exit</p>]]> 				</text> 			</box> 		</box> 	</box> 	 	 	<text id="topictitle" x="20" y="20" width="600" anim="hidden"> 		<![CDATA[<p class="topicTitle"><span class="ui_topic_title">topic title</span></p>]]> 	</text> 	<pagecounter id="pagecounter" type="text" jump="true" x="500" y="20" width="200" height="10" anim="hidden"> 		<text x="0" y="0" width="300"> 			<![CDATA[<p>Page <span class="from">a</span> out of <span class="to">b</span></p>]]> 		</text> 	</pagecounter>  	<box id="pagenavbuttons"> 		<box id="nextBtn" x="950" 	y="580" width="60" height="60" class="navbutton" event="next" > 			<text class="tooltip" x="0" y="-20" width="60"> 				<![CDATA[<p>Next</p>]]> 			</text> 		</box> 		<box id="backBtn" x="850" 	y="580" width="60" height="60" class="navbutton" event="back" > 			<text class="tooltip" x="0" y="-20" width="60"> 				<![CDATA[<p>Back</p>]]> 			</text> 		</box> 	</box> 	 	 	 	 	 	 		 	 </data> ');
var _nav_screen_phone_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	<events> 		<event id="init"> 			<event id="update" /> 			<function name="initNav" /> 		</event> 	 		<event id="exit"> 			<hide>burger_menu</hide> 			<dialogue id="exit" /> 		</event> 	 		<event id="help"> 			<hide>burger_menu</hide> 			<dialogue id="help" /> 		</event>  		<event id="glossary"> 			<hide>burger_menu</hide> 			<link>lib/docs/glossary.pdf</link> 		</event> 		 		<event id="resources"> 			<hide>burger_menu</hide> 			<dialogue id="resources" /> 		</event>  		 		<event id="menu"> 			<hide>burger_menu</hide> 			<function name="returnToMenu"/> 		</event> 		 		<event id="next"> 			<hide>burger_menu</hide> 			<function name="nextButtonPressed"/> 		</event> 		 		<event id="back"> 			<hide>burger_menu</hide> 			<function name="backButtonPressed"/> 		</event>	 		 		<event id="in_topic"> 			<anim type="alpha" animtime="0.2">menuBtn</anim> 			<anim type="alpha" animtime="0.2">pagenavbuttons</anim> 			<anim type="alpha" animtime="0.2">pagecounter</anim> 			<anim type="alpha" animtime="0.2">topictitle</anim> 			<hide>burger_menu</hide> 		</event> 		<event id="in_menu"> 			<anim type="alphaout" animtime="0.2">menuBtn</anim> 			<anim type="alphaout" animtime="0.2">pagenavbuttons</anim> 			<anim type="alphaout" animtime="0.2">pagecounter</anim> 			<anim type="alphaout" animtime="0.2">topictitle</anim> 			<hide>burger_menu</hide> 		</event> 		 		 		<event id="update"> 			<function name="update" target="pagecounter" /> 		</event> 		 		<event id="toggleburger"> 			<function name="scrollTop" /> 			<toggle>burger_menu</toggle> 		</event> 		 	</events> 	 	 	<box id="fixed"> 	 		<box id="pagenavbuttons"> 			<box id="backBtn" x="0" y="50" width="46" height="594" class="navbutton" event="back"  /> 			 			<pagecounter id="pagecounter" type="text" jump="true" x="810" y="15" width="80" height="27" > 				<text x="0" y="0" width="80"> 					<![CDATA[<p><span class="from">a</span> / <span class="to">b</span></p>]]> 				</text> 			</pagecounter> 		 			<box id="nextBtn" x="968" 	y="50" width="46" height="594" class="navbutton" event="next"  /> 			 		</box> 		 		<box id="burgerBtn" x="0" y="0" height="35" width="35" class="navbutton" event="toggleburger" /> 	</box> 	 	<text id="topictitle" x="0" y="50" anim="hidden"> 		<![CDATA[<p class="topicTitle"><span class="ui_topic_title">topic title</span></p>]]> 	</text> 	 	<box id="burger_menu" bgcol="FFFFFF" bgalpha="0.8" anim="hidden">  	 		<box id="menuitems"> 			<text id="menuBtn" event="menu"> 				<![CDATA[<p>MAIN MENU</p>]]> 			</text> 			<text event="exit"> 				<![CDATA[<p>EXIT</p>]]> 			</text> 			<text event="help"> 				<![CDATA[<p>HELP</p>]]> 			</text> 			<text event="glossary"> 				<![CDATA[<p>GLOSSARY</p>]]> 			</text> 			<text event="resources"> 				<![CDATA[<p>RESOURCES</p>]]> 			</text> 		</box> 	 	</box> 	 	 	 		 	 </data> ');
var __template_audio_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	 	<text id="screentext" x="80" y="100" width="450"><![CDATA[ 	<p class="title">Audio Player</p> 	<p>This is a screen with an audio player.</p> 	<p class="prompt">Select the Play button.</p> 	]]></text>  	 	<audio id="audio1" controls="true" autoplay="false" x="80" y="250" width="250" src="lib/audio/audio_test.mp3" />  </data>');
var __template_audio_autoplay_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	 	<text id="screentext" x="80" y="100" width="450"><![CDATA[ 	<p class="title">Audio Player</p> 	<p>This is a screen with an audio player.</p> 	<p class="prompt">The audio should autoplay, but on mobile devices it will most likely need some interaction.</p> 	]]></text>  	 	<audio id="audio1" controls="true" autoplay="true" x="80" y="250" width="250" src="lib/audio/audio_test.mp3" />  </data>');
var __template_audio_reveal_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	<events> 		         <event id="1"> 			<anim type="alpha" animtime="0.3">reveal1</anim> 			<media id="audio1" action="play" />         </event> 		     </events>      <text id="screentext" x="80" y="100" width="615"> 	<![CDATA[<p class="title">Text and Graphic Audio Reveal</p> 	<p>An image with reveal audio triggers a second audio file to play automatically.</p> 	<p class="prompt">Select the picture to trigger the audio.</p>]]></text>  	<image id="image1" class="clickImg" x="115" y="230" event="1"><![CDATA[lib/images/content/internal_brand-2012-73.jpg]]></image>  	 	<box id="reveal1" class="reveal" x="275" y="230" height="105" width="300" bgcol="333333" bgalpha="1" anim="hidden" event="clearall"> 		<pointer x="-15" y="35" width="30" colour="333333" class="left" /> 		<text x="10" y="10" width="280" ><![CDATA[ 		<p>Clicking on this picture should have started a short test audio file playing. </p> 		]]></text> 	</box> 	  	<audio id="audio1" controls="false" autoplay="false" x="480" y="140" width="250" src="lib/audio/audio_test.mp3" />  </data>');
var __template_column_sort_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>     <events>         <event id="submit">             <click>                 <function name="enableNext">true</function>             </click>         </event>     </events> 	     <text id="titleText" x="80" y="100" width="615"><![CDATA[<p class="title">Column Sort</p>]]></text>  	<text id="question" x="80" y="150" width="600">     <![CDATA[<p>A list of up to five statements with two adjacent columns of buttons. A good way of covering multiple binary questions on one screen.</p> 	<p class="prompt">Select an option beside each statement in one of the columns, then <b>Confirm</b>.</p>]]></text>  	<sprite id="test_sprite" x="80" y="100" width="20" height="20" /> 	 	<custom id="col_sort" x="90" y="260" width="570"> 		<settings radiomode="true" randomise="true" optwidth="115" optheight="50" />  		<column id="1"><![CDATA[<p>True</p>]]></column> 		<column id="2"><![CDATA[<p>False</p>]]></column>  		<row correct="1"><![CDATA[<p>Statement 1 lorem ipsum dolor sit amet, consectetur adipiscing elit</p>]]></row> 		<row correct="1"><![CDATA[<p>Statement 2 sed viverra condimentum sodales</p>]]></row> 		<row correct="1"><![CDATA[<p>Statement 3 vivamus quiz erat lorem, id odio</p>]]></row>  	</custom>      	<fb id="pass" event="submit">	 		<text id="fb" x="675" y="260" width="220" class="reveal pass" anim="right" animtime="0.3"><![CDATA[ 		<p>Yes, you got them all right.</p> 		<p>You could add some additional reinforcing feedback here if required. </p> 		]]></text> 	</fb> 	<fb id="partial" event="submit">	 		<text id="fb" x="675" y="260" width="220" class="reveal partial" anim="right" animtime="0.3"><![CDATA[ 		<p>Not quite. </p> 		<p>In fact, all of the statements in this example are true. (Note that you can also see ticks appear next to the correct options.)</p> 		]]></text> 	</fb> 	<fb id="fail" event="submit">	 		<text id="fb" x="675" y="260" width="220" class="reveal fail" anim="right" animtime="0.3"><![CDATA[ 		<p>Sorry, you didn&#39;t get any of those right.</p> 		<p>All of the statements in this example are true. (Note that you can also see ticks appear next to the correct options.)</p> 		]]></text>				 	</fb> 		 	<box id="btns" x="440" y="545">		 		<button id="resetBtn" x="110" y="0" anim="alpha" enabled="false" func="reset"><![CDATA[<p>Reset</p>]]></button> 		<button id="submitBtn" x="0" y="0" anim="alpha" enabled="false" func="submit"><![CDATA[<p>Confirm</p>]]></button> 	</box> 	 </data> ');
var __template_column_sort_non_radio_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>     <events>         <event id="submit">             <click>                 <function name="enableNext">true</function>             </click>         </event>     </events> 	     <text id="titleText" x="80" y="100" width="615"><![CDATA[<p class="title">Column Sort (non radio)</p>]]></text>  	<text id="question" x="80" y="150" width="600">     <![CDATA[<p>A list of up to five statements with two adjacent columns of buttons. A good way of covering multiple binary questions on one screen.</p> 	<p class="prompt">Select an option beside each statement in one of the columns, then <b>Confirm</b>.</p>]]></text>  	<custom id="col_sort" x="90" y="260" width="570"> 		<settings radiomode="false" randomise="true" optwidth="115" optheight="50" />  		<column id="1"><![CDATA[<p>Orange</p>]]></column> 		<column id="2"><![CDATA[<p>Pear</p>]]></column> 		<column id="3"><![CDATA[<p>Banana</p>]]></column>  		<row correct="1,2,3"><![CDATA[<p>These are fruits</p>]]></row> 		<row correct="1"><![CDATA[<p>This fruit has the same name as it&#39;s colour</p>]]></row> 		<row correct="2,3"><![CDATA[<p>These fruits are not spherical</p>]]></row>  	</custom>      	<fb id="pass" event="submit">	 		<text id="fb" x="675" y="260" width="220" class="reveal pass" anim="alpha" animtime="0.3"><![CDATA[ 		<p>Yes, you got them all right.</p> 		<p>You could add some additional reinforcing feedback here if required. </p> 		]]></text> 	</fb> 	<fb id="partial" event="submit">	 		<text id="fb" x="675" y="260" width="220" class="reveal partial" anim="alpha" animtime="0.3"><![CDATA[ 		<p>Not quite. </p> 		<p>In fact, all of the statements in this example are true. (Note that you can also see ticks appear next to the correct options.)</p> 		]]></text> 	</fb> 	<fb id="fail" event="submit">	 		<text id="fb" x="675" y="260" width="220" class="reveal fail" anim="alpha" animtime="0.3"><![CDATA[ 		<p>Sorry, you didn&#39;t get any of those right.</p> 		<p>All of the statements in this example are true. (Note that you can also see ticks appear next to the correct options.)</p> 		]]></text>				 	</fb> 		 	<box id="btns" x="440" y="545">		 		<button id="resetBtn" x="110" y="0" anim="alpha" enabled="false" func="reset"><![CDATA[<p>Reset</p>]]></button> 		<button id="submitBtn" x="0" y="0" anim="alpha" enabled="false" func="submit"><![CDATA[<p>Confirm</p>]]></button> 	</box> 	 </data> ');
var __template_drag_drop_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>      <events>         <event id="submit">             <click>                 <function name="enableNext" />             </click>         </event> 		 		<event id="exit"> 			<function name="play" target="outro" /> 			<function name="readyToLeave" delay="0.6" /> 		</event> 		     </events> 	 	<timeline id="outro" autoplay="false"> 		<tween element="drag1" time="0.5"><![CDATA[ y:100, alpha:0]]></tween> 		<tween element="drag2" time="0.5"><![CDATA[ y:100, alpha:0]]></tween> 		<tween element="drag3" time="0.5"><![CDATA[ y:100, alpha:0]]></tween> 		<tween element="drag4" time="0.5"><![CDATA[ y:100, alpha:0]]></tween> 	</timeline> 	     <text id="titleText" x="80" y="100" width="450" anim="alpha" animtime="0.5" animdelay="0"><![CDATA[ 		<p class="title">Drag and drop question screen</p> 		<p>The Sterling family use both Direct Debits and Standing Orders. Do you know the difference between them?</p> 		<p class="prompt">Drag the description to the correct column, then select Confirm.</p> 	]]></text> 	 	<box id="buttonbox" x="100" y="530" width="150" height="150" anim="bottom" animtime="1" > 		<button id="resetBtn" x="350" y="0" enabled="false" func="reset"><![CDATA[<p>Reset</p>]]></button> 		<button id="smaBtn" x="120" y="0" width="210" enabled="false" func="showMyAnswers"><![CDATA[<p>See my answer</p>]]></button> 		<button id="scaBtn" x="120" y="60" width="210" enabled="false" func="showAnswers"><![CDATA[<p>See correct answers</p>]]></button> 		<button id="submitBtn" x="0" y="0" enabled="false" func="submit"><![CDATA[<p>Confirm</p>]]></button> 	</box> 	<!-- Dropboxes  --> 	<box id="dropBox1" x="587" y="150" width="170" height="370" bgcol="CCCCCC" bgalpha="1" linewidth="1" linecol="000000" anim="right" animtime="0.5" animdelay="0.2" /> 	<box id="dropBox2" x="765" y="150" width="170" height="370" bgcol="CCCCCC" bgalpha="1" linewidth="1" linecol="000000" anim="right" animtime="0.5" animdelay="0.6" /> 	 	<!-- Drop labels --> 	<text id="dropLabel1" target="dropBox1" x="0" y="-25" width="170"><![CDATA[<p>Standing Order</p>]]></text> 	<text id="dropLabel2" target="dropBox2" x="0" y="-25" width="170"><![CDATA[<p>Direct Debit</p>]]></text> 	 	<!-- Drag items  --> 	<box id="drag1" x="80" y="301" width="230" height="95" bgcol="FF5050" anim="left" animtime="0.5" animdelay="0.6" class="dragBox"> 		<text width="230" height="95"><![CDATA[<p>Protected by the Direct Debit Guarantee scheme</p>]]></text> 	</box>	 	<box id="drag2" x="80" y="401" width="230" height="95" bgcol="00CC66" anim="left" animtime="0.5" animdelay="0.8" class="dragBox"> 		<text width="230" height="95"><![CDATA[<p>Used to transfer money regularly into another UK bank account</p>]]></text> 	</box>	 	<box id="drag3" x="317" y="301" width="230" height="95" bgcol="008AB8" anim="left" animtime="0.5" animdelay="0.2" class="dragBox"> 		<text width="230" height="95"><![CDATA[<p>Often used to pay a retailer or meet monthly bills</p>]]></text> 	</box>	 	<box id="drag4" x="317" y="401" width="230" height="95" bgcol="6666FF" anim="left" animtime="0.5" animdelay="0.4" class="dragBox"> 		<text width="230" height="95"><![CDATA[<p>Drag nowhere</p>]]></text> 	</box> 		 	<!-- Drop settings  -->     <custom id="dragdrop">         <settings dropscale="0.7" />         <drag id="1" match="2">drag1</drag>         <drag id="2" match="1">drag2</drag>         <drag id="3" match="2">drag3</drag>         <drag id="4" match="0">drag4</drag>          <drop id="1" dropposition="over" stackitems="false" stackpaddingv="5" stackpaddingh="5" maxdrop="4" xoffset="5" yoffset="5">dropBox1</drop>         <drop id="2" dropposition="over" stackitems="false" stackpaddingv="5" stackpaddingh="5" maxdrop="4" xoffset="5" yoffset="5">dropBox2</drop>				     </custom> 	 	<!-- Feedback  --> 	<fb id="pass" event="submit"> 		<text id="fb" x="80" y="255" width="450" class="revealText pass" ><![CDATA[ 			<p>That&#39;s right.</p> 			<p><b>Standing Orders</b> are <a href="../docs/glossary_current accounts.pdf" target="_blank">fixed amounts</a>, usually paid into another bank account, controlled by the customer and deposited at certain times.</p> 			<p><b>Direct Debits</b> vary in amount, are taken out by other organisations, usually to pay bills or retailers, and are released at certain times.</p> 		]]></text>			 	</fb>		 	<fb id="partial" event="submit">	 		<text id="fb" x="80" y="255" width="450" class="revealText partial" ><![CDATA[<p>That&#39;s not quite right. Select <b>See correct answers</b> to see where you went wrong.</p>]]></text> 	</fb>		 	<fb id="fail" event="submit">	 		<text id="fb" x="80" y="255" width="450" class="revealText fail" ><![CDATA[<p>That&#39;s not right. Select <b>See correct answers</b> to see where you went wrong.</p>]]></text>		 	</fb> 	 </data>  ');
var __template_drag_drop_timed_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  	<events> 		<event id="timerend"> 			<click> 				<function name="submit" /> 			</click> 		</event> 		 		<event id="submit"> 			<click> 				<timer action="stop" id="screentimer" /> 				<function name="enableNext" /> 			</click> 		</event> 	</events> 	     <text id="titleText" x="80" y="100" width="450" anim="alpha" animtime="0.5" animdelay="0"><![CDATA[<p class="title">Drag and drop question screen</p> 	<p>The Sterling family use both Direct Debits and Standing Orders. Do you know the difference between them?</p> 	<p class="prompt">Drag the description to the correct column, then select Confirm.</p>]]></text> 		 	 	<!--button id="undoBtn" 	x="435" y="507" anim="alpha" enabled="false" func="undo"><![CDATA[<p>Undo</p>]]></button--> 	<button id="resetBtn" x="435" y="530" anim="alpha" func="reset"><![CDATA[<p>Reset</p>]]></button> 	<button id="smaBtn" x="200" y="530" width="210" anim="alpha" enabled="false" func="showMyAnswers"><![CDATA[<p>See my answer</p>]]></button> 	<button id="scaBtn" x="200" y="590" width="210" anim="alpha" enabled="false" func="showAnswers"><![CDATA[<p>See correct answers</p>]]></button> 	<button id="submitBtn" x="75" y="530" anim="alpha" enabled="false" func="submit"><![CDATA[<p>Confirm</p>]]></button> 	 	 	<!-- Dropboxes  --> 	<box id="dropBox1" x="587" y="150" width="170" height="370" corner="0" bgcol="CCCCCC" bgalpha="1" linewidth="1" linecol="000000" anim="alpha" animtime="1" /> 	<box id="dropBox2" x="765" y="150" width="170" height="370" corner="0" bgcol="CCCCCC" bgalpha="1" linewidth="1" linecol="000000" anim="alpha" animtime="1" /> 	 	<!-- Drop labels --> 	<text id="dropLabel1" target="dropBox1" x="27" y="-25" width="190" anim="alpha" animtime="1"><![CDATA[<p>Standing Order</p>]]></text> 	<text id="dropLabel2" target="dropBox2" x="35" y="-25" width="190" anim="alpha" animtime="1"><![CDATA[<p>Direct Debit</p>]]></text> 	 	<!-- Drag items  --> 	<box id="drag1" x="80" y="301" width="230" height="95" corner="0" bgcol="FF5050" bgalpha="100" anim="alpha" animtime="1" animdelay="0" class="dragBox"> 		<text x="20" y="28" width="190"> 			<![CDATA[<p>Protected by the Direct Debit Guarantee scheme</p>]]> 		</text> 	</box> 	 	<box id="drag2" x="80" y="401" width="230" height="95" corner="0" bgcol="00CC66" bgalpha="100" anim="alpha" animtime="1" animdelay="0" class="dragBox"> 		<text x="20" y="18" width="190"> 			<![CDATA[<p>Used to transfer money regularly into another UK bank account</p>]]> 		</text> 	</box> 	 	 	<box id="drag3" x="317" y="301" width="230" height="95" corner="0" bgcol="008AB8" bgalpha="100" anim="alpha" animtime="1" animdelay="0" class="dragBox"> 		<text x="20" y="18" width="190"> 			<![CDATA[<p>Often used to pay a retailer or meet monthly bills</p>]]> 		</text> 	</box> 	 	 	<box id="drag4" x="317" y="401" width="230" height="95" corner="0" bgcol="6666FF" bgalpha="100" anim="alpha" animtime="1" animdelay="0" class="dragBox"> 		<text x="20" y="38" width="190"> 			<![CDATA[<p>Drag nowhere</p>]]> 		</text> 	</box> 	 	  	<timer id="screentimer" time="10" autoplay="true" x="925" y="55" anim="alpha" animtime="0.5" animdelay="0.1"> 		<cue id="end" event="timerend" /> 	</timer> 	 	<!-- Drop settings  -->     <custom id="dragdrop">         <settings dropscale="0.7" />         <drag id="1" match="2">drag1</drag>         <drag id="2" match="1">drag2</drag>         <drag id="3" match="2">drag3</drag>         <drag id="4" match="0">drag4</drag>          <drop id="1" dropposition="over" stackitems="false" stackpaddingv="5" stackpaddingh="5" maxdrop="4" xoffset="5" yoffset="5">dropBox1</drop>         <drop id="2" dropposition="over" stackitems="false" stackpaddingv="5" stackpaddingh="5" maxdrop="4" xoffset="5" yoffset="5">dropBox2</drop> 				 		<!-- Feedback  --> 		<fb id="pass" event="submit"> 			<text id="fb" x="80" y="255" width="450" class="revealText pass" anim="alpha" animtime="0.2" animdelay="0.2"><![CDATA[<p>That&#39;s right.</p> 			<p><b>Standing Orders</b> are <a href="../docs/glossary_current accounts.pdf" target="_blank">fixed amounts</a>, usually paid into another bank account, controlled by the customer and deposited at certain times.</p> 			<p><b>Direct Debits</b> vary in amount, are taken out by other organisations, usually to pay bills or retailers, and are released at certain times.</p>]]></text>			 		</fb>		 		<fb id="partial" event="submit">	 			<text id="fb" x="80" y="255" width="450" class="revealText partial" anim="alpha" animtime="0.2" animdelay="0.2"><![CDATA[<p>That&#39;s not quite right. Select <b>See correct answers</b> to see where you went wrong.</p>]]></text> 		</fb>		 		<fb id="fail" event="submit">	 			<text id="fb" x="80" y="255" width="450" class="revealText fail" anim="alpha" animtime="0.2" animdelay="0.2"><![CDATA[<p>That&#39;s not right. Select <b>See correct answers</b> to see where you went wrong.</p>]]></text>		 		</fb>     </custom> </data>  ');
var __template_list_sort_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>	      <text id="titleText" x="80" y="100" width="915"> 	<![CDATA[<p class="title">List-Sort Question</p>]]></text>   	<text id="question" x="80" y="150" width="740"><![CDATA[<p>This is a list sort, with draggable list items. </p> 	<p class="prompt">Re-order the options into <i>alphabetical</i> order, then Confirm.</p>]]></text>  	<custom id="question" x="110" y="250" anim="alpha" animtime="0.5" animdelay="0.1"> 		<settings optwidth="345" randomise="true" /> 		<option correct="3"><![CDATA[<p>One</p>]]></option> 		<option correct="5"><![CDATA[<p>Two</p>]]></option> 		<option correct="4"><![CDATA[<p>Three</p>]]></option> 		<option correct="2"><![CDATA[<p>Four</p>]]></option> 		<option correct="1"><![CDATA[<p>Five</p>]]></option> 		 		<fb id="pass" event="submit">	 			<text id="fb" x="550" y="230" width="335" height="170" class="revealText pass" anim="alpha" animtime="0.5" animdelay="0.1"><![CDATA[<p>Yes, that&#39;s right. Rome is the capital of Italy. All of the other statements are incorrect</p>]]></text> 		</fb>				 		<fb id="fail" event="submit">	 			<text id="fb" x="550" y="230" width="335" height="170" class="revealText fail" anim="alpha" animtime="0.5" animdelay="0.1"><![CDATA[<p>Sorry, that&#39;s not right.</p> 			<p>The third option is the correct answer.</p>]]></text>				 		</fb>		 	</custom> 	 	<box id="btns" x="80" y="545" anim="alpha" animtime="1.5" animdelay="0.8">		 		<button id="resetBtn" x="110" y="0" anim="alpha" enabled="false" func="reset"><![CDATA[<p>Reset</p>]]></button> 		<button id="scaBtn" x="220" y="0" anim="alpha" enabled="false" func="showCorrect"><![CDATA[<p>Show Correct</p>]]></button> 		<button id="submitBtn" x="0" y="0" anim="alpha" enabled="false" func="submit"><![CDATA[<p>Confirm</p>]]></button> 	</box> 	 </data> ');
var __template_mcq_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>	      <text id="titleText" x="80" y="100" width="915"> 	<![CDATA[<p class="title">Multiple Choice Question - One correct answer</p> 	<p>This is a text-based multiple choice question with just one correct answer. </p> 	<p class="prompt">Select your answer, then Confirm.</p> 	]]></text>  	<custom id="mcq" x="110" y="250"> 		<settings optwidth="345" radiomode="true" randomise="true" /> 		<option correct="false"><![CDATA[	<p>Copenhagen is the capital of France</p>]]></option> 		<option correct="false"><![CDATA[	<p>Paris is the capital of Spain</p>]]></option> 		<option correct="true"><![CDATA[	<p>Rome is the capital of Italy</p>]]></option> 		<option correct="false"><![CDATA[	<p>London is the capital of Norway</p>]]></option> 		 	</custom>  	<fb id="pass" event="submit"> 		<text id="fb" x="550" y="230" width="335" height="170" class="reveal pass" ><![CDATA[<p>Yes, that&#39;s right. Rome is the capital of Italy. All of the other statements are incorrect</p>]]></text> 	</fb>				 	<fb id="fail" event="submit">	 		<text id="fb" x="550" y="230" width="335" height="170" class="reveal fail" ><![CDATA[<p>Sorry, that&#39;s not right.</p> 		<p>The third option is the correct answer.</p>]]></text>				 	</fb> 		 	<box id="btns" x="80" y="545">		 		<button id="resetBtn" x="110" y="0" anim="alpha" enabled="false" func="reset"><![CDATA[<p>Reset</p>]]></button> 		<button id="submitBtn" x="0" y="0" anim="alpha" enabled="false" func="submit"><![CDATA[<p>Confirm</p>]]></button> 	</box> 	 </data> ');
var __template_mcq_assessment_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>  	<events> 		<event id="timerend"> 			<click> 				<function name="submit"></function> 			</click> 		</event> 		 		<event id="submit"> 			<click> 				<timer action="stop" id="screentimer" /> 				<function name="enableNext" /> 			</click> 		</event> 	</events>  	<timer id="screentimer" time="10" autoplay="true" x="925" y="55" anim="alpha" animtime="0.5" animdelay="0.1"> 		<cue id="end" event="timerend" /> 	</timer> 	 	<text id="titleText" x="80" y="100" width="915"> 	<![CDATA[<p class="title">Multiple Choice Question - One correct answer</p>]]></text>   	<text id="question" x="80" y="150" width="740"><![CDATA[<p>This is a text-based multiple choice question with just one correct answer.</p> 	<p class="prompt">Select your answer, then Confirm.</p>]]></text>  	<custom id="mcq_mc" x="110" y="250"> 		<settings optwidth="345" optionoffset="14" radiomode="true" randomise="false" /> 		<option correct="false"><![CDATA[	<p>Copenhagen is the capital of France</p>]]></option> 		<option correct="false"><![CDATA[	<p>Paris is the capital of Spain</p>]]></option> 		<option correct="true"><![CDATA[	<p>Rome is the capital of Italy</p>]]></option> 		<option correct="false"><![CDATA[	<p>London is the capital of Norway</p>]]></option> 		 		<fb id="pass" event="submit">	 			<text id="fb" x="550" y="230" width="335" height="170" class="reveal pass"><![CDATA[<p>Yes, that&#39;s right. Rome is the capital of Italy. All of the other statements are incorrect</p>]]></text>  		</fb> 				 		<fb id="fail" event="submit">	 			<text id="fb" x="550" y="230" width="335" height="170" class="reveal fail"><![CDATA[<p>Sorry, that&#39;s not right.</p> 			<p>The third option is the correct answer.</p>]]></text> 				 		</fb> 		 	</custom> 	  	<button id="submitBtn" x="100" y="510" anim="alpha" enabled="false" func="submit"><![CDATA[<p>Confirm</p>]]></button> 	 </data>');
var __template_mcq_graphical_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>   	<events> 		 		<event id="submit"> 			<click> 				<function name="enableNext" /> 			</click> 		</event> 	</events> 	     <text id="screenText" x="80" y="100" width="715" anim="alpha" animtime="0.5" animdelay="0"> 	<![CDATA[<p class="title">Graphical Multiple Choice Question - Multi answer</p> 	<p>This is an image based multiple choice question with multiple correct answers.</p> 	<p class="prompt">Select your answers, then Confirm.</p> 	]]></text>  	<box id="item_1" x="140" y="240" width="220" height="170">		 		<image x="0" y="0"><![CDATA[lib/images/content/mcq_image_option_01.png]]></image> 		<text x="4" y="110" width="220"><![CDATA[<p class="option">Option 1 text (correct)</p>]]></text> 	</box>  	<box id="item_2" x="390" y="240" width="220" height="170"> 		<image x="0" y="0"><![CDATA[lib/images/content/mcq_image_option_02.png]]></image> 		<text x="4" y="110" width="220"><![CDATA[<p class="option">Option 2 text</p>]]></text> 	</box>  	<box id="item_3" x="660" y="240" width="220" height="170"> 		<image x="0" y="0"><![CDATA[lib/images/content/mcq_image_option_03.png]]></image> 		<text x="4" y="110" width="220"><![CDATA[<p class="option">Option 3 text (correct)</p>]]></text> 	</box> 	 	<box id="item_4" x="70" y="400" width="220" height="170"> 		<image x="0" y="0"><![CDATA[lib/images/content/mcq_image_option_04.png]]></image> 		<text x="4" y="110" width="220"><![CDATA[<p class="option">Option 4 text (correct)</p>]]></text> 	</box> 	 	<box id="item_5" x="320" y="400" width="220" height="170">	 		<image x="0" y="0"><![CDATA[lib/images/content/mcq_image_option_05.png]]></image> 		<text x="4" y="110" width="220"><![CDATA[<p class="option">Option 5 text (correct)</p>]]></text> 	</box>  	<custom id="gMCQ"> 		<settings radiomode="false" />  		<option correct="true">item_1</option> 		<option correct="false">item_2</option> 		<option correct="true">item_3</option> 		<option correct="true">item_4</option> 		<option correct="true">item_5</option>  		<fb id="pass" event="submit"> 			<text id="fb" x="570" y="395" width="320" height="125" anim="bottom" animtime="0.5" class="revealText pass" ><![CDATA[<p>You&#39;re right, options 1, 3, 4 and 5 are the correct answers.</p>]]></text>	 		</fb> 		 		<fb id="partial" event="submit">	 			<text id="fb" x="570" y="395" width="320" height="125" anim="bottom" animtime="0.5" class="revealText partial" ><![CDATA[<p>You&#39;re not quite right there. Options 1, 3, 4 and 5 are the correct answers.</p>]]></text>		 		</fb> 		 		<fb id="fail" event="submit"> 			<text id="fb" x="570" y="395" width="320" height="125" anim="bottom" animtime="0.5" class="revealText fail" ><![CDATA[<p>I&#39;m afraid you haven&#39;t selected any of the right answers. Options 1, 3, 4 and 5 are the correct answers.</p>]]></text> 		</fb> 		 	</custom> 	 	<box id="btns" x="130" y="545" anim="alpha" animtime="1.5" animdelay="0.8">		 		<button id="resetBtn" x="110" y="0" anim="alpha" enabled="false" func="reset"><![CDATA[<p>Reset</p>]]></button> 		<button id="submitBtn" x="0" y="0" anim="alpha" enabled="false" func="submit"><![CDATA[<p>Confirm</p>]]></button> 	</box> 	   </data>   ');
var __template_mcq_graphical_option_specific_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?>  <data>  	<events> 		 		<event id="submit"> 			<click> 				<function name="enableNext" /> 			</click> 		</event> 	</events>     <text id="titleText" x="80" y="100" width="715" anim="alpha" animtime="0.5" animdelay="0"> 	<![CDATA[<p class="title">Graphical Multiple Choice Question - Option specific feedback</p> 	<p>This is an image based multiple choice question. It displays feedback that corresponds to the specific option that the user chose regardless of whether it was right or wrong. Consequently the user can only select a single option. </p> 	<p class="prompt">Select your answer, then Confirm.</p>]]></text>  	<image id="item_1" x="140" y="280"><![CDATA[lib/images/content/mcq_image_option_01.png]]></image> 	 	<image id="item_2" x="390" y="280"><![CDATA[lib/images/content/mcq_image_option_02.png]]></image>  	<image id="item_3" x="660" y="280"><![CDATA[lib/images/content/mcq_image_option_03.png]]></image>  	<image id="item_4" x="70" y="400"><![CDATA[lib/images/content/mcq_image_option_04.png]]></image>  	<image id="item_5" x="320" y="400"><![CDATA[lib/images/content/mcq_image_option_05.png]]></image>  	<custom id="gMCQ">  		<settings radiomode="true" /> 		<option correct="false">item_1</option> 		<option correct="false">item_2</option> 		<option correct="false">item_3</option> 		<option correct="false">item_4</option> 		<option correct="true">item_5</option>  		<fb id="1,2,3" event="submit"> 			<text id="fb" x="570" y="395" width="320" height="125" anim="bottom" animtime="0.5" class="revealText fail" ><![CDATA[<p>Feedback for options 1,2,3. Option 5 is correct.</p>]]></text>	 		</fb> 		<fb id="4" event="submit">	 			<text id="fb" x="570" y="395" width="320" height="125" anim="bottom" animtime="0.5" class="revealText fail" ><![CDATA[<p>Feedback for option 4. Option 5 is correct.</p>]]></text>		 		</fb> 		<fb id="5" event="submit"> 			<text id="fb" x="570" y="395" width="320" height="125" anim="bottom" animtime="0.5" class="revealText pass" ><![CDATA[<p>Feedback for option 5 (correct)</p>]]></text> 		</fb> 	</custom> 	 	<box id="btns" x="130" y="545" anim="alpha" animtime="1.5" animdelay="0.8">		 		<button id="resetBtn" x="110" y="0" anim="alpha" enabled="false" func="reset"><![CDATA[<p>Reset</p>]]></button> 		<button id="submitBtn" x="0" y="0" anim="alpha" enabled="false" func="submit"><![CDATA[<p>Confirm</p>]]></button> 	</box> 	 </data>   ');
var __template_mcq_option_specific_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>	 	<events> 		<event id="submit"> 			<click> 				<function name="enableNext">true</function>           			</click> 		</event> 	</events> 	 	     <text id="titleText" x="80" y="100" width="915"> 	<![CDATA[<p class="title">Multiple Choice Question - with option specific feedback</p> 	<p>This is a text-based multiple choice question. It displays feedback that corresponds to the specific option that the user chose regardless of whether it was right or wrong. Consequently the user can only select a single option. The order of the options have been shuffled.</p> 	<p class="prompt">Select your answer, then Confirm.</p>]]></text>  	<custom id="mcq_mc" x="110" y="280"> 		<settings optwidth="345" radiomode="true" randomise="true" /> 		<option correct="false"><![CDATA[	<p>This is option 1</p>]]></option> 		<option correct="false"><![CDATA[	<p>This is option 2</p>]]></option> 		<option correct="true"><![CDATA[	<p>This is option 3 (the correct one)</p>]]></option> 		<option correct="false"><![CDATA[	<p>This is option 4</p>]]></option> 			 		<!-- OPTION SPECIFIC FEEDBACK 		will override standard feedback if standard feedbacks are present 		(only one feedback will show) 		--> 		<fb id="1" event="submit"> 			<text  id="fb" x="550" y="230" width="335" height="170" class="reveal"><![CDATA[<p>No, that is not correct.</p> 			<p>Specific feedback for option 1</p>]]></text> 		</fb> 		<fb id="2" event="submit"> 			<text  id="fb" x="550" y="230" width="335" height="170" class="reveal"><![CDATA[<p>No, that is not correct.</p> 			<p>Specific feedback for option 2</p>]]></text> 		</fb> 		<fb id="3" event="submit"> 			<text  id="fb" x="550" y="230" width="335" height="170" class="reveal"><![CDATA[<p>Yes, that is correct.</p> 			<p>Specific feedback for option 3</p>]]></text> 		</fb> 		<fb id="4" event="submit"> 			<text  id="fb" x="550" y="230" width="335" height="170" class="reveal"><![CDATA[<p>No, that is not correct.</p> 			<p>Specific feedback for option 4</p>]]></text> 		</fb> 		 	</custom> 	 	<box id="btns" x="80" y="545">		 		<button id="resetBtn" x="110" y="0" anim="alpha" enabled="false" func="reset"><![CDATA[<p>Reset</p>]]></button> 		<button id="submitBtn" x="0" y="0" anim="alpha" enabled="false" func="submit"><![CDATA[<p>Confirm</p>]]></button> 	</box> 	 </data> ');
var __template_multiscreen_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  	<events> 		<event id="load4"> 			<function target="screen4" name="load" /> 			<hide>load_button4</hide> 		</event>		 	</events>   	<text id="screentext" x="80" y="100" width="450"><![CDATA[ 		<p class="title">Multiscreen</p>  		<p class="prompt">This screen has several subscreens.</p> 	]]></text>  	 	<box id="scrollingbox" x="80" y="200" width="800" height="400" class="scrolling"> 	 		<screen y="0" 		width="770" height="245" xml="lib/xml/_template_multiscreen_subscreen.xml" /> 		<screen y="250" 	width="770" height="245" xml="lib/xml/_template_multiscreen_subscreen.xml" /> 		<screen y="500" 	width="770" height="245" xml="lib/xml/_template_multiscreen_subscreen.xml" /> 		<screen id="screen4" y="750"	width="770" height="245" xml="lib/xml/_template_multiscreen_subscreen.xml" autoload="false" /> 		<button id="load_button4" x="330" y="830" width="140" event="load4"><![CDATA[<p>LOAD SCREEN</p>]]></button> 	 	</box> 	 </data> ');
var __template_multiscreen_subscreen_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  <image id="bg" x="0" y="0"><![CDATA[lib/images/content/internal_skyline-2013-1.jpg]]></image>  	<image id="image1" x="435" y="15"><![CDATA[lib/images/content/internal_brand-2012-72.jpg]]></image> 	<image id="image2" x="490" y="55"><![CDATA[lib/images/content/internal_brand-2012-73.jpg]]></image> 	<image id="image3" x="545" y="95"><![CDATA[lib/images/content/internal_brand-2012-74.jpg]]></image> 	<image id="image4" x="600" y="135"><![CDATA[lib/images/content/internal_brand-2012-75.jpg]]></image> 	 	<text id="screentext" class="subscreentextbox" x="10" y="10" width="415"><![CDATA[ 		<p class="title">Text and graphic</p> 		<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. <i>Duis in blandit erat.</i> Nam rutrum est sed nisi adipiscing, eu bibendum purus eleifend. Etiam elementum lorem tortor, quis scelerisque arcu imperdiet at.</p> 		<p class="prompt">This was a text and graphic sub screen.</p> 	]]></text>  </data> ');
var __template_parallax_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	 	<events> 		<event id="scroll_right"> 			<click> 				<function name="scrollRight"></function> 			</click> 		</event>	 		<event id="scroll_left"> 			<click> 				<function name="scrollLeft"></function> 			</click> 		</event>	  		 	</events> 	 	<custom id="parallax" x="0" y="0" scrubber="false" height="650" width="1014" scrollspeed="1" anim="alpha" animtime="0.2" animdelay="0" class=""> 		 		<layer id="1" width="2500"> 			<image x="0" y="0"><![CDATA[lib/images/content/parallax_bg.jpg]]></image> 		</layer> 		 		<layer id="2" width="3300"> 	 			<box x="0" y="10"> 				<box x="100" 		y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="300" 		y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="500" 		y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="700" 		y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="900" 		y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="1100" 	y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="1300" 	y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="1500" 	y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 			</box> 	 			<box x="1700" y="20"> 				<box x="100" 		y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="300" 		y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="500" 		y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="700" 		y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="900" 		y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="1100" 	y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="1300" 	y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 				<box x="1500" 	y="100" width="150" height="350" bgcol="FF0000" bgalpha="0.5" anim="alpha" /> 			</box> 		</layer> 		 		<layer id="2" width="4000"> 	 			<box x="0" y="30"> 				<box x="100" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="300" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="500" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="700" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="900" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="1100" 	y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="1300" 	y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="1500" 	y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 			</box> 	 			<box x="1700" y="50"> 				<box x="100" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="300" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="500" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="700" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="900" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="1100" 	y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="1300" 	y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="1500" 	y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 			</box> 			 			<box x="3300" y="30"> 				<box x="100" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="300" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				<box x="500" 		y="100" width="150" height="350" bgcol="00FF00" bgalpha="0.5" anim="alpha" /> 				 			</box> 			 		</layer> 	</custom> 	 	 			<text x="135" y="125" width="600"> 				<![CDATA[<p class="menuTitle">Parallax</p>]]> 			</text> 	 	 	 	 	<box id="leftarrow" x="-10" y="100" width="65" height="500" bgcol="000000" anim="alpha" event="scroll_left" class="hideOnDisabled"> 		<sprite x="18" y="228" width="40" height="40" spritename="leftarrow" /> 	</box> 	 	<box id="rightarrow" x="960" y="100" width="65" height="500" bgcol="000000" anim="alpha" event="scroll_right" class="hideOnDisabled"> 		<sprite x="8" y="228" width="40" height="40" spritename="rightarrow" /> 	</box> 	 	<box id="box_1" x="0" y="0" width="1014" height="644" bgcol="000000" bgalpha="0.3" anim="hidden" class="showOnDisabled" /> 	 </data> ');
var __template_photostory_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	<text id="screentext" x="80" y="100" width="450"><![CDATA[ 		<p class="title">Photostory</p> 		]]>     </text> 	 	<custom id="photostory1" x="150" y="150" width="720" height="310" anim="alpha" animtime="0.5" animdelay="0.1"> 		<settings buttonspacing="10" buttony="330" dragnav="true" overridenav="true" /> 	         <cell> 			<image x="375" y="40"><![CDATA[lib/images/content/internal_brand-2012-90.jpg]]></image> 			 			<text x="40" y="40" width="250"> 				<![CDATA[<p>A sequence of pictures, like a comic strip or photo story. Selected one by one, each reveals a matching text caption with audio if required.</p> 				<p class="prompt">Select the right arrow to find out more.</p>]]> 			</text> 		</cell> 		 		<cell> 			<image x="375" y="40"><![CDATA[lib/images/content/internal_brand-2012-79.jpg]]></image> 			<text x="40" y="40" width="250"> 				<![CDATA[<p>This is the text that is revealed when the <b>second</b> picture is displayed.</p> 				<p>Maecenas eu nunc eu dolor porta mollis et eget nibh. Aliquam at justo lectus. Duis dignissim tincidunt aliquam. Nullm ac.</p>]]> 			</text> 			 		</cell> 		         <cell> 			<image x="375" y="40"><![CDATA[lib/images/content/internal_brand-2012-80.jpg]]></image> 		 			<text x="40" y="40" width="250"> 				<![CDATA[<p>This is the text that is revealed when the <b>third</b> picture is displayed.</p> 				<p>Maecenas eu nunc eu dolor porta mollis et eget nibh. Aliquam at justo lectus. Duis dignissim tincidunt aliquam. Nullam ac.</p>]]> 			</text> 		</cell> 		         <cell> 			<image x="375" y="40"><![CDATA[lib/images/content/internal_brand-2012-82.jpg]]></image> 		 			<text x="40" y="40" width="250"> 				<![CDATA[<p>This is the text that is revealed when the <b>fourth</b> picture is displayed.</p> 				<p>Maecenas eu nunc eu dolor porta mollis et eget nibh. Aliquam at justo lectus. Duis dignissim tincidunt aliquam. Nullam ac.</p>]]> 			</text> 		</cell> 		     </custom>            </data>  ');
var __template_quiz_intro_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	 	<image id="quiz_pic" x="578" y="170"><![CDATA[lib/images/content/question_mark.png]]></image> 	 	<text id="titleText" x="80" y="100" width="500"><![CDATA[<p class="title">Assessment introduction</p> 	<p>This is a test topic consisting of six different questions with a score screen at the end.</p> 	<p class="prompt">Select the Next arrow to begin.</p>]]></text>  </data> ');
var __template_random_positioning_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  	<events> 		<event id="1"> 			<translate rotation="rand_0,360" scale="rand_0.5,1.5" animtime="rand_0.5,2">image1</translate> 			<translate scale="rand_0.5,1.5" animtime="rand_0.5,2">box_1</translate> 		</event>		 	</events>   	<image id="image1" x="rand_580,600" y="rand_150,180" rotation="rand_0,-90" event="1"><![CDATA[lib/images/content/internal_brand-2012-18.jpg]]></image> 	<box id="box_1" x="50%" y="50%" width="100" height="100" linecol="FF0000" linewidth="1" /> 	 	<text id="screentext" x="80" y="100" width="450"><![CDATA[ 		<p class="title">Text and graphic</p> 		<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. <i>Duis in blandit erat.</i> Nam rutrum est sed nisi adipiscing, eu bibendum purus eleifend. Etiam elementum lorem tortor, quis scelerisque arcu imperdiet at.</p> 		<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. <b>Duis in blandit erat.</b> Nam rutrum est sed nisi adipiscing, eu bibendum purus eleifend. Etiam elementum lorem tortor, quis scelerisque arcu imperdiet at.</p> 		<ul> 			<li>Etiam neque libero, cursus in ullamcorper ultricies, fringilla varius velit.</li> 			<li>Donec sit amet auctor eros.</li> 			<li>Aenean pellentesque ultrices magna, quis pulvinar mi adipiscing sit amet.</li> 		</ul> 		<p class="prompt">This was a text and graphic screen.</p> 	]]></text>  </data> ');
var __template_score_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>  	<var id="failtext_1"><![CDATA[<li><b>Topic 1 title</b></li>]]></var> 	<var id="failtext_2"><![CDATA[<li><b>Topic 2 title</b></li>]]></var> 	<var id="failtext_3"><![CDATA[<li><b>Topic 3 title</b></li>]]></var>      <text id="title" x="80" y="140" width="515"><![CDATA[<p class="title">Score</p>]]></text>      <custom>         <pass> 			<text id="pass" x="80" y="200" width="500"><![CDATA[<p>Congratulations! You have passed the assessment with a score of <span class="scoredata">[score]</span>%.</p> 			<p class="prompt">Select menu to return to the main menu or the exit (X) button to leave.</p>]]></text> 			 		</pass> 		         <fail>	 			<text id="fail" x="80" y="200" width="500"><![CDATA[<p>Bad luck. You scored <span class="scoredata">[score]</span>% which is not enough to pass the assessment.</p> 			<p>You should review the following topics and try the assessment again</p> 			<ul class="feedbackdata">[feedback]</ul> 			<p class="prompt">Select Menu to return to the main menu.</p>]]></text> 		</fail>     </custom>  	 </data>  ');
var __template_sliding_scale_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>     <events>         <event id="submit">             <click>                 <function name="enableNext">true</function>             </click>         </event>     </events>            <text id="titleText" x="80" y="100" width="615"><![CDATA[<p class="title">Sliding scale</p> 	<p>Useful for subjective questions and getting the learner to think - perhaps asking level of confidence and the start of the course, and then repeating at the end of the course to ask how the e-learning has helped their confidence to be raised. For instance - </p> 	<p>How confident are you about using the new system now?</p> 	<p class="prompt">Select a point on the scale, then Confirm (1=low, 5=high).</p>]]></text>  	<custom id="slider" x="90" y="380" anim="alpha" animtime="0.5" animdelay="0"> 		<settings width="350" optionwidth="100" linewidth="2" linecolour="A2A2A2" reset="45" /> 		<option correct="false"><![CDATA[<p>1</p>]]></option> 		<option correct="false"><![CDATA[<p>2</p>]]></option> 		<option correct="false"><![CDATA[<p>3</p>]]></option> 	    <option correct="false"><![CDATA[<p>4</p>]]></option> 	    <option correct="true"><![CDATA[<p>5</p>]]></option>  		<fb id="1,2,3" event="submit">	 			<text id="fb" x="545" y="248" width="350" class="reveal fail" anim="alpha" animtime="0.5"><![CDATA[<p>This is the feedback that will appear if the learner selects option 1,2 or 3. </p> 			<p>Use it to reinforce the benefits they will receive after taking the course, for instance:</p> 			<p>Don&#39;t worry, you may not feel confident now, but by the end of the course we hope you&#39;ll understand exactly how to use the new system.</p>]]></text> 		</fb> 		 		<fb id="4" event="submit">	 			<text id="fb" x="545" y="248" width="350" class="reveal fail" anim="alpha" animtime="0.5"><![CDATA[<p>This is the feedback that will appear if the learner selects option 4.</p> 			<p>Use it to reinforce the benefits they will receive after taking the course, for instance:</p> 			<p>That&#39;s good you&#39;re already feeling quite confident. By the end of the course we hope you&#39;ll understand exactly how to use the new system and perhaps learn some things you don&#39;t already know!</p>]]></text> 			 		</fb>  		<fb id="5" event="submit"> 			<text id="fb" x="545" y="248" width="350" class="reveal fail" anim="alpha" animtime="0.5"><![CDATA[<p>Correct. This is the feedback that will appear if the learner selects option 5.</p> 			<p>Use it to reinforce the benefits they will receive after taking the course, for instance:</p> 			<p>That&#39;s great that you already feel really confident. By the end of the course we hope you&#39;ll understand exactly how to use the new system and perhaps learn some things you don&#39;t already know!</p>]]></text>  		</fb> 			 	</custom> 	 	<box id="btns" x="80" y="545">		 		<button id="resetBtn" x="110" y="0" anim="alpha" enabled="false" func="reset"><![CDATA[<p>Reset</p>]]></button> 		<button id="submitBtn" x="0" y="0" anim="alpha" enabled="false" func="submit"><![CDATA[<p>Confirm</p>]]></button> 	</box> 	 </data>   ');
var __template_tab_reveal_xml = $.parseXML('<?xml version="1.0" encoding="UTF-8"?> <data>  	<settings autocomplete="false" /> 	 	<events> 		<event id="1"> 			<log>CLICK 1</log> 		</event> 		<event id="2"> 			<log>CLICK 2</log> 		</event> 		<event id="3"> 			<log>CLICK 3</log> 		</event> 		<trigger id="allClicked" events="1,2,3"> 			<log>ALL CLICKED</log> 			<screencompleted /> 		</trigger>		 	</events> 	 	<text id="screentext" x="80" y="100" width="450"><![CDATA[ 		<p class="title">Tab Reveal</p> 		<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis in blandit erat. </p> 		<p class="prompt">Select each tab for more details.</p>		]]> 	</text>    	<tabs id="tabs" x="100" y="205" width="820" height="320" autoselectdelay="0.3"> 		         <click selected="true" event="1"><![CDATA[<p>Tab 1</p>]]></click>         <click event="2"><![CDATA[<p>Tab title 2 is longer</p>]]></click>         <click event="3"><![CDATA[<p>Tab 3</p>]]></click>          <reveal>             <image x="400" y="20"><![CDATA[lib/images/content/placeholder.png]]></image> 			             <text x="20" y="20" width="350"><![CDATA[<p class="title">Tab 1</p> 			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla ultrices ligula orci, in ultrices elit condimentum at. Nullam aliquam mauris vitae risus sagittis mattis. Etiam pretium leo dolor, sit amet porttitor leo pharetra ut. </p> 			]]></text>         </reveal>          <reveal>             <image x="400" y="20"><![CDATA[lib/images/content/placeholder.png]]></image>             <text x="20" y="20" width="350"><![CDATA[<p class="title">Tab title 2 is longer</p> 			<p>Vestibulum eget lectus mauris. Nulla sit amet odio nibh. Nulla ultrices ligula orci, in ultrices elit condimentum at. Nullam aliquam mauris vitae risus sagittis mattis. Etiam pretium leo dolor, sit amet porttitor leo pharetra ut. </p> 			]]></text>         </reveal>          <reveal>             <image x="400" y="20"><![CDATA[lib/images/content/placeholder.png]]></image>             <text x="20" y="20" width="350"><![CDATA[<p class="title">Tab 3</p> 			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis in blandit erat. Nam rutrum est sed nisi adipiscing, eu bibendum purus eleifend. Etiam elementum lorem tortor, quis scelerisque arcu imperdiet at.</p> 			]]></text>         </reveal>      </tabs> </data> ');
var __template_text_graphic_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  	<image id="image1" x="580" y="150"><![CDATA[lib/images/content/internal_brand-2012-18.jpg]]></image> 	 	<text id="screentext" x="80" y="100" width="450"><![CDATA[ 		<p class="title">Text and graphic</p> 		<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. <i>Duis in blandit erat.</i> Nam rutrum est sed nisi adipiscing, eu bibendum purus eleifend. Etiam elementum lorem tortor, quis scelerisque arcu imperdiet at.</p> 		<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. <b>Duis in blandit erat.</b> Nam rutrum est sed nisi adipiscing, eu bibendum purus eleifend. Etiam elementum lorem tortor, quis scelerisque arcu imperdiet at.</p> 		<ul> 			<li>Etiam neque libero, cursus in ullamcorper ultricies, fringilla varius velit.</li> 			<li>Donec sit amet auctor eros.</li> 			<li>Aenean pellentesque ultrices magna, quis pulvinar mi adipiscing sit amet.</li> 		</ul> 		<p class="prompt">This was a text and graphic screen.</p> 	]]></text>  </data> ');
var __template_text_graphic_dialogue_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	 	<events> 		<event id="init"> 			<dialogue id="dialgoue_id" width="700" height="500" src="text_graphic" delay="2"> 				<text id="text_1" x="0" y="0" width="300" anim="alpha" animtime="0.2" animdelay="0"> 					<![CDATA[<p>Dialogue_text</p>]]> 				</text> 			</dialogue> 		</event>		 	</events> 	 	<image id="image1" x="580" y="150"><![CDATA[lib/images/content/internal_brand-2012-18.jpg]]></image> 	 	<text id="screentext" x="80" y="100" width="450"> 		<![CDATA[<p class="title">Text and graphic</p>]]> 	</text>  </data> ');
var __template_text_graphic_exit_event_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	 	<events> 		<event id="init"> 			<translate x="800" animtime="8">animbox</translate> 			<translate animtime="8" rotation="1000">animbox</translate> 		</event> 		 		<event id="go"> 			<function name="goNext" /> 		</event> 		 		<event id="exit"> 			<translate y="600" animtime="1" animease="Back.easeIn">animbox</translate> 			<translate animtime="1" rotation="-120">animbox</translate> 			<function name="readyToLeave" delay="1.1" /> 		</event> 	</events> 	 	<text id="screentext" x="80" y="100" width="450"> 		<![CDATA[<p class="title">Text and graphic</p>]]> 	</text> 	 	<box id="animbox" x="50" y="250" width="50" height="50" bgcol="ff0000" event="go"/>  </data> ');
var __template_text_graphic_jump_1_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>   	<events> 		<event id="1"> 			<jump>0_900</jump> 		</event> 		<event id="2"> 			<jump>0_920</jump> 		</event> 		<event id="3"> 			<jump>0_930</jump> 		</event> 		<event id="init"> 			<function name="play" target="intro" /> 		</event> 		 		<event id="exit"> 			<function name="play" target="outro" /> 			<function name="readyToLeave" delay="2.5" /> 		</event> 	</events> 	 	 	<timeline id="intro" autoplay="false" time="2"> 		<tween element="animbox1"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox2"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox3"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox1" time="2" timeoffset="0.0"><![CDATA[  alpha:1, scale:2.5, x: 966, rotation: 1000, ease:Bounce.easeOut ]]></tween> 		<tween element="animbox2" time="3" timeoffset="0.2"><![CDATA[  alpha:1, scale:2.5, x: 959, rotation: 1100, ease:Bounce.easeOut ]]></tween> 		<tween element="animbox3" time="4" timeoffset="0.4"><![CDATA[  alpha:1, scale:2.5, x: 954, rotation: 1200, ease:Bounce.easeOut ]]></tween> 	</timeline> 	 	 	<timeline id="outro" autoplay="false"> 		<tween element="animbox1" time="2" timeoffset="0.0"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 		<tween element="animbox2" time="2" timeoffset="0.1"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 		<tween element="animbox3" time="2" timeoffset="0.2"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 	</timeline> 	 	 	<box id="animbox1" x="-50" y="250" width="50" height="50" bgcol="01ABE9" event="1"  /> 	<box id="animbox2" x="-50" y="300" width="50" height="50" bgcol="1B346C" event="2" /> 	<box id="animbox3" x="-50" y="350" width="50" height="50" bgcol="F54B1A" event="3"  />  	 	<text id="screentext" x="80" y="100" width="450"> 		<![CDATA[<p class="title">Jump 1</p>]]> 	</text>   </data>');
var __template_text_graphic_jump_2_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  	<settings autocomplete="false" resizereload="true" />   	<events> 		<event id="1"> 			<jump>0_910</jump> 		</event> 		<event id="2"> 			<jump>0_900</jump> 		</event> 		<event id="3"> 			<jump>0_930</jump> 		</event> 		<event id="init"> 			<function name="play" target="intro" /> 		</event> 		 		<event id="exit"> 			<function name="play" target="outro" /> 			<function name="readyToLeave" delay="2.5" /> 		</event> 	</events> 	 	 	<timeline id="intro" autoplay="false" time="2"> 		<tween element="animbox1"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox2"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox3"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox1" time="2" timeoffset="0.0"><![CDATA[  alpha:1, scale:2.5, x: 966, rotation: 1000, ease:Bounce.easeOut ]]></tween> 		<tween element="animbox2" time="3" timeoffset="0.2"><![CDATA[  alpha:1, scale:2.5, x: 959, rotation: 1100, ease:Bounce.easeOut ]]></tween> 		<tween element="animbox3" time="4" timeoffset="0.4"><![CDATA[  alpha:1, scale:2.5, x: 954, rotation: 1200, ease:Bounce.easeOut ]]></tween> 	</timeline> 	 	 	<timeline id="outro" autoplay="false"> 		<tween element="animbox1" time="2" timeoffset="0.0"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 		<tween element="animbox2" time="2" timeoffset="0.1"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 		<tween element="animbox3" time="2" timeoffset="0.2"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 	</timeline> 	 	 	<box id="animbox1" x="-50" y="250" width="50" height="50" bgcol="01ABE9" event="1"  /> 	<box id="animbox2" x="-50" y="300" width="50" height="50" bgcol="1B346C" event="2" /> 	<box id="animbox3" x="-50" y="350" width="50" height="50" bgcol="F54B1A" event="3"  />  	 	<text id="screentext" x="80" y="100" width="450"> 		<![CDATA[<p class="title">Jump 2</p>]]> 	</text>   </data>');
var __template_text_graphic_jump_3_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	<settings autocomplete="false" resizereload="true" />  	<events> 		<event id="1"> 			<jump>0_910</jump> 		</event> 		<event id="2"> 			<jump>0_920</jump> 		</event> 		<event id="3"> 			<jump>0_900</jump> 		</event> 		<event id="init"> 			<function name="play" target="intro" /> 		</event> 		 		<event id="exit"> 			<function name="play" target="outro" /> 			<function name="readyToLeave" delay="2.5" /> 		</event> 	</events> 	 	 	<timeline id="intro" autoplay="false" time="2"> 		<tween element="animbox1"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox2"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox3"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox1" time="2" timeoffset="0.0"><![CDATA[  alpha:1, scale:2.5, x: 966, rotation: 1000, ease:Bounce.easeOut ]]></tween> 		<tween element="animbox2" time="3" timeoffset="0.2"><![CDATA[  alpha:1, scale:2.5, x: 959, rotation: 1100, ease:Bounce.easeOut ]]></tween> 		<tween element="animbox3" time="4" timeoffset="0.4"><![CDATA[  alpha:1, scale:2.5, x: 954, rotation: 1200, ease:Bounce.easeOut ]]></tween> 	</timeline> 	 	 	<timeline id="outro" autoplay="false"> 		<tween element="animbox1" time="2" timeoffset="0.0"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 		<tween element="animbox2" time="2" timeoffset="0.1"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 		<tween element="animbox3" time="2" timeoffset="0.2"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 	</timeline> 	 	 	<box id="animbox1" x="-50" y="250" width="50" height="50" bgcol="01ABE9" event="1"  /> 	<box id="animbox2" x="-50" y="300" width="50" height="50" bgcol="1B346C" event="2" /> 	<box id="animbox3" x="-50" y="350" width="50" height="50" bgcol="F54B1A" event="3"  />  	 	<text id="screentext" x="80" y="100" width="450"> 		<![CDATA[<p class="title">Jump 3</p>]]> 	</text> 	  </data>');
var __template_text_graphic_jump_root_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  	<events>   		<event id="1"> 			<jump>0_910</jump> 		</event> 		<event id="2"> 			<jump>0_920</jump> 		</event> 		<event id="3"> 			<jump>0_930</jump> 		</event> 			 		     </events>      <text id="introText" x="80" y="100" width="615"><![CDATA[ 	<p class="title">Jump Root</p> 	<p>Photos, illustrations, diagrams, or pictures can be selected to reveal further information. This screen type allows learners to browse information at their own pace, breaking information into bit-sized chunks. Once all images have been clicked (in any order), a fifth image will display on screen.</p> 	<p class="prompt">Select each picture to find out more.</p>]]></text>   	<image id="click1" class="clickImg" x="115" y="300" event="1"><![CDATA[lib/images/content/internal_brand-2012-73.jpg]]></image> 	  	 	<image id="click2" class="clickImg" x="322" y="300" event="2"><![CDATA[lib/images/content/internal_brand-2012-72.jpg]]></image>  	 	<image id="click3" class="clickImg" x="528" y="300" event="3"><![CDATA[lib/images/content/internal_brand-2012-74.jpg]]></image>   	   </data>');
var __template_text_graphic_reveal_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  	<settings autocomplete="false" resizereload="true" />  	<events>  		<event id="showreveal"> 			<anim type="alphaout" animtime="0.25">reveal_click1</anim> 			<anim type="alphaout" animtime="0.25">reveal_click2</anim> 			<anim type="alphaout" animtime="0.25">reveal_click3</anim> 			<anim type="alphaout" animtime="0.25">reveal_click4</anim> 			<enable>click1</enable> 			<enable>click2</enable> 			<enable>click3</enable> 			<enable>click4</enable> 			<anim type="alpha" animtime="0.3" >reveal_[ITEM]</anim> 			<disable>[ITEM]</disable> 		</event>  		<event id="1" /> 		<event id="2" /> 		<event id="3" /> 		<event id="4" /> 			 		<trigger id="allClicked" events="1,2,3,4"> 			<function name="screenCompleted" /> 			<anim type="alpha" animtime="0.3" >final_image</anim> 		</trigger> 		     </events>      <text id="introText" x="80" y="100" width="615"><![CDATA[ 	<p class="title">Text and Graphic Reveal</p> 	<p>Photos, illustrations, diagrams, or pictures can be selected to reveal further information. This screen type allows learners to browse information at their own pace, breaking information into bit-sized chunks. Once all images have been clicked (in any order), a fifth image will display on screen.</p> 	<p class="prompt">Select each picture to find out more.</p>]]></text>   	<image id="click1" class="clickImg" x="115" y="300" event="showreveal,1"><![CDATA[lib/images/content/internal_brand-2012-73.jpg]]></image> 	 	<box id="reveal_click1" class="reveal" x="135" y="430" width="570" height="150" bgcol="B4B4B4" bgalpha="1" anim="hidden"> 		<pointer x="40" y="-20" width="40" colour="B4B4B4" class="up" /> 		<text x="10" y="10" width="550" ><![CDATA[<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vitae bibendum tortor. Fusce varius nibh lacus. Nullam non nunc vel odio varius lobortis nec ut lorem. Sed vitae aliquet eros. Vestibulum pellentesque auctor tincidunt.</p>]]></text> 	</box> 	 	<image id="click2" class="clickImg" x="322" y="300" event="showreveal,2"><![CDATA[lib/images/content/internal_brand-2012-72.jpg]]></image>  	<box id="reveal_click2" class="reveal" x="220" y="430" width="570" height="150" bgcol="338833" bgalpha="1" anim="hidden"> 		<pointer x="160" y="-20" width="40" colour="338833" class="up" /> 		<text x="10" y="10" width="550" ><![CDATA[<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vitae bibendum tortor. Fusce varius nibh lacus. Nullam non nunc vel odio varius lobortis nec ut lorem. Sed vitae aliquet eros. Vestibulum pellentesque auctor tincidunt.</p>]]></text> 	</box> 	 	<image id="click3" class="clickImg" x="528" y="300" event="showreveal,3"><![CDATA[lib/images/content/internal_brand-2012-74.jpg]]></image>  	<box id="reveal_click3" class="reveal" x="220" y="430" width="570" height="150" bgcol="3333CC" bgalpha="1" anim="hidden"> 		<pointer x="370" y="-20" width="40" colour="3333CC" class="up" /> 		<text x="10" y="10" width="550" ><![CDATA[<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vitae bibendum tortor. Fusce varius nibh lacus. Nullam non nunc vel odio varius lobortis nec ut lorem. Sed vitae aliquet eros. Vestibulum pellentesque auctor tincidunt.</p>]]></text> 	</box> 	 	<image id="click4" class="clickImg" x="730" y="300" event="showreveal,4"><![CDATA[lib/images/content/internal_brand-2012-75.jpg]]></image> 	 	<box id="reveal_click4" class="reveal" x="290" y="430" width="570" height="150" bgcol="CC3333" bgalpha="1" anim="hidden"> 		<pointer x="490" y="-30" width="60" colour="CC3333" class="up" /> 		<text x="10" y="10" width="550" ><![CDATA[<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vitae bibendum tortor. Fusce varius nibh lacus. Nullam non nunc vel odio varius lobortis nec ut lorem. Sed vitae aliquet eros. Vestibulum pellentesque auctor tincidunt.</p>]]></text> 	</box> 	 	<!-- trigger revealed image --> 	<image id="final_image" x="730" y="146" anim="hidden"><![CDATA[lib/images/content/internal_brand-2012-75.jpg]]></image>  	   </data>');
var __template_text_graphic_reveal_image_swap_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	<events>  		<event id="clearall"> 			<anim type="alphaout" animtime="0.25">reveal1</anim> 			<anim type="alphaout" animtime="0.25">reveal2</anim> 			<anim type="alphaout" animtime="0.25">reveal3</anim> 			<anim type="alphaout" animtime="0.25">reveal4</anim> 			<enable>click1</enable> 			<enable>click2</enable> 			<enable>click3</enable> 			<enable>click4</enable> 		</event>  		<event id="1"> 			<anim type="alpha" animtime="0.3" >reveal1</anim> 			<disable>click1</disable> 		</event>  		<event id="2"> 			<anim type="alpha" animtime="0.3" >reveal2</anim> 			<disable>click2</disable> 		</event>  		<event id="3"> 			<anim type="alpha" animtime="0.3" >reveal3</anim> 			<disable>click3</disable> 		</event>  		<event id="4"> 			<anim type="alpha" animtime="0.3" >reveal4</anim> 			<disable>click4</disable> 		</event> 			 		<trigger id="allClicked" events="1,2,3,4"> 			<anim type="alpha" animtime="0.3" >reveal_final</anim> 		</trigger> 		     </events>      <text id="introText" x="80" y="100" width="615"><![CDATA[ 	<p class="title">Text and Graphic Reveal</p> 	<p>Photos, illustrations, diagrams, or pictures can be selected to reveal further information. This screen type allows learners to browse information at their own pace, breaking information into bit-sized chunks. Once all images have been clicked (in any order), a fifth image will display on screen.</p> 	<p class="prompt">Select each picture to find out more.</p>]]></text>  	<box id="click1" class="click" x="50" y="300" width="218" height="145" event="clearall,1"> 		<image class="clickImg"><![CDATA[lib/images/content/image_swap.gif]]></image> 		<image class="over"><![CDATA[lib/images/content/image_swap_over.gif]]></image> 	</box> 	<box id="reveal1" class="reveal" x="100" y="480" width="570" height="100" bgcol="B4B4B4" bgalpha="1" anim="hidden"> 		<pointer x="40" y="-20" width="40" colour="B4B4B4" class="up" /> 		<text x="10" y="10" width="550" ><![CDATA[<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vitae bibendum tortor. Fusce varius nibh lacus. Nullam non nunc vel odio varius lobortis nec ut lorem. Sed vitae aliquet eros. Vestibulum pellentesque auctor tincidunt.</p>]]></text> 	</box> 	 	<box id="click2" class="click" x="280" y="300" width="218" height="145" event="clearall,2"> 		<image class="clickImg"><![CDATA[lib/images/content/image_swap.gif]]></image> 		<image class="over"><![CDATA[lib/images/content/image_swap_over.gif]]></image> 	</box> 	<box id="reveal2" class="reveal" x="220" y="480" width="570" height="100" bgcol="338833" bgalpha="1" anim="hidden"> 		<pointer x="160" y="-20" width="40" colour="338833" class="up" /> 		<text x="10" y="10" width="550" ><![CDATA[<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vitae bibendum tortor. Fusce varius nibh lacus. Nullam non nunc vel odio varius lobortis nec ut lorem. Sed vitae aliquet eros. Vestibulum pellentesque auctor tincidunt.</p>]]></text> 	</box> 	 	<box id="click3" class="click" x="510" y="300" width="218" height="145" event="clearall,3"> 		<image class="clickImg"><![CDATA[lib/images/content/image_swap.gif]]></image> 		<image class="over"><![CDATA[lib/images/content/image_swap_over.gif]]></image> 	</box> 	<box id="reveal3" class="reveal" x="220" y="480" width="570" height="100" bgcol="3333CC" bgalpha="1" anim="hidden"> 		<pointer x="370" y="-20" width="40" colour="3333CC" class="up" /> 		<text x="10" y="10" width="550" ><![CDATA[<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vitae bibendum tortor. Fusce varius nibh lacus. Nullam non nunc vel odio varius lobortis nec ut lorem. Sed vitae aliquet eros. Vestibulum pellentesque auctor tincidunt.</p>]]></text> 	</box> 	 	<box id="click4" class="click" x="740" y="300" width="218" height="145" event="clearall,4"> 		<image class="clickImg"><![CDATA[lib/images/content/image_swap.gif]]></image> 		<image class="over"><![CDATA[lib/images/content/image_swap_over.gif]]></image> 	</box> 	<box id="reveal4" class="reveal" x="350" y="480" width="570" height="100" bgcol="CC3333" bgalpha="1" anim="hidden"> 		<pointer x="490" y="-30" width="60" colour="CC3333" class="up" /> 		<text x="10" y="10" width="550" ><![CDATA[<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vitae bibendum tortor. Fusce varius nibh lacus. Nullam non nunc vel odio varius lobortis nec ut lorem. Sed vitae aliquet eros. Vestibulum pellentesque auctor tincidunt.</p>]]></text> 	</box> 	 	 	<box id="reveal_final" class="reveal" x="790" y="70" width="220" height="40" bgcol="33CCCC" bgalpha="1" anim="hidden"> 		<pointer x="25" y="-15" width="30" colour="33CCCC" class="up" /> 		<text x="10" y="10" width="200" ><![CDATA[<p>You&#39;ve clicked everything!</p>]]></text> 	</box> 	 	 	 	   </data>');
var __template_timeline_animations_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	 	<events> 		<event id="init"> 			<function name="play" target="intro" /> 		</event> 		 		<event id="exit"> 			<function name="play" target="outro" /> 			<function name="readyToLeave" delay="2.5" /> 		</event> 	</events> 	 	 	<timeline id="intro" autoplay="false" time="2"> 		<tween element="animbox1"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox2"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox3"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox4"><![CDATA[ alpha:0, x:-50  ]]></tween> 		<tween element="animbox1" time="2" timeoffset="0.0"><![CDATA[  alpha:1, scale:2.5, x: 966, rotation: 1000, ease:Bounce.easeOut ]]></tween> 		<tween element="animbox2" time="3" timeoffset="0.2"><![CDATA[  alpha:1, scale:2.5, x: 959, rotation: 1100, ease:Bounce.easeOut ]]></tween> 		<tween element="animbox3" time="4" timeoffset="0.4"><![CDATA[  alpha:1, scale:2.5, x: 954, rotation: 1200, ease:Bounce.easeOut ]]></tween> 		<tween element="animbox4" time="5" timeoffset="0.6"><![CDATA[  alpha:1, scale:2.5, x: 951, rotation: 1300, ease:Bounce.easeOut ]]></tween> 	</timeline> 	 	 	<timeline id="outro" autoplay="false"> 		<tween element="animbox1" time="2" timeoffset="0.0"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 		<tween element="animbox2" time="2" timeoffset="0.1"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 		<tween element="animbox3" time="2" timeoffset="0.2"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 		<tween element="animbox4" time="2" timeoffset="0.3"><![CDATA[ scale:10, x:400, rotationY:360, transformOrigin:"left 50% -200" ]]></tween> 		<tween element="screentext" time="2" timeoffset="0.3"><![CDATA[ scale:10, x: 1900, y: 300 ]]></tween> 	</timeline> 	 	 	<box id="animbox1" x="-50" y="250" width="50" height="50" bgcol="01ABE9"  /> 	<box id="animbox2" x="-50" y="300" width="50" height="50" bgcol="1B346C"   /> 	<box id="animbox3" x="-50" y="350" width="50" height="50" bgcol="F54B1A"  /> 	<box id="animbox4" x="-50" y="400" width="50" height="50" bgcol="E5C39E"  />  	 	<text id="screentext" x="80" y="100" width="450"> 		<![CDATA[<p class="title">Timelines</p>]]> 	</text> </data> ');
var __template_unsupported_replacement_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data>  	<text id="titleText" x="80" y="100" width="450"><![CDATA[ 		<p class="title">Replacement screentype</p> 		<p>The chosen desktop screentype is not supported in phone view.</p> 		<p>An alternative xml <b>and/or</b> screentype can be used</p> 	]]></text>  </data> ');
var __template_video_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	 	 	<text id="screentext" x="170" y="100" width="450"><![CDATA[ 		<p class="title">Video</p> 		]]> 	</text>  	<video id="vid" x="170" y="150" width="676" height="380" autoplay="true" controls="true" autorewind="false" useclosedcaptions="true" closedcaptionsoninit="true" src="lib/video/BW_day_in_life.mp4" />  	 	 </data>');
var __template_video_events_xml = $.parseXML('<?xml version="1.0" encoding="utf-8" ?> <data> 	 	<events> 		<event id="reset_images">             <hide>image1</hide>             <hide>image2</hide>             <hide>image3</hide> 		</event>         <event id="vid_start">             <hide>intro</hide>         </event>         <event id="1">             <show>image1</show>         </event>         <event id="2">             <show>image2</show>         </event>         <event id="3">             <show>image3</show>         </event>         <event id="vid_end">             <show>intro</show> 			<event id="reset_images" />         </event> 	</events> 	 	<box id="intro" class="shadow" x="100" y="370" z="10" width="570" height="120" bgcol="FFFFFF" bgalpha="1"> 		<pointer x="75" y="120" width="30" colour="FFFFFF" class="down" /> 		<text x="10" y="10" width="550" ><![CDATA[<p class="title">Video that triggers events</p> 	<p>This video will trigger three images to appear at intervals of 5 seconds. </p> 	<p class="prompt">Select the Play button to begin.</p>]]></text> 	</box> 	  	<video id="vid" x="170" y="150" width="676" height="380" autoplay="true" controls="true" autorewind="false" useclosedcaptions="true" closedcaptionsoninit="true" src="lib/video/BW_day_in_life.mp4"> 		<cue id="start" 			event="vid_start" /> 		<cue starttime="5" 	event="1" /> 		<cue starttime="10" 	event="2" /> 		<cue starttime="15" 	event="3" /> 		<cue id="end" 			event="vid_end" /> 	</video>  	 	<image id="image1" x="180" y="160" anim="hidden"><![CDATA[lib/images/content/internal_brand-2012-73.jpg]]></image> 	<image id="image2" x="350" y="160" anim="hidden"><![CDATA[lib/images/content/internal_brand-2012-72.jpg]]></image> 	<image id="image3" x="520" y="160" anim="hidden"><![CDATA[lib/images/content/internal_brand-2012-74.jpg]]></image> </data>');

function Respondo(){var n=this;n.screen_size=null;n.css_tag=null;n.dispatcher=$('<div id="dispatcher_respondo">');n.init=function(){$(window).resize(n.checkScreenSize);n.checkScreenSize()};n.ready=function(){return n.screen_size?!0:!1};n.checkScreenSize=function(){devmode&&console.log("Log checkScreenSize");n.screen_width=document.documentElement.clientWidth;var i=n.screen_size,t=!0;try{t=masterObj.responsiveMode}catch(r){devmode&&console.log("Log CATCH ERROR %o",r)}t?n.screen_width<=768?n.screen_size="phone":n.screen_width>=769&&(n.screen_size="desktop"):n.screen_size="desktop";i!=n.screen_size&&n.updateSize()};n.updateSize=function(){typeof loadCompiledCSSandJavascriptAndXML!="undefined"&&loadCompiledCSSandJavascriptAndXML==!0?$("#ui_css").attr("href","lib/css/"+n.screen_size+"_compiled.css"):$("#ui_css").attr("href","lib/css/"+n.screen_size+"/ui.css");n.dispatcher.trigger("updateSize")};n.desktop=function(){return Boolean(n.screen_size=="desktop")};n.phone=function(){return Boolean(n.screen_size=="phone")}}
function isEven(n){if(n==parseFloat(n))return!(n%2)}function tweenTo(n,t,i){var r=null;return n&&(r=TweenMax.to(n,t,i)),r}function scrollToDiv(n){if(_respondo.screen_type!="desktop"){var t=n.position().top;tweenTo(window,.5,{scrollTo:{y:t,x:0},ease:Power4.easeOut})}}function createDispatcher(n){return $('<div id="dispatcher_'+n+'">')}function tidyColour(n){var t=n;return String(n).indexOf("0x")>-1&&(t="#"+n.split("0x")[1]),String(t).indexOf("#")==-1&&(t="#"+t),t}function shuffleArray(n){for(var i,r,t=n.length-1;t>0;t--)i=Math.floor(Math.random()*(t+1)),r=n[t],n[t]=n[i],n[i]=r;return n}function getRandomNumber(n,t){var i=t-n,r=Math.random()*i,u=Math.round(r*100)/100;return u+n}function parseNumberString(n){var i=null,t,r,u;return n&&(n.indexOf("rand_")>-1?(t=n.split("rand_")[1].split(","),t.length<2&&(t=["0",t[0]]),r=Number(t[0]),u=Number(t[1]),i=getRandomNumber(r,u)):i=n.indexOf("%")>-1?n:Number(n)),i}function isOdd(n){return Boolean(n%2==0)}function killHover(){var u,t,i,n,r;if("createTouch"in document)try{for(u=/:hover/,t=0;t<document.styleSheets.length;t++)for(i=document.styleSheets[t],n=i.cssRules.length-1;n>=0;n--)r=i.cssRules[n],r.type===CSSRule.STYLE_RULE&&u.test(r.selectorText)&&i.deleteRule(n)}catch(f){}devmode&&console.groupEnd()}function printDiv(n){devmode&&console.log("attempting to print "+n);var t=window.open("",masterObj.sCourseTitle);t.document.write("<html><head><title>"+masterObj.sCourseTitle+'<\/title><link rel="stylesheet" type="text/css" href="../css/print.css"><\/head><body>'+$("#"+n).html()+"<\/body><\/html>");t.document.close();t.focus();window.setTimeout(function(){t.print();t.close()},50)}function applyClick(n,t,i,r){removeClick(n);var u=$("<button />").attr("disabled","disabled").addClass("invisibutton").width("100%").height("100%").click(t).mouseover(i).mouseout(r).focusin(i).focusout(r);$(n).data("clickfunc",t);$(n).data("overfunc",i);$(n).data("outfunc",r);u.mouseover(function(){tweenTo($(n),0,{className:"+=over"});$(n).data("overtween")&&$(n).data("overtween").kill();var t=tweenTo($(n),.2,{className:"+=animover"});$(n).data("overtween",t)});u.mouseout(function(){tweenTo($(n),0,{className:"-=over"});$(n).data("overtween")&&$(n).data("overtween").kill();var t=tweenTo($(n),.3,{className:"-=animover"});$(n).data("overtween",t)});u.focusin(function(){if(!$(this).data("mouseDown")){$(this).addClass("tabbed");tweenTo($(n),0,{className:"+=over"});$(n).data("overtween")&&$(n).data("overtween").kill();var t=tweenTo($(n),.2,{className:"+=animover"});$(n).data("overtween",t)}});u.focusout(function(){$(this).removeData("mouseDown");$(this).removeClass("tabbed");tweenTo($(n),0,{className:"-=over"});$(n).data("overtween")&&$(n).data("overtween").kill();var t=tweenTo($(n),.3,{className:"-=animover"});$(n).data("overtween",t)});u.mouseout(function(){$(this).removeData("mouseDown");$(this).removeClass("tabbed")});u.click(function(){$(this).data("mouseDown",!0);$(this).removeClass("tabbed")});u.mousedown(function(){$(this).data("mouseDown",!0);$(this).removeClass("tabbed")});Modernizr.touch&&(u.unbind("mouseover"),u.unbind("mouseout"),u.unbind("focusin"),u.unbind("focusout"));u.data("elm",n);n.data("btn",u);n.append(u);n.find("> .after").length<1&&n.append('<div class="after"><\/div>');u.removeAttr("disabled")}function removeClick(n){var t=n.data("btn");t&&(t.unbind("click"),t.unbind("mouseover"),t.unbind("mouseout"),t.unbind("focusin"),t.unbind("focusout"),t.remove())}function reApplyClick(n){applyClick(n,$(n).data("clickfunc"),$(n).data("overfunc"),$(n).data("outfunc"))}function disableElement(n){if(n&&n.data("btn")){removeClick(n);n.addClass("disabled");n.data("btn").removeData("mouseDown");n.data("btn").removeClass("tabbed");n.data("btn").attr("disabled","disabled");n.data("btn").css("display","none");tweenTo($(n),0,{className:"-=over"});$(n).data("overtween")&&$(n).data("overtween").kill();var t=tweenTo($(n),0,{className:"-=animover"})}}function enableElement(n){n&&n.data("btn")&&(reApplyClick(n),n.removeClass("disabled"),n.data("btn").removeAttr("disabled"),n.data("btn").css("display","block"),n.data("btn").mouseout())}function enableContentButton(n){n&&n.enable()}function disableContentButton(n){n&&n.disable()}function jumpScreen(n){var i=masterObj.getScreenById(n),t;i&&(t=!1,currentScreen&&(t=Boolean(String(n)==String(currentScreen.id))),t||(navObj.disableBackNext(),masterObj.loadScreenObj(i),masterObj.iCurrentPos=masterObj.getTopicPositionById(currentTopic.id)))}function showInvisibleButtons(){$("#courseholder").find(".invisibutton").show()}function hideInvisibleButtons(){$("#courseholder").find(".invisibutton").hide()}function removeElement(n){$(n).empty().remove()}function openLink(n){window.open(n,"_blank")}function isFF(){var n=null;return $.browser.mozilla&&(n=jQuery.browser.version),n}function isIE(){var n=null;return $.browser.msie&&(n=jQuery.browser.version),n}function getVarText(n){return coursetextObj.getVarById(n)}function stripPX(n){return Number(n.split("px")[0])}function inArray(n,t){for(var u,r=!1,i=0;i<t.length;i++)u=t[i],u==n&&(r=!0);return r}function getItemById(n,t){for(var r,u=null,i=0;i<t.length;i++)if(r=t[i],n==r.id){u=r;break}return u}function getScreenById(n,t){var i=null,r,f,u,e,o;if(i=masterObj.getScreenById(n),i||(i=masterObj.getNavById(n)),i||(i=masterObj.getMenuById(n)),i||(r=t.view.getScreenElementById(n),r&&(i=r.type!="screen"?null:r.view.screenObject)),!i)for(f=$(".screenElement.screen"),u=0;u<f.length;u++)e=f[u],o=$(e).data("subScreenView").screenObject,i=o;return i}function getParameterByName(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))}
function scrollTop(){old_scroll=$(window).scrollTop();devmode&&console.log("new oldscroll "+old_scroll);tweenTo(window,.1,{scrollTo:{y:0,x:0},ease:Power4.easeOut})}function oldScroll(){devmode&&console.log("oldscroll "+old_scroll);tweenTo(window,.1,{scrollTo:{y:old_scroll,x:0},ease:Power4.easeOut})}function toggleVisible(n){var i=currentScreen.view.getScreenElementById(n),t=i.view.oDiv,r=t.css("opacity");r==0?TweenMax.to(t,0,{autoAlpha:1}):TweenMax.to(t,0,{autoAlpha:0})}function enableButtonFromId(n){var t=currentScreen.view.getScreenElementById(n),i=t.view.oDiv;enableContentButton(t)}function doStringReplacements(n){var t=n,r;if(String(t).indexOf("storedText")>-1){var i=t.indexOf("[storedText"),u=0,e=t.split("]"),f=0;for(r=0;r<e.length;r++)if(f+=e[r].length,f>i){u=f;break}var o=u-i+1,h=t.substr(i,o),s=i+1,o=u-s,c=t.substr(s,o),l=c.split("|"),a=l[1],v=coursetextObj.retrieveText(a);t=t.split(h).join(v)}return t}function spriteAnim(n,t,i){var u;devmode&&console.log("Log spriteAnim");n.css("background-image","url("+i.url+")");var o=i.colunmns,s=i.rows,c=i.width,l=i.height,f=i.frameheight,e=i.framewidth;f||(f=n.height());e||(e=n.width());n.height(f);n.width(e);var a=0-(c-e),v=l-f,y=t/s,h=v/(o-1),p=new SteppedEase(o-1),r=new TimelineMax({});for(u=0;u<s;u++)r.to(n,0,{"background-position":"0px "+(0-u*h)+"px"}),r.to(n,y,{"background-position":a+"px "+(0-u*h)+"px",ease:p});return r.stop(),n.data("sprite_anim",r),r}var old_scroll=0
function Tracking(){var n=this;n.sSuspend_data="";n.sSuspend_score=0;n.sLesson_status="incomplete";n.sLesson_location=null;n.custom_data=[];n.lms_ready=!1;n.dispatcher=createDispatcher("tracking");n.trackingConnection=new lmsConnection;n.init=function(){n.trackingConnection.createConnection(masterObj.projectCode,n.connectedCallback,n.connectionFailedCallback)};n.connectedCallback=function(){n.readTrackingFromLMS()};n.connectionFailedCallback=function(){alert("Failed to connect to SCORM API. Tracking data not available.");n.readTrackingFromLMS()};n.readTrackingFromLMS=function(){var r,t,i,u;if(n.sSuspend_data=n.trackingConnection.module_suspend_data,n.sSuspend_score=n.trackingConnection.module_score,n.sLesson_status=n.trackingConnection.module_lesson_status,n.sLesson_location=n.trackingConnection.module_lesson_location,(n.sSuspend_data=="null"||n.sSuspend_data=="undefined")&&(n.sSuspend_data=""),r=n.sSuspend_data.split("|"),masterObj.arTopics.length>r[0].length)for(n.sSuspend_data="",t=0;t<masterObj.arTopics.length;t++)n.sSuspend_data+=masterObj.arTopics[t].locked?"3":"0";else for(n.sSuspend_data=r[0],t=0;t<r.length;t++)i=r[t].split(":"),i.length>1&&(i[0]=="role"&&(u=Number(i[1]),setRole(u)),n.setCustomData(i[0],i[1]));n.lms_ready=!0;n.dispatcher.trigger("ready")};n.updateScore=function(){for(var i,r,u,f=0,e=0,t=0;t<masterObj.arTopics.length;t++)i=masterObj.arTopics[t],i.assessment&&(f++,e+=i.getBestScore());r=e/f;u=0;n.sSuspend_score!="null"&&(u=Number(n.sSuspend_score));r>u&&(n.sSuspend_score=r)};n.updateTracking=function(){var t=!1,i;n.updateSuspendData();n.updateScore();i=masterObj.getCompletionMode();switch(i){case"pass":t=n.checkPassed();break;case"screens":t=n.checkTopicCompletion();break;case"topics":t=n.checkTopicCompletion();break;case"both":t=Boolean(n.checkTopicCompletion()&&n.checkPassed())}n.updateScore();t&&(n.sLesson_status=i=="pass"?"passed":"completed");menuObj&&menuObj.updateTopicButtonStatus();currentScreen&&(n.sLesson_location=currentScreen.id);n.saveToAPI()};n.updateSuspendData=function(){var r,t,i;if(n.lms_ready){for(n.sSuspend_data="",r=!0,t=0;t<masterObj.arTopics.length;t++){i=masterObj.arTopics[t];i.updateStatus();switch(i.getStatus()){case"notattempted":n.sSuspend_data+="0";break;case"incomplete":n.sSuspend_data+="1";break;case"completed":n.sSuspend_data+="2";break;case"passed":n.sSuspend_data+="2";break;case"locked":n.sSuspend_data+="3";break;default:n.sSuspend_data+="0"}}n.sSuspend_data+=n.getCustomDataAsString()}};n.previousTopicsCompleted=function(n){for(var t,r=!0,i=0;i<masterObj.arTopics.length;i++){if(t=masterObj.arTopics[i],t==n)break;t.getCompleted()||t.locking_ignore||(r=!1)}return r};n.checkTopicCompletion=function(){for(var t,i=!0,n=0;n<masterObj.arTopics.length;n++)if(t=masterObj.arTopics[n],t.updateStatus(),!t.getCompleted()){i=!1;break}return i};n.checkPassed=function(){for(var n,i=!0,t=0;t<masterObj.arTopics.length;t++)n=masterObj.arTopics[t],n.updateStatus(),!n.getPassed()&&n.getAssessment()&&(i=!1);return i};n.getCustomDataAsString=function(){for(var i,r="",t=0;t<n.custom_data.length;t++)i=n.custom_data[t],r+="|"+i.id+":"+i.data;return r};n.getBookmark=function(){var t=masterObj.getScreenById(n.sLesson_location);return t?n.sLesson_location:null};n.getSuspendStatus=function(t){var i=n.sSuspend_data.split("");return i[t]};n.getCustomData=function(t){for(var r,u=null,i=0;i<n.custom_data.length;i++)if(r=n.custom_data[i],r.id==t){u=r.data;break}return u};n.setCustomData=function(t,i){for(var f,r,e=!1,u=0;u<n.custom_data.length;u++)if(f=n.custom_data[u],f.id==t){f.data=i;e=!0;break}e||(r={},r.id=t,r.data=i,n.custom_data.push(r));n.updateSuspendData();n.saveToAPI()};n.saveToAPI=function(){n.lms_ready&&(n.trackingConnection.setLessonLocation(n.sLesson_location),n.trackingConnection.setLessonStatus(n.sLesson_status),n.trackingConnection.setSuspendData(n.sSuspend_data),n.trackingConnection.setScore(n.sSuspend_score),n.trackingConnection.updateLMS())};n.closeCourse=function(){n.trackingConnection.closeConnection()}}
function Sprite(n,t){var i=this;i.sprite_div=$('<div class="sprite"><\/div>');i.currentTime=-1;i.screen=n.screen;i.screen_view=i.screen.view;i.time=Number(t.attr("time"));i.columns=Number(t.attr("columns"));i.rows=Number(t.attr("rows"));i.sheetwidth=Number(t.attr("sheetwidth"));i.sheetheight=Number(t.attr("sheetheight"));i.sheeturl=null;t.attr("sheeturl")&&(i.sheeturl=String(t.attr("sheeturl")));i.name=String(t.attr("spritename"));i.width=Number(t.attr("width"));i.height=Number(t.attr("height"));i.cuepoints=[0];i.timeline=null;n.oContent=i.sprite_div;i.posx=0;t.attr("posx")&&(i.posx=Number(t.attr("posx")));i.posy=0;t.attr("posy")&&(i.posy=Number(t.attr("posy")));i.init=function(){n.oDiv.append(i.sprite_div);i.time?i.initAnim():i.sheeturl?n.oDiv.css("background-image",'url("'+i.sheeturl+'")'):n.oDiv.addClass(i.name)};i.initAnim=function(){i.autoplay=!1;t.attr("autoplay")&&t.attr("autoplay").toLowerCase()=="true"&&(i.autoplay=!0);t.children().length>0&&i.createCues(t.children());spriteAnim(i.sprite_div,i.time,{url:i.sheeturl,framewidth:i.width,frameheight:i.height,colunmns:i.colunmns,rows:i.rows,width:i.sheetwidth,height:i.sheetheight});i.timeline=i.sprite_div.data("sprite_anim");i.autoplay&&i.play()};i.kill=function(){i.timeline&&i.timeline.kill();i.cuepoints=[]};i.play=function(){i.timeline.play()};i.pause=function(){i.timeline.pause()};i.stop=function(){i.timeline.pause()};i.reset=function(){i.current_cue=null;i.timeline.pause(0);i.timeUpdate()};i.createCues=function(n){for(var t,u,r=0;r<n.length;r++)t=$(n[r]),u={id:t.attr("id"),start_time:t.attr("starttime"),end_time:t.attr("endtime"),event:t.attr("event"),text:t.text()},i.cuepoints.push(u)};i.timeUpdate=function(){var n=Math.round(i.time*i.timeline.progress()),t;n||(n=0);n!=i.currentTime&&(i.currentTime=n,i.current_cue&&i.current_cue.end_time<n&&i.endCue(i.current_cue),t=i.findCue(i.currentTime),t&&t!=i.current_cue&&i.doCue(t))};i.doCue=function(n){i.current_cue=n;n.event&&i.screen_view.doEventById(n.event)};i.endCue=function(){i.current_cue.endevent&&i.screen_view.doEventById(i.current_cue.endevent);i.current_cue=null};i.findCue=function(n){for(var t,r=null,u=0;u<i.cuepoints.length;u++){if(t=i.cuepoints[u],t.id==n){r=t;break}if(!t.end_time&&t.start_time&&(t.end_time=t.start_time+.1),n>=t.start_time&&n<=t.end_time){r=t;break}}return r};i.init()}
function Menu(){this.oMenuScreen=null;this.oHolder=$("#menuholder");this.oCourse=masterObj;this.oCurrentTopic;this.oCurrentScreen;var n=this;this.createUI=function(){this.oCourse.bHasMenu?(this.oMenuScreen=$("#menuScreen"),this.createMenu()):menuReady()};this.createMenu=function(){loadMenuScreen()};this.updateTopicButtonStatus=function(){for(var n=0;n<this.oCourse.arTopics.length;n++){var t=this.oCourse.arTopics[n],r=t.menu_button,i=t.status_div;i&&i.attr("class","topicStatus "+t.getStatus())}};this.disableMenuButtons=function(){var n,i,t;if(!masterObj.bDevUnlockMode){for(n=0;n<this.oCourse.arTopics.length;n++)i=this.oCourse.arTopics[n],t=i.menu_button,t&&disableElement(t);this.oMenuScreen.disable()}};this.enableMenuButtons=function(){for(var n,i,r=!0,t=0;t<this.oCourse.arTopics.length;t++)n=this.oCourse.arTopics[t],n.updateStatus(),i=n.menu_button,n.locked&&r&&t>0&&(n.locked=!1),i&&!n.locked&&enableElement(i),n.getStatus()!="completed"&&(r=!1);this.updateTopicButtonStatus();this.removeZIndexes($("#menuscreen"));this.oMenuScreen.enable()};this.unlockFirstTopic=function(){var n=this.oCourse.arTopics[0],t=n.menu_button;n.locked=!1;this.enableMenuButtons();updateTracking()};this.removeZIndexes=function(n){var i,t,r;for($(n).css("z-index",""),i=$(n).children(),t=0;t<i.length;t++)r=i[t],this.removeZIndexes(r)};this.registerMenuButton=function(t){var i=t.getDiv(),f=t.topicId,u=masterObj.getTopicById(f),r=$(document.createElement("div"));r.attr("class","topicStatus "+u.getStatus());i.append(r);u.menu_button=i;u.status_div=r;u.menu_button.data("topic_id",f);r.css("left",t.status_x);r.css("top",t.status_y);i.data("oy",i.oModel.y);i.addClass("menuTopicBtn");applyClick(i,function(){n.pressMenuButton(this)})};this.pressMenuButton=function(n){var t=$(n).data("elm");loadTopic(t.data("topic_id"))};this.hideMenu=function(){this.oCourse.bHasMenu&&(this.oMenuScreen.length&&this.oMenuScreen.disable(),this.disableMenuButtons(),_respondo.desktop()?(tweenTo(this.oHolder,.2,{autoAlpha:0,display:"none"}),tweenTo($("#contentholder"),.2,{autoAlpha:1,display:"block"})):(tweenTo($("#contentholder"),0,{y:0}),tweenTo(this.oHolder,0,{y:0}),tweenTo(this.oHolder,.3,{autoAlpha:0,y:0,display:"none"}),tweenTo($("#contentholder"),.3,{autoAlpha:1,y:0,display:"block"})))};this.showMenu=function(){this.oCourse.bHasMenu&&(this.oMenuScreen.enable(),this.enableMenuButtons(),n.oMenuScreen.view.doEventById("showMenu"),_respondo.desktop()?(tweenTo(this.oHolder,.2,{autoAlpha:1,display:"block"}),tweenTo($("#contentholder"),.2,{autoAlpha:0,display:"none"})):(tweenTo($("#contentholder"),0,{y:0}),tweenTo(this.oHolder,0,{y:0}),tweenTo(this.oHolder,.3,{autoAlpha:1,y:0,display:"block"}),tweenTo($("#contentholder"),.3,{autoAlpha:0,y:0,display:"none"})))}}
function Preloader(n){var t=this;t.id=n.id;devmode&&console.log("Log PRELOADER ID "+t.id);t.dispatcher=$(document.createElement("div"));t.dispatcher.attr("id","dispatcher_preloader"+t.id);t.dispatcher.attr("class","preloaderdispatcher");t.loadergraphic;t.loadbarcontainer;t.loadbar;t.imageArray=[];t.loadImageArray=function(i){if(t.holder=n.type=="sub"?n.view.screenTarget:$("#loaderholder"),t.imageArray=t.imageArray.concat(i),devmode&&console.log("Log PRELOADER "+t.id+" loading images %o",t.imageArray),t.imageArray.length>0){t.createLoader();navObj.loadbar&&navObj.loadbar.width(0);var r=$.imgpreloader({paths:t.imageArray});r.done(t.loadComplete);r.progress(t.loadProgress)}else t.loadComplete()};t.loadProgress=function(n,i,r,u,f,e){t.loadbarcontainer&&t.loadbar&&t.loadbar.css("width",e+"%");f&&t.loadComplete()};t.loadComplete=function(){t.dispatcher.trigger("loaded");t.loader&&t.loader.empty().remove()};t.createLoader=function(){t.loader||(t.loader=$('<div class="preloader preloader_'+t.id+'"><\/div>'),t.loadergraphic=$('<img src="lib/images/ui/_circle_loader.gif" />'),t.loadbarcontainer=$('<div class="loadbarcontainer"><\/div>'),t.loadbar=$('<div class="loadbar"><\/div>'),t.loader.append(t.loadbarcontainer),t.loader.append(t.loadergraphic),t.loadbarcontainer.append(t.loadbar),t.holder.append(t.loader))};t.kill=function(){t.loader&&t.loader.empty().remove();t.dispatcher.empty().remove()}}
function ScreenView(n){var t=this;t.screen=n;t.oXML;t.eventsXml;t.arScreenElements=[];t.arAllScreenElements=[];t.courseHolder=$("#courseholder");t.oHolder=null;t.screenTarget;t.arImageElements=[];t.arEvents=[];t.assEvents={};t.arTriggers=[];t.feedback_array=[];t.feedback_elements_array=[];t.tween_array=[];t.preloader=new Preloader(t.screen);t.reload_on_resize=!1;t.screen.phonexml!=t.screen.desktopxml&&(t.reload_on_resize=!0);t.screen.reload_on_resize&&(t.reload_on_resize=!0);t.complete_on_load=!0;t.initScreen=function(n){t.screen.setVisited(!0);t.arScreenElements=[];t.arAllScreenElements=[];t.arImageElements=[];t.arEvents=[];t.assEvents={};t.arTriggers=[];t.feedback_array=[];t.feedback_elements_array=[];t.screenTarget=n;devmode&&console.log("view screen initScreen() "+t.screen.id);t.oHolder=$(document.createElement("div"));t.oHolder.attr("id","screenHolder_"+t.screen.id);t.oHolder.attr("class","screenHolder");t.oHolder.addClass(t.screen.screentype+" topic"+t.screen.topicId+" screen"+t.screen.id);$(t.screenTarget).append(t.oHolder);tweenTo(t.oHolder,0,{autoAlpha:0,display:"none"});t.oHolder.css("height","100%");t.oHolder.css("width","100%");t.oXML=t.screen.viewXML;t.reload_on_resize&&(_respondo.dispatcher.unbind("updateSize",t.reload),_respondo.dispatcher.bind("updateSize",t.reload));t.init_screen_element_xml=$(t.oXML).children()[0];$(t.oXML).children()[0].nodeName!="data"&&(t.init_screen_element_xml=$(t.oXML));t.initScreenElements();TweenMax.delayedCall(.1,t.preloadImages)};t.initScreenElements=function(){t.arScreenElements=t.createScreenElements(t.init_screen_element_xml)};t.reloadOnResize=function(){t.reload_on_resize||(t.reload_on_resize=!0,_respondo.dispatcher.unbind("updateSize",t.reload),_respondo.dispatcher.bind("updateSize",t.reload))};t.reload=function(){t.screen.reload()};t.kill=function(){for(var i,r,n=0;n<t.tween_array.length;n++)i=t.tween_array[n],i.kill();for(t.preloader.dispatcher.unbind("loaded"),t.preloader.kill(),_respondo.dispatcher.unbind("updateSize",t.reload),n=0;n<t.arAllScreenElements.length;n++)r=t.arAllScreenElements[n],r.kill();t.arAllScreenElements=[];t.screen.templateView.kill&&t.screen.templateView.kill();t.oHolder&&t.oHolder.length>0&&t.oHolder.empty().remove()};t.preloadImages=function(){t.preloader.dispatcher.bind("loaded",t.allImagesLoaded);t.preloader.loadImageArray(t.arImageElements)};t.allImagesLoaded=function(){tweenTo(t.oHolder,0,{delay:0,autoAlpha:0,display:"block"});t.screenLoaded()};t.createScreenElements=function(n){var r=t.screen,i=[];return $(n).children().each(function(){if(this.nodeName=="settings")t.createSettings(this);else if(this.nodeName=="events")t.createEvents(this);else{var n=t.createScreenElement(this,r);i.push(n)}}),t.screen.scored&&(t.complete_on_load=!1),t.attachScreenElements(i),i};t.createSettings=function(n){t.complete_on_load=Boolean($(n).attr("autocomplete")!="false");t.reload_on_resize=Boolean($(n).attr("resizereload")=="true");t.reload_on_resize&&(_respondo.dispatcher.unbind("updateSize",t.reload),_respondo.dispatcher.bind("updateSize",t.reload))};t.createEvents=function(n){var f,u,r,e,o,i;for(t.eventsXml=n,t.arEvents=[],t.assEvents={},t.arTriggers=[],f=$(n).children(),u=0;u<f.length;u++){r=f[u];e=r.nodeName;switch(e){case"event":i=new ScreenEvent(r,t);t.arEvents.push(i);t.assEvents[i.id]=i;i.setup();break;case"trigger":o=new TriggerEvent(r,t);t.arTriggers.push(o);o.setup();break;case"sequence":i=new SequenceEvent(r,t);t.arEvents.push(i);i.setup();break;default:console.warn("* * * UNKOWN EVENT TYPE REQUESTED: "+e)}}};t.createScreenElement=function(n){var r=t.screen,i=new ScreenElement(n,r);return t.arAllScreenElements.push(i),i.view&&i.view.createElement(),i};t.attachScreenElements=function(n){for(var i,t=0;t<n.length;t++)i=n[t],i.view&&i.view.attachTscreen()};t.tweenScreenElements=function(n){var r=n,i,u;for(n||(r=t.arAllScreenElements),devmode&&console.log("Log TWEEN SCREEN ELEMENTS "+t.screen.id),i=0;i<r.length;i++)u=r[i],u.view&&u.doTween()};t.removeFromArray=function(n){for(i in t.arAllScreenElements)if(t.arAllScreenElements[i]==n){t.arAllScreenElements.splice(i,1);break}};t.bookmarkResume=function(){bookmarkResume()};t.bookmarkMenu=function(){bookmarkMenu()};t.screenLoaded=function(){t.screen.templateView.screenElementsReady();t.screen.screenLoaded()};t.ready=function(){t.tweenScreenElements();console.log("READY");t.complete_on_load&&t.screen.screenCompleted();TweenMax.delayedCall(0,t.initEvent)};t.doEvents=function(n,i,r){var u,f;if(n)if(u=n.split(","),i==null&&(i="click"),i=="over",i=="out",i=="click")for(f=0;f<u.length;f++)t.doEventById(u[f],i,r);else t.doEventById(u[u.length-1],i,r)};t.doClickById=function(n){n&&t.doEvents(n,"click")};t.getEventById=function(n){for(var r,u=null,i=0;i<t.arEvents.length;i++)r=t.arEvents[i],r.id==n&&(u=r);return u};t.doEventById=function(n,i,r){for(var u,e,f=0;f<t.arEvents.length;f++)if(u=t.arEvents[f],e=!0,u.screensize&&u.screensize!=_respondo.screen_size&&(e=!1),e&&n==u.id)switch(i){case"over":u.over(r);break;case"out":u.out(r);break;case"click":u.click(r);break;default:u.click(r);i="click"}i=="click"&&t.checkTriggers(n)};t.checkTriggers=function(n){for(var r,i=0;i<t.arTriggers.length;i++)r=t.arTriggers[i],r.allComplete()&&r.containsEvent(n)&&r.activate()};t.initEvent=function(){t.initEventCalled||(t.initEventCalled=!0,t.doClickById("init"));$(".in-topic").length?t.doClickById("in_topic"):t.doClickById("in_menu")};t.createFeedback=function(n){var i={};i.id=n.attr("id");i.fb_xml=n;i.event=n.attr("event");t.feedback_array.push(i)};t.getFeedbackById=function(n){var i=getItemById(n,t.feedback_array),r,e,u,f,o;if(!i)for(r=0;r<t.feedback_array.length;r++)if(e=t.feedback_array[r],u=String(e.id).split(","),u.length>1){for(f=0;f<u.length;f++)if(o=u[f],o==n){i=e;break}if(i)break}return i};t.checkFeedback=function(n){var r=t.getFeedbackById(n),i=!1;return r&&(i=!0),i};t.applyFeedback=function(n){var i=null,r;switch(n){case"pass":i=t.getFeedbackById("pass");break;case"fail":i=t.getFeedbackById("fail");break;case"partial":i=t.getFeedbackById("partial");i||(i=t.getFeedbackById("fail"))}i||(i=t.getFeedbackById(n));i&&(t.feedback_elements_array=[],t.feedback_elements_array=t.createScreenElements(i.fb_xml),TweenMax.delayedCall(.1,function(){t.tweenScreenElements(t.feedback_elements_array)}),i.event&&t.doClickById(i.event),_respondo.phone()&&(r=t.getScreenElementById("fb"),r&&scrollToDiv(r.getDiv())))};t.removeFeedback=function(){for(var i,n=0;n<t.feedback_elements_array.length;n++)i=t.feedback_elements_array[n],i.view.removeFromScreen()};t.removeScreen=function(){if(t.oHolder){t.kill();var n=t.oHolder;t.screen.templateView.killScreen&&t.screen.templateView.killScreen();t.oHolder.empty().remove();t.oHolder=null}};t.getScreenElementById=function(n){for(var r,u=null,i=0;i<t.arAllScreenElements.length;i++)if(r=t.arAllScreenElements[i],r.id==n){u=r;break}return u};t.removeScreenElementById=function(n){for(var i,u=[],r=0;r<t.arAllScreenElements.length;r++)i=t.arAllScreenElements[r],i.id==n?i.getDiv().empty().remove():u.push(i);t.arAllScreenElements=u};t.enableButton=function(n){var i=t.getScreenElementById(n);i.view.oContent.attr("disabled",!1);tweenTo(i.getDiv(),.3,{autoAlpha:1})};t.disableButton=function(n){var i=t.getScreenElementById(n);i.view.oContent.attr("disabled",!0);tweenTo(i.getDiv(),.3,{autoAlpha:.5})};t.disable=function(){devmode&&console.log("Log DISABLE SCREEN "+t.screen.id);t.oHolder.addClass("disabled");t.screen.templateView.disable&&t.screen.templateView.disable()};t.enable=function(){devmode&&console.log("Log ENABLE SCREEN "+t.screen.id);t.oHolder&&(t.oHolder.removeClass("disabled"),t.screen.templateView.enable&&t.screen.templateView.enable())}}
function ScreenElementView(n){var t=this;t.oModel=n;t.idprefix=t.oModel.screen.id+"_";t.oDiv=$("<div>");t.oDiv.addClass("screenElement");t.oDiv.attr("id",t.idprefix+t.oModel.id);t.oContent=$("<div />");t.oContentHolder;t.screen=t.oModel.screen;t.templateView=t.screen.templateView;t.screen_view=t.screen.view;t.resizeListen=!1;t.xml_node=$(t.oModel.xml);t.createElement=function(){var n,i,r;t.oContentHolder=t.screen_view.oHolder;t.oModel.sTarget&&(n=t.screen_view.getScreenElementById(t.oModel.sTarget),t.oContentHolder=n?n.view.oDiv:$("#"+t.oModel.sTarget));t.oDiv.oModel=t.oModel;t.oDiv.view=t;devmode&&console.log("Log XPOS "+t.oModel.x);t.oDiv.css("left",t.oModel.x);t.oDiv.css("top",t.oModel.y);t.oModel.z&&t.oDiv.css("z-index",t.oModel.z);tweenTo(t.oDiv,0,{rotation:t.oModel.rotation});t.oModel.draggable&&(i=t.screen_view.oHolder,t.oModel.draggable!="true"&&(r=t.screen_view.getScreenElementById(t.oModel.draggable),i=r?r.view.oDiv:$("#"+t.oModel.draggable)),t.oDraggable=Draggable.create(t.oDiv,{edgeResistance:1,type:"left,top",bounds:i,throwProps:!0,throwResistance:1}));t.oModel.width&&t.oDiv.css("width",t.oModel.width);t.oModel.height&&t.oDiv.css("height",t.oModel.height);t.oDiv.find("> .after").length<1&&t.oDiv.append('<div class="after"><\/div>');t.oDiv.addClass("screenElement");t.oDiv.addClass(this.oModel.type);t.oDiv.addClass(this.oModel.id);t.oModel.enabled||t.oDiv.addClass("disabled");t.oModel.classname&&t.oDiv.addClass(t.oModel.classname);t.oModel.screensize&&(t.resizeListen=!0);t.setContent();t.screenSizeUpdate();t.oModel.sFilters&&t.applyFilters(t.oModel.sFilters);t.oDiv.find(":last-child").addClass("last-child")};t.appendChildren=function(n){for(var r,u=n.children(),i=0;i<u.length;i++)r=$(u[i]),r.attr("target",t.oModel.id),r.attr("id")||r.attr("id",t.oModel.id+"_item"+i);t.screen_view.createScreenElements(n)};t.update=function(){devmode&&console.log("Log UPDATE "+t.oModel.id);t.setContent()};t.attachTscreen=function(){t.oModel.animtype!="none"&&tweenTo(t.oDiv,0,{alpha:.01});t.oContentHolder.append(t.oDiv);t.oModel.screensize&&t.screenSizeUpdate()};t.testScreenSize=function(){var n=!1;return t.oModel.screensize?(devmode&&console.log("Log "+t.oModel.id+" testScreenSize "+_respondo.screen_type+"  "+t.oModel.screensize),_respondo.desktop()&&t.oModel.screensize.indexOf("desktop")>-1&&(n=!0),_respondo.phone()&&t.oModel.screensize.indexOf("phone")>-1&&(n=!0)):n=!0,n};t.screenSizeUpdate=function(){t.oModel.screensize&&_respondo.ready()&&(t.testScreenSize()?t.contents&&(t.oDiv.append(t.contents),t.contents=null):(t.contents=t.oDiv.contents(),t.oDiv.empty()))};t.doTween=function(n){var u=t.oModel,f=n.time,r=t.oDiv,i={};i.delay=n.delay;i.ease=n.ease;i.display="block";switch(n.type){case"alpha":i.autoAlpha=1;break;case"alphaout":i.autoAlpha=0;i.display="none";break;case"top":tweenTo(r,0,{top:-100});i.autoAlpha=1;i.top=u.y;break;case"right":tweenTo(r,0,{left:1014});i.autoAlpha=1;i.left=u.x;break;case"rightout":tweenTo(r,0,{right:0});i.autoAlpha=0;i.left=-100;break;case"bottom":tweenTo(r,0,{top:650});i.autoAlpha=1;i.top=u.y;break;case"left":tweenTo(r,0,{left:0-r.width()});i.autoAlpha=1;i.left=u.x;break;case"hidden":i.autoAlpha=0;i.delay=0;f=0;i.display="none";break;case"none":default:i.autoAlpha=1;i.delay=0;f=0}i.onComplete=function(){t.oModel.view&&t.oModel.enabled&&t.oModel.enable()};_respondo.dispatcher.unbind("updateSize",t.screenSizeUpdate);t.resizeListen&&(_respondo.dispatcher.bind("updateSize",t.screenSizeUpdate),t.screenSizeUpdate());t.activetween=tweenTo(r,f,i)};t.applyFilters=function(n){var n,r,i;if(t.oDiv,n||(n=t.oModel.sFilters),n)for(r=n.split("|"),i=0;i<r.length;i++){var f=r[i],e=f.split("_")[0].toLowerCase(),u=f.split("_")[1];switch(e){case"swapimage":t.swapImage(t.oDiv,u);break;case"css":t.oDiv.addClass(u);break;case"cssremove":t.oDiv.removeClass(u);break;default:t.oDiv.addClass(n)}}};t.removeFromScreen=function(){var i=t.oModel.screen.view,r=t.oModel,n=t.oDiv;tweenTo(n,.2,{autoAlpha:0,y:"+=10",onComplete:function(){n.empty().remove();i.removeFromArray(r)}})};t.kill=function(){t.activetween&&t.activetween.kill();_respondo.dispatcher.unbind("updateSize",t.screenSizeUpdate);t.oContent&&(t.oContent.kill&&t.oContent.kill(),t.oContent.empty&&t.oContent.empty().remove());t.oDiv.empty().remove()};t.remove=function(){var i=t.oModel.screen.view,n;$(t.oDiv).empty().remove();n=t.oModel;i.removeFromArray(n)};t.setContent=function(){switch(t.oModel.type){case"custom":t.templateView.custom(t.oModel)}};t.createScreen=function(){devmode&&console.log("Log CREATE SCREEN SUBCLASSED")};t.createLine=function(){devmode&&console.log("Log CREATE LINE SUBCLASSED")};t.createBox=function(){devmode&&console.log("Log CREATE BOX SUBCLASSED")};t.createText=function(){devmode&&console.log("Log CREATE TEXT SUBCLASSED")};t.createImage=function(){devmode&&console.log("Log CREATE IMAGE SUBCLASSED")};t.createStatus=function(){devmode&&console.log("Log CREATE STATUS SUBCLASSED")};t.createButton=function(){devmode&&console.log("Log CREATE BUTTON SUBCLASSED")};t.createTabs=function(){devmode&&console.log("Log CREATE TABS SUBCLASSED")};t.createVideo=function(){devmode&&console.log("Log CREATE VIDEO SUBCLASSED")};t.createAudio=function(){devmode&&console.log("Log CREATE AUDIO SUBCLASSED")};t.createTimer=function(){devmode&&console.log("Log CREATE TIMER SUBCLASSED")};t.createSprite=function(){devmode&&console.log("Log CREATE SPRITE SUBCLASSED")}}
function TextElementView(n){var t=this;ScreenElementView.call(t,n);t.view=t;t.setContent=function(){var i,n;t.oContent.remove();t.xml_node.attr("type")=="input"?(t.oContent=document.createElement("textArea"),$(t.oContent).css("padding","5px"),$(t.oContent).css("width",t.xml_node.attr("width")),$(t.oContent).css("height",t.xml_node.attr("height")),$(t.oContent).css("box-sizing","border-box"),$(t.oContent).css("resize","none"),i=t.xml_node.text(),$(t.oContent).attr("initialVal",i),$(t.oContent).val(i),$(t.oContent).focus(function(){t.value==$(t).attr("initialVal")&&(t.value="")}),t.oContent.addEventListener?t.oContent.addEventListener("input",function(){t.screen_view.doEventById("inputUpdated");coursetextObj.storeText(t.value,t.xml_node.attr("id"))},!1):t.oContent.attachEvent&&t.oContent.attachEvent("onpropertychange",function(){t.screen_view.doEventById("inputUpdated")})):(n=t.xml_node.text(),n=doStringReplacements(n),t.oContent=$(n),t.xml_node.attr("scroll")&&t.xml_node.attr("scroll")=="true"&&t.oDiv.css("overflow","auto"));t.oDiv.append(t.oContent)};t.update=function(){t.setContent()}}TextElementView.prototype=ScreenElementView
function LineElementView(n){var t=this;ScreenElementView.call(t,n);t.setContent=function(){t.oContent.width(xml_node.attr("x2")-xml_node.attr("x"));t.oContent.height(xml_node.attr("y2")-xml_node.attr("y"));t.oContent.css("border-color",tidyColour(xml_node.attr("colour")));t.oContent.css("border-width",xml_node.attr("weight"));t.oContent.css("border-style","dashed");t.oContent.css("border-right","none");t.oContent.css("border-bottom","none");t.oDiv.append(t.oContent)}}LineElementView.prototype=ScreenElementView
function BoxElementView(n){var t=this;ScreenElementView.call(t,n);t.setContent=function(){t.oContent.width("100%");t.oContent.height("100%");t.oContent.addClass("background");t.xml_node.attr("bgcol")&&(t.oContent.css("background-color",tidyColour(t.xml_node.attr("bgcol"))),t.oContent.css("opacity",Number(t.xml_node.attr("bgalpha"))));t.xml_node.attr("scroll")=="true"&&t.oDiv.addClass("scrolling");t.xml_node.attr("corner")&&t.oContent.css("border-radius",t.xml_node.attr("corner"));(t.xml_node.attr("linewidth")||t.xml_node.attr("linecol"))&&(t.oContent.css("border-width",t.xml_node.attr("linewidth")+"px"),t.oContent.css("border-color",tidyColour(t.xml_node.attr("linecol"))),t.oContent.css("border-style","solid"),t.oContent.css("border-radius",t.oContent.corner));t.oDiv.append(t.oContent);t.appendChildren(t.xml_node)}}BoxElementView.prototype=ScreenElementView
function PagecounterView(n){var t=this;BoxElementView.call(t,n);t.contentstring=t.xml_node.text();t.type=t.xml_node.attr("type");t.allow_jump=t.xml_node.attr("jump");t.oDiv.addClass("pagecounter");t.update=function(){if(currentScreen){t.current_page_number=Number(masterObj.getScreenPosById(currentScreen.id))+1;t.total_page_number=Number(currentTopic.arScreens.length);switch(t.type){case"text":t.displayText();break;case"icons":default:t.displayIcons()}}};t.displayText=function(){t.oDiv.find(".from").empty().append(String(t.current_page_number));t.oDiv.find(".to").empty().append(String(t.total_page_number))};t.displayIcons=function(){var r,i,n;for(t.oDiv.empty(),r=0;r<currentTopic.arScreens.length;r++)i=currentTopic.arScreens[r],n=$('<div class="screen" />'),n.data("screen",i),i.getVisited()&&n.addClass("visited"),i==currentScreen&&n.addClass("current"),i.getScored()&&(n.addClass("scored"),i.getAnswered()&&(i.getPassed()?n.addClass("passed"):n.addClass("failed"))),t.oDiv.append(n),t.allow_jump&&applyClick(n,function(){var t=$(this).data("elm"),n=t.data("screen");n.getVisited()&&jumpScreen(n.id)})}}PagecounterView.prototype=BoxElementView
function ImageElementView(n){var t=this;ScreenElementView.call(t,n);t.url=t.xml_node.text();t.img_element=$('<img src="'+t.url+'" />');t.url_has_desktop=!1;t.url_has_phone=!1;t.setContent=function(){t.url_has_desktop=Boolean(t.url.indexOf("_desktop/")>-1);t.url_has_phone=Boolean(t.url.indexOf("_phone/")>-1);(t.url_has_phone||t.url_has_desktop)&&(t.resizeListen=!0);t.oContent.empty();t.setImage();t.oDiv.append(t.oContent)};t.super_screenSizeUpdate=t.screenSizeUpdate;t.screenSizeUpdate=function(){t.super_screenSizeUpdate();t.oDiv.length>0&&(Boolean(t.url.indexOf("_desktop/")>-1)&&_respondo.phone()&&(t.url=t.url.split("_desktop/").join("_phone/")),Boolean(t.url.indexOf("_phone/")>-1)&&_respondo.desktop()&&(t.url=t.url.split("_phone/").join("_desktop/")),t.img_element.attr("src")!=t.url&&t.img_element.attr("src",t.url));t.testScreenSize()&&t.setImage()};t.setImage=function(){t.oContent.append(t.img_element);t.screen_view.arImageElements.push(t.url);t.oDiv.append(t.oContent)};t.swapImage=function(n,t){var i,r=$(n.find("img")[0]);if(n.data("originalImage")?(i=n.data("originalImage"),console.log("originalImage = "+i)):(i=r.attr("src"),n.data("originalImage",i),console.log("setting originalImage to "+i)),t&&t.length>0){var u=i.split("."),f=u[u.length-1],e=i.split("."+f)[0];i=e+"_"+t+"."+f}r.attr("src",i)}}ImageElementView.prototype=ScreenElementView
function StatusElementView(n){var t=this;ScreenElementView.call(t,n);t.topicArray=[];t.topicIDArray=t.xml_node.attr("topic").split(",");t.setContent=function(){for(var n=0;n<t.topicIDArray.length;n++)t.topicArray.push(masterObj.getTopicById(t.topicIDArray[n]));t.topicStatusCSS="topicStatus";t.xml_node.attr("useStatusCSS")&&(t.topicStatusCSS=t.xml_node.attr("useStatusCSS"));t.oContent.attr("class",t.topicStatusCSS+" notattempted");t.oDiv.append(t.oContent);t.setupTopicListener()};t.updateStatus=function(){for(var o,n,r=0,f=0,i=0,e=0,u=0;u<t.topicArray.length;u++){o=t.topicArray[u];switch(o.getStatus()){case"notattempted":r++;break;case"incomplete":f++;break;case"completed":i++;break;case"passed":i++;break;case"locked":e++}}n="notattempted";i>0&&(n="completed");r>0&&(n="notattempted");r>0&&i>0&&(n="incomplete");f>0&&(n="incomplete");e==t.topicArray.length&&(n="locked");t.oContent.attr("class",t.topicStatusCSS+" "+n)};t.setupTopicListener=function(){for(var i,n=0;n<t.topicArray.length;n++)i=t.topicArray[n],i&&i.dispatcher.bind("statusupdated",t.updateStatus);t.updateStatus()}}StatusElementView.prototype=ScreenElementView
function ButtonElementView(n){var t=this;ScreenElementView.call(t,n);t.setContent=function(){t.oContent.addClass("btn");t.oContent.append($(t.oModel.oXML).text());t.oDiv.append(t.oContent)}}ButtonElementView.prototype=ScreenElementView
function TabsElementView(n){var t=this;ScreenElementView.call(t,n);t.click_nodes=[];t.reveal_nodes=[];t.click_array=[];t.reveal_array=[];t.auto_select_delay=0;t.current_click=null;t.setContent=function(){var n,i;for(t.resizeListen=!0,t.oDiv.append(t.oContent),n=0;n<t.xml_node.children().length;n++){i=t.xml_node.children()[n];switch(i.nodeName){case"click":t.click_nodes.push(i);break;case"reveal":t.reveal_nodes.push(i)}}t.xml_node.attr("autoselectdelay")&&(t.auto_select_delay=t.xml_node.attr("autoselectdelay"));t.createClicks();t.createReveals();TweenMax.delayedCall(0,t.attachRevealContent);TweenMax.delayedCall(t.auto_select_delay,t.autoSelect)};t.super_screenSizeUpdate=t.screenSizeUpdate;t.screenSizeUpdate=function(){t.super_screenSizeUpdate();_respondo.desktop()&&(t.revealholder.remove(),t.clickholder.after(t.revealholder),t.current_click||t.autoSelect());t.current_click&&t.selectTab(t.current_click)};t.createClicks=function(){var u,i,r,n;for(t.clickholder=$('<div class="clickholder">'),t.oContent.append(t.clickholder),u=t.click_nodes,i=0;i<u.length;i++)r=$(u[i]),n=$('<div class="click">'),n.data("id",i),n.data("event",r.attr("event")),n.data("selected",r.attr("selected")),n.append(r.text()),t.clickholder.append(n),applyClick(n,function(){var n=$(this).data("elm");t.selectTab(n)}),t.click_array.push(n)};t.createReveals=function(){var f,n,o,r,u;for(t.revealholder=$('<div class="revealholder">'),t.oContent.append(t.revealholder),f=t.reveal_nodes,n=0;n<f.length;n++){var s=$(f[n]),e=t.idprefix+t.oModel.id+"_reveal_"+n,i=$('<div class="reveal" id="'+e+'">');for(i.data("id",n),t.revealholder.append(i),o=s.children(),r=0;r<o.length;r++)u=$(o[r]),u.attr("target",e),u.attr("id")||u.attr("id",e+"_item"+r);i.xml=s;tweenTo(i,0,{autoAlpha:0,display:"none"});t.reveal_array.push(i)}};t.attachRevealContent=function(){for(var i,n=0;n<t.reveal_array.length;n++)i=t.reveal_array[n],t.screen_view.createScreenElements(i.xml)};t.autoSelect=function(){for(var i,n=0;n<t.click_array.length;n++)i=t.click_array[n],i.data("selected")=="true"&&_respondo.desktop()&&t.selectTab(i)};t.closeTab=function(){for(var i,n=0;n<t.click_array.length;n++)i=t.click_array[n],i.removeClass("selected"),applyClick(i,function(){var n=$(this).data("elm");t.selectTab(n)});for(t.current_click=null,n=0;n<t.reveal_array.length;n++)i=t.reveal_array[n],i.addClass("inactive"),_respondo.desktop()?tweenTo(i,.2,{autoAlpha:0,y:t.revealholder.height()}):tweenTo(i,0,{autoAlpha:0,y:0})};t.selectTab=function(n){var i=t.reveal_array[n.data("id")],u,r,f,e;for(t.current_click&&t.closeTab(),t.current_click=n,t.current_click.addClass("selected"),u=0;u<t.reveal_array.length;u++)r=t.reveal_array[u],r!=i&&(r.addClass("inactive"),_respondo.desktop()?tweenTo(r,.2,{autoAlpha:0,y:t.revealholder.height()}):tweenTo(r,0,{autoAlpha:0,y:0}));f=function(){for(var r,i=0;i<t.click_array.length;i++)r=t.click_array[i],enableElement(r);disableElement(n)};e=function(){if(t.screen_view.doClickById(n.data("event")),_respondo.phone()){t.revealholder.remove();n.after(t.revealholder);var i=n.offset().top-70;tweenTo(window,.5,{scrollTo:{y:i,x:0},ease:Power4.easeOut});applyClick(t.current_click,function(){t.current_click.removeClass("selected");t.closeTab()});enableElement(n)}};i.removeClass("inactive");_respondo.desktop()?(tweenTo(i,0,{autoAlpha:0,display:"block",y:0-t.revealholder.height()}),tweenTo(i,.3,{autoAlpha:1,y:0,onStart:f,onComplete:e})):(tweenTo(i,0,{autoAlpha:0,y:0,transform:null,display:"block"}),tweenTo(i,0,{autoAlpha:1,onStart:f,onComplete:e}))}}TabsElementView.prototype=ScreenElementView
function TimedElementView(n){var t=this;ScreenElementView.call(t,n);t.currentTime=-1;t.autoplay=!0;t.preload=!0;t.cuepoints=[];t.xml_node.attr("autoplay")&&t.xml_node.attr("autoplay").toLowerCase()=="false"&&(t.autoplay=!1);t.xml_node.attr("preload")&&t.xml_node.attr("preload").toLowerCase()=="false"&&(t.preload=!1);t.setContent=function(){t.oDiv.append(t.oContent);t.createCues(t.xml_node.children())};t.kill=function(){t.stop();t.cuepoints=[];t.oContent&&t.oContent.empty().remove()};t.convertTimeCodeToSeconds=function(n){var t=n.split(":"),i=Number(t[0])*3600,r=Number(t[1])*60,u=Number(t[2]);return i+r+u};t.createCues=function(n){for(var i,f,e,r,u=0;u<n.length;u++)i=$(n[u]),f=Number(i.attr("time")),i.attr("starttime")&&(f=Number(i.attr("starttime"))),e=Number(i.attr("endtime")),e||(e=f+.5),r={id:i.attr("id"),start_time:f,end_time:e,event:i.attr("event")},devmode&&console.log("Log CREATE CUE "+r.id+" "+r.start_time+" "+r.event),t.cuepoints.push(r)};t.timeUpdate=function(n){var r=n,i;r!=t.currentTime&&(t.currentTime=r,t.current_cue&&t.current_cue.end_time<r&&(t.endCue(t.current_cue),t.current_cue=null),i=t.findCue(t.currentTime),i&&i!=t.current_cue&&(devmode&&console.log("Log FOUND NEW Q "+i.event),t.doCue(i),t.current_cue=i))};t.doCue=function(n){devmode&&console.log("Log DO Q "+n.event);n.event&&(devmode&&console.log("Log DO CUE EVENT "+n.event),t.screen_view.doClickById(n.event))};t.endCue=function(n){n.endevent&&t.screen_view.doClickById(n.endevent)};t.findCue=function(n){for(var r,i=null,u=0;u<t.cuepoints.length;u++){if(r=t.cuepoints[u],r.id==n){i=r;break}if(n>=r.start_time&&n<=r.end_time){i=r;break}}return i&&devmode&&console.log("Log FIND Q "+i.id+" - "+i.start_time+" event: "+i.event),i}}TimedElementView.prototype=ScreenElementView
function TimelineView(n){var t=this;TimedElementView.call(t,n);t.screen.dispatcher.bind("kill",t.kill);t.timer_div=$('<div class="timer"><\/div>');t.timer_tween=null;t.time=Number(t.xml_node.attr("time"));t.control=t.xml_node.attr("control");t.base_setContent=t.setContent;t.setContent=function(){t.oContent=t.timer_div;t.base_setContent();t.screen.dispatcher.on("ready",function(){TweenMax.delayedCall(0,t.applyTimeline)})};t.applyTimeline=function(){var i,n,r,o;for(devmode&&console.log("Log applyTimeline"),t.timer_tween=new TimelineMax,t.timer_tween.add(TweenMax.to(t.oContent,t.time,{})),i=0;i<t.xml_node.children().length;i++){if(n=$(t.xml_node.children()[i]),n[0].nodeName=="tween"){r=n.attr("element");devmode&&console.log("Log "+i+" TWEEN ELEMENT "+r);var u=t.screen_view.getScreenElementById(r).getDiv(),f=t.createTweenObject(n.text()),s=Number(n.attr("time")),e=0;n.attr("timeoffset")&&(e=n.attr("timeoffset"));n.attr("event")&&(u.data("complete_event",n.attr("event")),f.onComplete=function(){t.screen_view.doClickById($(this.target).data("complete_event"))});o=new TweenMax(u,s,f);t.timer_tween.add(o,e)}t.timer_tween.smoothChildTiming=!0}t.autoplay?t.play():t.pause();t.control=="scroll"&&t.addScrollListener()};t.addScrollListener=function(){$(window).bind("scroll",t.updateTimelineByScrollPosition)};t.updateTimelineByScrollPosition=function(){var n=$(window).scrollTop(),i=$(document).height()-$(window).height(),r=n/i,u=t.time*r;tweenTo(t.timer_tween,.2,{time:u,ease:Linear.easeNone})};t.createTweenObject=function(n){for(var i,r={},u=n.split(","),t=0;t<u.length;t++)i=u[t].split(":"),r[i[0].replace(/\s+/g,"")]=i[1].replace(/\s+/g,"");return r};t.base_kill=t.kill;t.kill=function(){t.screen.dispatcher.unbind("ready");$(window).unbind("scroll",t.updateTimelineByScrollPosition);t.timer_tween.kill();t.base_kill()};t.play=function(){t.timer_tween.play()};t.pause=function(){t.timer_tween.pause()};t.stop=function(){t.timer_tween.pause()};t.reset=function(){t.current_cue=null;t.timer_tween.pause(0);t.timeUpdate()};t.timeUpdate=function(){}}TimelineView.prototype=TimedElementView
function TimerView(n){var t=this;TimedElementView.call(t,n);t.timer_div=$('<div class="timer"><\/div>');t.timer_tween;t.time=Number(t.xml_node.attr("time"));t.base_setContent=t.setContent;t.setContent=function(){t.oContent=t.timer_div;t.base_setContent();setTimeout(t.applyTimer,0)};t.applyTimer=function(){t.timer_tween=tweenTo(t.timer_div,t.time,{onStart:function(){var n=t.findCue("start");n&&n!=t.current_cue&&t.doCue(n);t.timeUpdate()},onUpdate:function(){t.timeUpdate()},onComplete:function(){var n=t.findCue("end");n&&n!=t.current_cue&&t.doCue(n)},ease:Linear.easeNone,paused:!0});t.timeUpdate();t.autoplay&&t.play()};t.base_kill=t.kill;t.kill=function(){t.timer_tween.kill();t.base_kill()};t.play=function(){t.timer_tween.play()};t.pause=function(){t.timer_tween.pause()};t.stop=function(){t.timer_tween.pause()};t.reset=function(){t.current_cue=null;t.timer_tween.pause(0);t.timeUpdate()};t.timeUpdate=function(){var n=Math.round(t.time*t.timer_tween.progress()),i,r;n||(n=0);i=t.time-t.time*t.timer_tween.progress();i>t.time&&(i=t.time);t.timer_div.empty().append($('<div class="clock time'+Math.round(t.timer_tween.progress()*100)+'"><p>'+Math.round(i*10)/10+"<\/p>"));n!=t.currentTime&&(t.currentTime=n,t.current_cue&&t.current_cue.end_time<n&&t.endCue(t.current_cue),r=t.findCue(t.currentTime),r&&r!=t.current_cue&&t.doCue(r))}}TimerView.prototype=TimedElementView
function VideoPlayerView(n){var t=this;TimedElementView.call(t,n);t.jplayer_div=null;t.jplayer_skin=global_video_html_block.clone();t.use_closed_captions=!1;t.isPlaying=!1;t.show_closed_captions=!1;t.has_closed_captions=!1;t.ccbuttontext="subtitles";t.xml_node.attr("ccbuttontext")&&(t.ccbuttontext=t.xml_node.attr("ccbuttontext"));t.controls=!1;t.xml_node.attr("controls")&&t.xml_node.attr("controls").toLowerCase()=="true"&&(t.controls=!0);t.postertype="jpg";t.xml_node.attr("postertype")&&(t.postertype=t.xml_node.attr("postertype"));t.xml_node.attr("useclosedcaptions")&&t.xml_node.attr("useclosedcaptions").toLowerCase()=="true"&&(t.use_closed_captions=!0);t.stopothers=!0;t.xml_node.attr("stopothers")&&t.xml_node.attr("stopothers").toLowerCase()=="false"&&(t.stopothers=!1);t.xml_node.attr("closedcaptionsoninit")&&t.xml_node.attr("closedcaptionsoninit").toLowerCase()=="true"&&(t.show_closed_captions=!0);t.reload=!0;t.vid_width=t.xml_node.attr("width");t.vid_height=t.xml_node.attr("height");t.src_url=t.xml_node.attr("src");t.vttcuepoints=[];t.jp_container_id="jp_container_"+t.oDiv.attr("id");t.jp_content_id="jp_"+t.oDiv.attr("id");t.no_suffix=t.src_url.substr(0,t.src_url.lastIndexOf("."));t.base_setContent=t.setContent;t.setContent=function(){t.oContent=t.jplayer_skin;t.base_setContent();t.jplayer_div=$(t.oDiv.find(".jp-jplayer")[0]);t.jplayer_skin.attr("id",t.jp_container_id);t.jplayer_div.attr("id",t.jp_content_id);t.createCues(t.xml_node.children());setTimeout(t.applyPlayer,0)};t.hideCCtracks=function(){var i,n;if(t.video_element&&t.video_element[0].textTracks)for(i=0;i<t.video_element[0].textTracks.length;i++)n=t.video_element[0].textTracks[i],devmode&&console.log("Log HIDE TRACK "+n.label),n.mode=n.OFF?n.OFF:"hidden"};t.showCCtracks=function(){var i,n;if(t.video_element&&t.video_element[0].textTracks)for(i=0;i<t.video_element[0].textTracks.length;i++)n=t.video_element[0].textTracks[i],devmode&&console.log("Log SHOW TRACK "+n.label),n.mode=n.SHOWING?n.SHOWING:"showing"};t.toggleCC=function(){t.show_closed_captions?t.toggleHideCC():t.toggleShowCC()};t.toggleShowCC=function(){t.showCCtracks();var n=$(t.jplayer_skin.find(".jp-closed-captions")[0]);n.fadeIn();t.cc_button.addClass("on");t.show_closed_captions=!0};t.toggleHideCC=function(){t.hideCCtracks();var n=$(t.jplayer_skin.find(".jp-closed-captions")[0]);n.fadeOut();t.cc_button.removeClass("on");t.show_closed_captions=!1};t.base_kill=t.kill;t.kill=function(){t.vttcuepoints=[];t.jplayer_div.jPlayer("destroy");t.jplayer_skin.empty().remove();t.jplayer_div.empty().remove();t.base_kill()};t.play=function(){t.jplayer_div.jPlayer("play");TweenMax.delayedCall(.1,t.checkPlaying)};t.checkPlaying=function(){t.isPlaying?t.oDiv.addClass("started"):(devmode&&console.log("Log PLAYING VID "),t.play())};t.pause=function(){t.jplayer_div.jPlayer("pause")};t.stop=function(){t.jplayer_div.jPlayer("pause")};t.reset=function(){t.jplayer_div.jPlayer("stop")};t.changeSource=function(){};t.attachCCButton=function(){t.cc_button=$('<div class="ccbutton"><\/div>');t.cc_button.append($("<p>"+t.ccbuttontext+"<\/p>"));t.jplayer_skin.append(t.cc_button);applyClick(t.cc_button,t.toggleCC);t.show_closed_captions&&t.toggleShowCC()};t.loadVTT=function(){t.use_closed_captions&&$.ajax({type:"GET",url:t.no_suffix+".vtt",dataType:"text",success:function(n){if(t.has_closed_captions=!0,t.video_element){var i=$('<track label="English" srclang="en" src="'+t.no_suffix+'.vtt" kind="subtitles" default />');t.video_element.append(i);t.video_element[0].textTracks||t.createVTTCues(n);isFF()&&(i.remove(),t.createVTTCues(n))}else t.createVTTCues(n);t.attachCCButton()},error:function(){t.has_closed_captions=!1}})};t.ClosedCaption=function(n){var i=this;i.firstlinesplit=n.split(" --> ");i.start_time=t.convertTimeCodeToSeconds(i.firstlinesplit[0]);i.end_time=t.convertTimeCodeToSeconds(i.firstlinesplit[1]);i.text="";i.addText=function(n){n.length>1&&(i.text+="<p>"+n+"<\/p>")}};t.createVTTCues=function(n){for(var i,f,e=n.split("\n"),r=null,u=0;u<e.length;u++)i=e[u],i.indexOf("-->")>-1?(f=new t.ClosedCaption(i),r=f,t.vttcuepoints.push(f)):r&&r.addText(i)};t.applyPlayer=function(){var n="#"+t.jp_container_id;t.jplayer_div.jPlayer({ready:function(){t.video_element=$(t.jplayer_div.find("video")[0]);devmode&&console.log("Log self.video_element %o",t.video_element);t.video_element.length<1&&(t.video_element=null);devmode&&console.log("Log self.video_element %o",t.video_element);$(this).jPlayer("setMedia",{m4v:t.src_url,poster:t.no_suffix+"."+t.postertype});t.autoplay&&t.play();t.controls||t.jplayer_skin.find(".jp-gui").empty();t.loadVTT()},play:function(){$(this).jPlayer("option","autohide",{full:!0,restored:!0});t.stopothers&&$(this).jPlayer("pauseOthers",0);t.isPlaying=!0;var n=t.findCue("start");n&&t.doCue(n)},pause:function(){$(this).jPlayer("option","autohide",{full:!1,restored:!1});t.isPlaying=!1},click:function(n){n.jPlayer.status.paused?t.play():t.pause()},timeupdate:function(n){t.oDiv.addClass("started");t.timeUpdate(n.jPlayer.status.currentTime)},ended:function(){var n=t.findCue("end");n&&t.doCue(n)},sizeFull:{width:"100%",height:"auto",cssClass:"jp-flat-video-full"},resize:t.resized,cssSelectorAncestor:n,swfPath:"lib/js/plugins/jPlayer",solution:"html,flash",supplied:"m4v",size:{width:t.vid_width,height:t.vid_height,cssClass:"jp-video-auto"},noFullWindow:{android_phone:/android [0-3]/},smoothPlayBar:!0,keyEnabled:!1,globalVolume:!0})};t.resized=function(n){var i=n.jPlayer.status.paused;t.oDiv.find(".jp-state-full-screen").length>0?($("body").addClass("fullscreenvideo"),n.jPlayer.html.used&&$(".lte9").length&&t.movePlayerToTop()):($("body").removeClass("fullscreenvideo"),n.jPlayer.html.used&&t.dockPlayer());i||t.play()};t.movePlayerToTop=function(){t.jplayer_skin.appendTo($("body"))};t.dockPlayer=function(){t.jplayer_skin.appendTo(t.oDiv)};t.base_timeUpdate=t.timeUpdate;t.timeUpdate=function(n){t.base_timeUpdate(n);var r=n,i=t.findVTTCue(t.currentTime);i?i!=t.current_vttcue&&(t.current_vttcue=i,t.doCue(i)):(t.current_vttcue=null,t.noCue())};t.base_doCue=t.doCue;t.doCue=function(n){if(t.base_doCue(n),n.text){var i=$(t.jplayer_skin.find(".jp-closed-captions")[0]);t.show_closed_captions||i.fadeOut(0);i.empty().append(n.text)}};t.noCue=function(){var n=$(t.jplayer_skin.find(".jp-closed-captions")[0]);n.empty()};t.base_endCue=t.endCue;t.endCue=function(n){if(t.base_endCue(n),n.text){var i=$(t.jplayer_skin.find(".jp-closed-captions")[0]);i.empty()}};t.findVTTCue=function(n){for(var i,r=null,u=0;u<t.vttcuepoints.length;u++){if(i=t.vttcuepoints[u],i.id==n){r=i;break}if(n>=i.start_time&&n<=i.end_time){r=i;break}}return r}}var global_video_html_block=$(' <div class="jp-video jp-flat-video">\t<div class="jp-closed-captions"><\/div>\t<div class="jp-jplayer"><\/div>\t<div class="jp-gui">\t\t<div class="jp-play-control jp-control">\t\t\t<a class="jp-play jp-button"><\/a>\t\t\t<a class="jp-pause jp-button"><\/a>\t\t<\/div>\t\t<div class="jp-bar">\t\t\t<div class="jp-seek-bar">\t\t\t\t<div class="jp-play-bar"><\/div>\t\t\t\t<!--<div class="jp-details"><span class="jp-title"><\/span><\/div>-->\t\t\t\t<!--<div class="jp-timing"><span class="jp-current-time"><\/span><\/div>-->\t\t\t\t<div class="jp-timing"><span class="jp-duration"><\/span><\/div>\t\t\t<\/div>\t\t<\/div>\t\t<div class="jp-screen-control jp-control">\t\t\t<a class="jp-full-screen jp-button"><\/a>\t\t\t<a class="jp-restore-screen jp-button"><\/a>\t\t<\/div>\t<\/div>\t<div class="jp-no-solution">\t\tMedia Player Error<br />\t\tTo play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin<\/a>.\t<\/div><\/div>');VideoPlayerView.prototype=TimedElementView
function AudioPlayerView(n){var t=this;TimedElementView.call(t,n);t.jplayer_div=null;t.jplayer_skin=global_audio_html_block.clone();t.controls=!1;t.loop=!1;t.stopothers=!1;t.xml_node.attr("controls")&&t.xml_node.attr("controls").toLowerCase()=="true"&&(t.controls=!0);t.xml_node.attr("loop")&&t.xml_node.attr("loop").toLowerCase()=="true"&&(t.loop=!0);t.xml_node.attr("stopothers")&&t.xml_node.attr("stopothers").toLowerCase()=="true"&&(t.stopothers=!0);t.src_url=t.xml_node.attr("src");t.jp_container_id="jp_container_"+t.oDiv.attr("id");t.jp_content_id="jp_"+t.oDiv.attr("id");t.no_suffix=t.src_url.substr(0,t.src_url.lastIndexOf("."));t.base_setContent=t.setContent;t.setContent=function(){t.oContent=t.jplayer_skin;t.base_setContent();t.jplayer_div=$(t.oDiv.find(".jp-jplayer")[0]);t.jplayer_skin=$(t.oDiv.find(".jp-flat-audio")[0]);t.jplayer_skin.data("control",t);t.jplayer_skin.attr("id",t.jp_container_id);t.jplayer_div.attr("id",t.jp_content_id);t.createCues(t.xml_node.children());setTimeout(t.applyPlayer,0)};t.base_kill=t.kill;t.kill=function(){t.jplayer_div.jPlayer("destroy");t.jplayer_div.empty().remove();t.base_kill()};t.play=function(){t.stopothers&&$(".jp-jplayer").jPlayer("stop");t.jplayer_div.jPlayer("play")};t.pause=function(){t.jplayer_div.jPlayer("pause")};t.stop=function(){t.jplayer_div.jPlayer("pause")};t.reset=function(){t.jplayer_div.jPlayer("stop")};t.changeSource=function(){};t.applyPlayer=function(){var n="#"+t.jp_container_id;t.controls||$(n).hide(0);t.jplayer_div.jPlayer({ready:function(){$(this).jPlayer("setMedia",{mp3:t.src_url});t.autoplay&&t.play()},timeupdate:function(n){t.timeUpdate(n.jPlayer.status.currentTime)},ended:function(){var n=t.findCue("end");n&&t.doCue(n);t.loop&&t.play()},cssSelectorAncestor:n,swfPath:"lib/js/plugins/jPlayer",solution:"html,flash",supplied:"mp3",wmode:"window",smoothPlayBar:!0,keyEnabled:!1,globalVolume:!0})}}var global_audio_html_block=$(' \t\t<div class="jp-jplayer"><\/div>\t\t<div class="jp-flat-audio">\t\t\t<div class="jp-play-control jp-control">\t\t\t\t<a class="jp-play jp-button"><\/a>\t\t\t\t<a class="jp-pause jp-button"><\/a>\t\t\t<\/div>\t\t\t<div class="jp-bar">\t\t\t\t<div class="jp-seek-bar">\t\t\t\t\t<div class="jp-play-bar"><\/div>\t\t\t\t\t<div class="jp-details"><span class="jp-title"><\/span><\/div>\t\t\t\t\t<div class="jp-timing"><span class="jp-duration"><\/span><\/div>\t\t\t\t<\/div>\t\t\t<\/div>\t\t\t<div class="jp-no-solution">\t\t\t\tMedia Player Error<br />\t\t\t\tUpdate your browser or Flash plugin\t\t\t<\/div>\t\t<\/div>\t\t');AudioPlayerView.prototype=TimedElementView
function SubScreenView(n){var t=this;ScreenElementView.call(t,n);t.screenObject=new SubScreen(t.xml_node);t.autoload=!0;t.setContent=function(){t.xml_node.attr("autoload")=="false"&&(t.autoload=!1);t.xml_node.attr("scroll")=="true"&&t.oDiv.addClass("scrolling");t.oDiv.data("subScreenView",t);t.autoload&&t.load()};t.load=function(){devmode&&console.log("Log LOAD SUB SCREEN");t.screenObject.dispatcher.bind("loaded",t.subScreenLoaded);t.screenObject.initScreen(t.oDiv)};t.subScreenLoaded=function(){devmode&&console.log("Log SUB SCREEN LOADED");t.screenObject.show()};t.super_kill=t.kill;t.kill=function(){devmode&&console.trace("KILL SUB SCREEN "+t.oModel.id);t.screenObject.kill();t.super_kill()}}SubScreenView.prototype=ScreenElementView
function ScoreElementView(n){var t=this;ScreenElementView.call(t,n);t.contentstring=t.xml_node.text();t.stars=[];t.source=null;t.xml_node.attr("source")&&(t.source=t.xml_node.attr("source"));t.initscore=0;t.xml_node.attr("initscore")&&(t.initscore=Number(t.xml_node.attr("initscore")));t.maxscore=100;t.xml_node.attr("maxscore")&&(t.maxscore=Number(t.xml_node.attr("maxscore")));t.passscore=80;t.xml_node.attr("passscore")&&(t.passscore=Number(t.xml_node.attr("passscore")));t.xml_node.attr("incrementevent")&&(t.incrementevent=t.xml_node.attr("incrementevent"));t.topic=null;t.xml_node.attr("topic")&&(t.topic=masterObj.getTopicById(t.xml_node.attr("topic")));t.score=t.initscore;t.displayScore=t.score;t.setContent=function(){t.source&&(t.score=Number(trackingObj.getCustomData(t.source)),isNaN(t.score)&&(t.score=t.initscore));t.oDiv.append(t.oContent);t.bar=$('<div class="bar" />');t.oContent.append(t.bar);t.set(t.score)};t.applyScore=function(){var r=t.stars.length,n=t.displayScore,i=n/t.maxscore*100;t.bar.css("width",i+"%")};t.increase=function(n){t.set(Number(t.score)+Number(n))};t.decrease=function(n){t.set(Number(t.score)-Number(n))};t.reset=function(){t.displayScore=t.initscore;t.score=t.initscore;t.set(t.score);t.applyScore()};t.set=function(n){n>t.score&&n<=t.maxscore&&t.screen_view.doClickById(t.incrementevent);t.score=n;t.score>=t.maxscore&&(t.score=t.maxscore);trackingObj.setCustomData(t.source,t.score);t.topic&&t.topic.setScore(Math.round(t.score/t.maxscore*100));tweenTo(t,.5,{displayScore:t.score,onUpdate:t.applyScore});t.score>=t.passscore?t.screen_view.doClickById(t.xml_node.attr("passevent")):t.screen_view.doClickById(t.xml_node.attr("failevent"))}}ScoreElementView.prototype=ScreenElementView
function PointerElementView(n){var t=this;ScreenElementView.call(t,n);t.setContent=function(){t.arrow=$('<div class="arrow" />');t.arrow.css("border","solid");t.arrow.css("border-color",tidyColour($(t.oModel.xml).attr("colour")));t.arrow.css("border-width",$(t.oModel.xml).attr("width")/2);t.oDiv.append(t.arrow)}}PointerElementView.prototype=ScreenElementView
function Master(){var n=this;n.dispatcher=$(document.createElement("div"));n.dispatcher.attr("id","dispatcher_master");n.projectCode;n.clientBITmode;n.bDevMode;n.bCheatMode=!1;n.bDevUnlockMode=!1;n.bDevUnlockScreenMode=!1;n.responsiveMode=!1;n.sLesson_status;n.sLesson_location;n.sSuspend_data;n.iRaw_score;n.arInteractionsArray;n.bHasMenu=!0;n.bNavBetweenTopics=!1;n.splashDialogue;n.bSkipIntro=!1;n.bBookmark=!0;n.oXML;n.arTopics=[];n.arDialogues=[];n.arMenuScreens=[];n.arNavScreens=[];n.iCurrentPos=0;n.bMaintainCompletion;n.iPreviousScore;n.init=function(t){doc=$(document);win=$(window);loadXML(t,n.xmlReady)};n.xmlReady=function(t){n.oXML=t;n.initMasterSettings();n.createDialogues();n.createMenuScreens();n.createNavScreens();n.createTopics();masterXMLReady()};n.courseReady=function(){_respondo.dispatcher.bind("updateSize",n.updateSize);n.bHasMenu||loadTopic(n.autotopic)};n.updateSize=function(){closeDialogue()};n.initMasterSettings=function(){var t=$($(n.oXML).children()[0]);t.attr("title")&&(n.courseTitle=String(t.attr("title")),document.title=n.courseTitle);t.attr("bitprjcode")&&(n.projectCode=t.attr("bitprjcode"));t.attr("completionmode")&&(n.completionMode=String(t.attr("completionmode")));t.attr("clientbitmode")&&(n.clientBITmode=Boolean(t.attr("clientbitmode")=="true"));t.attr("skipintro")&&(n.bSkipIntro=Boolean(t.attr("skipintro")=="true"));t.attr("devmode")&&(n.bDevMode=Boolean(t.attr("devmode")=="true"));devmode=n.bDevMode;t.attr("devunlockmode")&&(n.bDevUnlockMode=Boolean(t.attr("devunlockmode")=="true"));t.attr("cheatmode")&&(n.bCheatMode=Boolean(t.attr("cheatmode")=="true"));t.attr("devunlockscreenmode")&&(n.bDevUnlockScreenMode=Boolean(t.attr("devunlockscreenmode")=="true"));t.attr("responsive")&&(n.responsiveMode=Boolean(t.attr("responsive")=="true"));t.attr("menu")&&(n.bHasMenu=Boolean(t.attr("menu")=="true"));t.attr("autotopic")&&(n.autotopic=t.attr("autotopic"));t.attr("navbetweentopics")&&(n.bNavBetweenTopics=Boolean(t.attr("navbetweentopics")=="true"));t.attr("splashdialogue")&&(n.splashDialogue=t.attr("splashdialogue"));t.attr("pagecounttype")&&(n.pagecounttype=t.attr("pagecounttype"));t.attr("pagecountalign")&&(n.pagecountalign=t.attr("pagecountalign"));n.pagecountallowjump=Boolean(t.attr("pagecountallowjump")=="true")};n.resetAssessment=function(){currentTopic.reCreate(!0);loadTopic(currentTopic.id)};n.createTopics=function(){n.arTopics=[];$(n.oXML).find("topic").each(function(){var t=new Topic($(this));n.arTopics.push(t)})};n.createDialogues=function(){var t=[];$(n.oXML).find("dialogue").each(function(){var n=new DialogueScreen($(this));t.push(n)});n.arDialogues=t;t=null};n.createMenuScreens=function(){var t=[];$(n.oXML).find("menu").each(function(){var n=new MenuScreen($(this));t.push(n)});n.arMenuScreens=t;t=null};n.createNavScreens=function(){var t=[];$(n.oXML).find("navigation").each(function(){var n=new NavScreen($(this));t.push(n)});n.arNavScreens=t;t=null};n.updateLMSVars=function(t){n.sLesson_status=n.getLessonStatus();var i=[];i[0]=n.sLesson_location;i[1]=n.sLesson_status;i[2]=n.sSuspend_data;isNaN(n.iRaw_score)?i[3]="noscore":(i[3]=n.iRaw_score,n.bMaintainCompletion&&!isNaN(n.iPreviousScore)&&n.iPreviousScore>=n.iRaw_score&&(i[3]=n.iPreviousScore));i[4]=null;n.arInteractionsArray.length>0&&(n.bMaintainCompletion?n.iRaw_score>=n.iPreviousScore&&(i[4]=n.arInteractionsArray):i[4]=n.arInteractionsArray);i[5]=t;updateSCORMSupport(i[0],i[1],i[2],i[3],i[4],i[5])};n.getMenuById=function(t){for(var r,u=null,i=0;i<n.arMenuScreens.length;i++)if(r=n.arMenuScreens[i],t==r.id){u=r;break}return u};n.getNavById=function(t){for(var r,u=null,i=0;i<n.arNavScreens.length;i++)if(r=n.arNavScreens[i],t==r.id){u=r;break}return u};n.getDialogueById=function(t){for(var r,u=null,i=0;i<n.arDialogues.length;i++)if(r=n.arDialogues[i],t==r.id){u=r;break}return u};n.getPreviousTopic=function(){return n.iCurrentPos>0?n.arTopics[n.iCurrentPos-1]:!1};n.getTopicById=function(t){for(var r,u=null,i=0;i<n.arTopics.length;i++)if(r=n.arTopics[i],t==r.id){u=r;break}return u};n.getTopicPositionById=function(t){for(var r,i=0;i<n.arTopics.length;i++)if(r=n.arTopics[i],t==r.id)return i;return null};n.getScreenById=function(t){for(var u,i,f,e=null,r=0;r<n.arTopics.length;r++)for(u=n.arTopics[r],i=0;i<u.arScreens.length;i++)if(f=u.arScreens[i],t==f.id){e=f;break}return e};n.getScreenPosById=function(n){for(var t=0,i=!1,r,u;t<currentTopic.arScreens.length;t++)if(r=currentTopic.arScreens[t],n==r.id){i=!0;break}return i||(u="Screen ID: '"+n+"' not found in current topic.",console.error(u)),t};n.getScreenPos=function(t){for(var f,r=0,u=n.getTopicById(t.topicId),i=0;i<u.arScreens.length;i++)f=u.arScreens[i],t==f&&(r=i+1);return r};n.getUnlockScreenMode=function(){return devmode&&n.bDevUnlockScreenMode?!0:!1};n.loadTopic=function(t){hideMenu();currentTopic=n.getTopicById(t);n.iCurrentPos=n.getTopicPositionById(t);currentTopic.getAssessment()&&currentTopic.reCreate();var i=currentTopic.arScreens[0];currentTopic.iCurrentPos=0;n.loadScreen(i)};n.bitDiv=null;n.bitTextArea=null;n.updateBITButton=function(){n.bDevMode&&(n.bitDiv||(n.bitDiv=$('<div id="BIT" />'),n.bitDiv.append($('<button id="BITbtn">BIT<\/button>')),n.bitTextArea=$('<input type="text" id="BITInput" />'),$("#courseholder").append(n.bitDiv),n.bitDiv.css("z-index",1100),n.bitDiv.css("position","absolute"),$("#BITbtn").click(function(){masterObj.openBit()}),$(n.bitTextArea).addClass("BITtextInput"),n.bitDiv.append(n.bitTextArea),n.clientBITmode||(n.bitDiv.append($('<button id="BITGobtn">Go<\/button>')),$("#BITGobtn").addClass("bitGo"),$("#BITGobtn").click(function(){masterObj.goBit()}),n.bitTextArea.keyup(function(t){var i=t.keyCode?t.keyCode:t.which;i==13&&n.goBit()}))),n.bitTextArea=$("#BITInput"),n.bitTextArea.empty(),n.bitTextArea.val(currentScreen.id))};n.openBit=function(){var t=n.projectCode,i=n.clientBITmode,r,u;currentScreen?(r=currentScreen.id.split("_")[0],u=currentScreen.id.split("_")[1],fnLaunchBIT(t,r,u,i)):fnLaunchBIT(t,"na","na",i)};n.goBit=function(){var n=$("#BITInput").val();currentScreen&&n==currentScreen.id&&(currentScreen.kill(),currentScreen=null);console.log("GO BIT: "+n);jumpScreen(n)};n.loadScreenObj=function(t){navObj.navDir="next";hideMenu();n.iCurrentPos=n.getTopicPositionById(t.topicId);currentTopic=n.getTopicById(t.topicId);currentTopic.iCurrentPos=n.getScreenPos(t)-1;currentTopic.assessment&&(currentTopic.iCurrentPos=0,t=currentTopic.arScreens[0]);currentTopic.markPreviousScreensCompleted(t.id);n.loadScreen(t)};n.loadScreen=function(t){navObj.disableBackNext();currentScreen!=t?(closeDialogue(),currentScreen&&(currentScreen.disable(),previousScreen=currentScreen),devmode&&console.warn("WARN: SETTING CURRENT SCREEN "+t.id),currentScreen=t,currentTopic=currentScreen.topic,n.dispatcher.trigger("changingscreen"),n.dispatcher.trigger("changedscreen"),n.updateBITButton(),currentScreen.dispatcher.bind("loaded",n.currentScreenLoaded),currentScreen.initScreen($("#contentholder"))):currentTopic=currentScreen.topic};n.currentScreenLoaded=function(){currentScreen.dispatcher.unbind("loaded",n.currentScreenLoaded);previousScreen?(previousScreen.dispatcher.bind("ready_to_leave",n.showNewScreen),previousScreen.prepareToLeave()):n.showNewScreen()};n.showNewScreen=function(){hideMenu();updateTracking();navObj.showContent()};n.loadDialogue=function(t){var i=n.getDialogueById(t);i&&(currentDialogue&&currentDialogue.view&&currentDialogue.view.removeScreen(),currentDialogue=i,loadCurrentDialogue())};n.getCompletionMode=function(){return n.completionMode};n.returnToMenu=function(){navObj.disableBackNext();currentScreen?(currentScreen.dispatcher.bind("ready_to_leave",n.showMenu),currentScreen.prepareToLeave()):n.showMenu()};n.showMenu=function(n){n&&devmode&&console.warn("Log SHOW MENU %o",n);currentScreen&&(devmode&&console.warn("WARN: UNBINDING "+currentScreen.id),currentScreen.dispatcher.unbind("ready_to_leave"));trackingObj.updateTracking();currentScreen&&currentScreen&&currentScreen.leave();devmode&&console.warn("WARN: SETTING CURRENT SCREEN TO NULL "+currentScreen.id);currentScreen=null;previousScreen=null;currentTopic=null;navObj.hideContent();navObj.hideNav();navObj.inMenu();menuObj.showMenu()}}
function CourseText(){var n=this,t;n.oXML;n.arVars=[];t=[];n.init=function(t){doc=$(document);win=$(window);loadXML(t,n.xmlReady)};n.xmlReady=function(t){n.oXML=t;n.createVars();coursetextXMLReady()};n.getUrlVars=function(){for(var i=[],n,r=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),t=0;t<r.length;t++)n=r[t].split("="),i.push({id:n[0],sData:n[1]});return i};n.createVars=function(){var i=[],r,t,u;for($(n.oXML).find("text").each(function(){var n={};$(this).attr("id")&&(n.id=$(this).attr("id"));$(this).attr("target")&&(n.id=$(this).attr("target").split(".").join("_"));n.sData=$(this).text();i.push(n)}),r=n.getUrlVars(),t=0;t<r.length;t++)u=r[t],i.push(u);n.arVars=i};n.getVarById=function(t){for(var r,u=null,i=0;i<n.arVars.length;i++)r=n.arVars[i],r.id==t&&(u=r.sData);return u};n.storeText=function(n,i){var r={text:n.replace(/\r?\n/g,"<br />"),id:i};t.push(r)};n.retrieveText=function(n){for(var r="returned text!",i=0;i<t.length;i++)t[i].id==n&&(r=t[i].text);return r}}
function Screen(n){var t=this;t.oXML=n;t.ready=!1;t.viewXML;t.id=t.oXML.attr("id");t.screenxml=t.oXML.attr("xml");t.desktopxml=t.screenxml;t.phonexml=t.screenxml;t.screentype="text_graphic";t.class_name="";t.reloading=!1;t.dispatcher=$(document.createElement("div"));t.dispatcher.attr("id","dispatcher_"+t.id);t.scored=!1;t.answered=!1;t.visited=!1;t.completed=!1;t.passed=!1;t.feedback_array=[];t.feedback_elements_array=[];t.view=null;t.templateView=null;t.screenVars=[];t.oTarget;t.setParameters=function(){t.oXML.attr("class")&&(t.class_name=t.oXML.attr("class"));t.oXML.attr("type")?t.screentype=t.oXML.attr("type"):t.oXML.attr("src")&&(t.screentype=t.oXML.attr("src"));t.desktoptype=t.screentype;t.phonetype=t.screentype;t.oXML.attr("phonexml")&&(t.phonexml=t.oXML.attr("phonexml"),t.phonetype=t.oXML.attr("phonetype")?t.oXML.attr("phonetype"):t.screentype);t.oXML.attr("scored")&&t.setScored(Boolean(t.oXML.attr("scored")=="true"))};t.initScreen=function(n){t.oTarget=n;t.init(t.oTarget)};t.doClickById=function(n){t.view.doClickById(n)};t.reloadOnResize=function(){t.view.reloadOnResize()};t.reload=function(){t.reloading=!0;t.kill();t.oTarget.empty();t.init(t.oTarget)};t.init=function(){t.view&&(t.view=null);t.view=new ScreenView(this);t.screentype=t.phonexml!=t.desktopxml&&_respondo.phone()?t.phonetype:t.desktoptype;var n=eval(t.screentype);t.templateView=new n(this);t.loadXML()};t.screenSetupComplete=function(){screenReady(t.type);t.setReady(!0)};t.screenCompleted=function(){t.setVisited(!0);t.setCompleted(!0)};t.screenLoaded=function(){t.screenSetupComplete();t.dispatcher.trigger("loaded")};t.showing=function(){t.view.ready();t.dispatcher.trigger("showing")};t.prepareToLeave=function(){t.view.getEventById("exit")?t.view.doEventById("exit"):t.readyToLeave()};t.readyToLeave=function(){devmode&&console.trace("READY TO LEAVE "+t.id);t.dispatcher.trigger("ready_to_leave");t.dispatcher.unbind("ready_to_leave")};t.loadXML=function(){var n=t.screenxml;t.phonexml!=t.desktopxml&&_respondo.phone()&&(n=t.phonexml);loadXML(n,t.xmlReady)};t.xmlReady=function(n){t.viewXML=n;t.view.initScreen(t.oTarget)};t.show=function(){var n=t.view.oHolder;tweenTo(n,0,{x:0,y:0,autoAlpha:0});tweenTo(n,0,{autoAlpha:1,display:"block",onComplete:t.showing})};t.leaveCourse=function(){exitCourse()};t.closeGenericDialogue=function(){closeDialogue()};t.kill=function(){t.view&&t.view.kill();t.dispatcher.unbind("ready");t.dispatcher.unbind("loaded");t.dispatcher.unbind("showing");t.dispatcher.trigger("kill");t.dispatcher.unbind("kill")};t.enable=function(){t.view&&t.view.enable()};t.disable=function(){t.view.disable()};t.checkOverrideNext=function(){try{return t.templateView.checkOverrideNext()?!0:!1}catch(n){return!1}};t.overrideNext=function(){t.templateView.overrideNext()};t.checkOverrideBack=function(){try{return t.templateView.checkOverrideBack()?!0:!1}catch(n){return!1}};t.overrideBack=function(){t.templateView.overrideBack()};t.pass=function(){t.getScored()&&(t.setAnswered(!0),t.setPassed(!0))};t.partial=function(){t.getScored()&&(t.setAnswered(!0),t.setPassed(!1))};t.fail=function(){t.getScored()&&(t.setAnswered(!0),t.setPassed(!1))};t.resetProperties=function(){t.setVisited(!1);t.setCompleted(!1);t.setAnswered(!1);t.setPassed(!1)};t.setCompleted=function(n){t.completed=Boolean(n);t.completed&&t.dispatcher.trigger("completed")};t.getCompleted=function(){return t.completed};t.setVisited=function(n){t.visited=Boolean(n);t.visited&&t.dispatcher.trigger("visited")};t.getVisited=function(){return t.visited};t.setAnswered=function(n){t.answered=Boolean(n);t.answered&&(t.dispatcher.trigger("answered"),t.setCompleted(!0),enableNext())};t.getAnswered=function(){return t.answered};t.setScored=function(n){t.scored=Boolean(n)};t.getScored=function(){return t.scored};t.getPassed=function(){return t.passed};t.setPassed=function(n){t.passed=Boolean(n);t.passed&&t.dispatcher.trigger("passed")};t.setReady=function(n){var i=Boolean(n);i&&(t.ready=i,t.dispatcher.trigger("ready"),t.reloading&&(t.reloading=!1,t.show()))};t.getReady=function(){return t.ready};t.setVar=function(n,i){var r=getItemById(n,t.screenVars);r?r.val!=i&&(r.oldval=r.val,r.val=i):t.screenVars.push({id:n,val:i})};t.getVar=function(n){var i=null,r=getItemById(n,t.screenVars);return r&&(i=r.val),i};t.resetVar=function(n){var i=getItemById(n,t.screenVars);i.oldval&&(i.val=i.oldval)};t.resetVars=function(){for(var i,n=0;n<t.screenVars.length;n++)i=t.screenVars[n],t.resetVar(i.id)};t.setParameters()}
function SubScreen(n){var t=this;Screen.call(t,n);t.type="sub";t.screentype||(t.screentype="text_graphic");t.super_loadXML=t.loadXML;t.loadXML=function(){if($(t.oXML).attr("xml"))t.super_loadXML();else{var n=t.oXML;t.xmlReady(n)}};t.super_screenSetupComplete=t.screenSetupComplete;t.screenSetupComplete=function(){t.super_screenSetupComplete();t.show()}}SubScreen.prototype=Screen
function TopicScreen(n,t){var i=this;Screen.call(i,n);i.navspeed=.6;i.type="topic";i.topic=t;i.topicId=i.topic.id;i.resourcesID=null;i.oXML.attr("resourcesid")&&(i.resourcesID=i.oXML.attr("resourcesid"));i.oXML.attr("topicref")&&(i.topicref=i.oXML.attr("topicref"));i.nextDir=i.oXML.attr("nextDir");i.classname=i.oXML.attr("class");i.nextDir||(i.nextDir="next");i.bNextLocked=!1;i.oXML.attr("n")&&(i.bNextLocked=Boolean(i.oXML.attr("n")=="0"));i.bBackLocked=!1;i.oXML.attr("b")&&(i.bBackLocked=Boolean(i.oXML.attr("b")=="0"));i.nextRef=i.oXML.attr("nref");i.backRef=i.oXML.attr("bref");i.super_screenCompleted=i.screenCompleted;i.screenCompleted=function(){i.super_screenCompleted();i.topic.updateStatus()};i.show=function(n){console.trace("TOPIC SCREEN SHOW CALLED");var t=i.view.oHolder;if(t){tweenTo(t,0,{autoAlpha:1,display:"block"});switch(n){case"next":tweenTo(t,0,{x:1014,y:0});tweenTo(t,i.navspeed,{x:0,y:0,onComplete:i.showing});break;case"back":tweenTo(t,0,{x:-1014,y:0});tweenTo(t,i.navspeed,{x:0,y:0,onComplete:i.showing});break;case"phonemenu":case"menu":i.leave(n);break;case"default":tweenTo(t,0,{x:0,y:450,autoAlpha:0});tweenTo(t,i.navspeed,{y:0,autoAlpha:1,display:"block",onComplete:i.showing});break;case"phone":default:tweenTo(t,0,{x:0,y:0,autoAlpha:0});tweenTo(t,0,{autoAlpha:1,display:"block",onComplete:i.showing})}}};i.leave=function(n){var t=i.view.oHolder;if(t)switch(n){case"next":tweenTo(t,i.navspeed,{x:-1014,y:0,onComplete:i.view.removeScreen});break;case"back":tweenTo(t,i.navspeed,{x:1014,y:0,onComplete:i.view.removeScreen});break;case"menu":tweenTo(t,i.navspeed,{y:644,onComplete:i.view.removeScreen});break;case"phonemenu":case"phone":default:tweenTo(t,0,{autoAlpha:0,display:"none",onComplete:i.view.removeScreen})}currentScreen.dispatcher.unbind("ready_to_leave")};i.super_setAnswered=i.setAnswered;i.setAnswered=function(n){i.super_setAnswered(n)}}TopicScreen.prototype=Screen
function DialogueScreen(n){var t=this;Screen.call(t,n);t.type="dialogue";t.screentype||(t.screentype="text_graphic");t.closebutton=Boolean(t.oXML.attr("closebtn")!="false");t.height=t.oXML.attr("height");t.width=t.oXML.attr("width");t.x="50%";t.y=t.oXML.attr("y");t.oXML.attr("y")||(t.y=322-t.height/2);t.closeX=null;t.oXML.attr("closeX")&&(t.closeX=parseInt(t.oXML.attr("closeX")));t.closeY=null;t.oXML.attr("closeY")&&(t.closeY=parseInt(t.oXML.attr("closeY")));t.oTarget;t.super_loadXML=t.loadXML;t.loadXML=function(){if($(t.oXML).attr("xml"))t.super_loadXML();else{var n=t.oXML;t.xmlReady(n)}}}DialogueScreen.prototype=Screen
function MenuScreen(n){var t=this;Screen.call(t,n);t.type="menu";t.super_screenSetupComplete=t.screenSetupComplete;t.screenSetupComplete=function(){t.super_screenSetupComplete();tweenTo(t.view.oHolder,0,{autoAlpha:1,display:"block"});t.showing()}}MenuScreen.prototype=Screen
function NavScreen(n){var t=this;Screen.call(t,n);t.type="navigation";t.navModel;t.menuBtn;t.exitBtn;t.helpBtn;t.resourcesBtn;t.nextBtn;t.backBtn;t.navHolder;t.dispatcher=$(document.createElement("div"));t.dispatcher.attr("id","dispatcher_"+t.id);t.setNavModel=function(n){t.navModel=n};t.base_screenSetupComplete=t.screenSetupComplete;t.screenSetupComplete=function(){t.base_screenSetupComplete();tweenTo(t.view.oHolder,0,{autoAlpha:100,display:"block"});t.showing();t.setupInitialButtons();t.dispatcher.trigger("navigationSetupComplete")};t.positionNavAtHome=function(){};t.setupInitialButtons=function(){t.menuBtn=t.view.getScreenElementById("menuBtn");t.nextBtn=t.view.getScreenElementById("nextBtn");t.backBtn=t.view.getScreenElementById("backBtn");t.disableDirectionalNav()};t.initNav=function(){t.setupInitialButtons();currentScreen&&(masterObj.bHasMenu&&t.enableMenuBtn(),t.showBack(),t.showNext(),TweenMax.delayedCall(0,function(){navObj.showTopicTitle(currentTopic.sLabel)}))};t.showBack=function(){currentScreen&&(allowEnableBack()||currentScreen.checkOverrideBack()?t.enableBtn(t.backBtn.getDiv()):t.disableBtn(t.backBtn.getDiv()))};t.showNext=function(){currentScreen&&(allowEnableNext()||currentScreen.checkOverrideNext()?t.enableBtn(t.nextBtn.getDiv()):t.disableBtn(t.nextBtn.getDiv()))};t.disableDirectionalNav=function(){t.disableBtn(t.menuBtn.getDiv());t.disableBtn(t.nextBtn.getDiv());t.disableBtn(t.backBtn.getDiv())};t.enableMenuBtn=function(){t.menuBtn=t.view.getScreenElementById("menuBtn");t.enableBtn(t.menuBtn.getDiv())};t.disableBtn=function(n){disableElement(n)};t.enableBtn=function(n){enableElement(n)}}NavScreen.prototype=Screen
function ScreenElement(n,t){var i=this;i.screen=t;i.screen_view=i.screen.view;i.oXML=n;i.xml=n;i.id=$(i.xml).attr("id");i.type=i.xml.nodeName;i.topicId=$(i.xml).attr("topicbtn");i.status_x=Number($(i.xml).attr("status_x"));i.status_y=Number($(i.xml).attr("status_y"));i.sTarget=$(i.xml).attr("target");i.sEvent=null;i.sFilters=null;i.height=null;i.width=null;i.x=0;i.y=0;i.z=null;i.rotation=0;i.draggable=!1;i.animtype="none";i.animtime=0;i.animdelay=0;i.animease="Strong.easeOut";i.screensize=null;i.classname="";i.tabbable=!0;i.enabled=!0;i.view=null;i.setup=function(){$(i.xml).attr("height")&&(i.height=parseNumberString($(i.xml).attr("height")));$(i.xml).attr("width")&&(i.width=parseNumberString($(i.xml).attr("width")));$(i.xml).attr("z")&&(i.z=Number($(i.xml).attr("z")));$(i.xml).attr("x")&&(i.x=parseNumberString($(i.xml).attr("x")));$(i.xml).attr("y")&&(i.y=parseNumberString($(i.xml).attr("y")));$(i.xml).attr("rotation")&&(i.rotation=parseNumberString($(i.xml).attr("rotation")));$(i.xml).attr("event")&&(i.sEvent=$(i.xml).attr("event"));$(i.xml).attr("filters")&&(i.sFilters=$(i.xml).attr("filters"));$(i.xml).attr("class")&&(i.classname=$(i.xml).attr("class"));$(i.xml).attr("draggable")!="false"&&(i.draggable=$(i.xml).attr("draggable"));$(i.xml).attr("tabbable")&&(i.tabbable=$(i.xml).attr("tabbable"));$(i.xml).attr("anim")&&(i.animtype=$(i.xml).attr("anim"));$(i.xml).attr("ease")&&(i.animease=$(i.xml).attr("ease"));$(i.xml).attr("animtime")&&(i.animtime=Number($(i.xml).attr("animtime")));$(i.xml).attr("animdelay")&&(i.animdelay=Number($(i.xml).attr("animdelay")));$(i.xml).attr("screensize")&&(i.screensize=$(i.xml).attr("screensize"));$(i.xml).attr("enabled")&&(i.enabled=Boolean($(i.xml).attr("enabled")!="false"));devmode&&console.log("Log xml ENABLED "+i.id+" - "+i.enabled);switch(i.type){case"var":i.createVar();break;case"screen":i.view=new SubScreenView(i);break;case"dialogue":i.view=new SubDialogueView(i);break;case"text":i.view=new TextElementView(i);break;case"line":i.view=new LineElementView(i);break;case"pointer":i.view=new PointerElementView(i);break;case"box":i.view=new BoxElementView(i);break;case"image":i.view=new ImageElementView(i);break;case"status":i.view=new StatusElementView(i);break;case"button":i.view=new ButtonElementView(i);break;case"tabs":i.view=new TabsElementView(i);break;case"sliderreveal":i.view=new SliderRevealElementView(i);break;case"video":i.view=new VideoPlayerView(i);break;case"audio":i.view=new AudioPlayerView(i);break;case"score":i.view=new ScoreElementView(i);break;case"timer":i.view=new TimerView(i);break;case"timeline":i.view=new TimelineView(i);break;case"pagecounter":i.view=new PagecounterView(i);break;case"fb":case"feedback":i.screen_view.createFeedback($(i.oXML));break;default:i.view=new ScreenElementView(i)}};i.createVar=function(){i.screen.setVar($(i.xml).attr("id"),$(i.xml).text())};i.kill=function(){i.view&&(i.view.kill(),i.view=null)};i.getDiv=function(){return i.view.oDiv};i.enable=function(){var r;if(i.view){var u=i.view.templateView[$(i.oXML).attr("func")],f=i.screen[$(i.oXML).attr("func")],t,o=function(){},s=$(i.oXML).attr("event");if($.isFunction(u)?t=function(){$.proxy(u,i.templateView)()}:$.isFunction(f)?t=function(){$.proxy(f,i.screen)()}:(r=eval($(i.oXML).attr("func")),$.isFunction(r)&&(t=function(){r()})),i.click_function=t,i.topicId&&menuObj.registerMenuButton(i),(i.sEvent||i.click_function)&&i.view){i.enabled=!0;i.view.oDiv.removeClass("disabled");var h=i.sEvent,e=i.screen,n=e.view;devmode&&console.log("Log ENABLE "+i.id+" -  (self.view.oDiv.data('btn') ) - %o ",i.view.oDiv.data("btn"));i.view.oDiv.data("btn")?(enableElement(i.view.oDiv),n.doEvents(i.sEvent,"out",i)):(applyClick(i.view.oDiv,function(){var t=$(this).data("elm");i.enabled&&(n.doEvents(i.sEvent,"click",i),i.click_function&&i.click_function())},function(){var t=$(this).data("elm");i.enabled&&n.doEvents(i.sEvent,"over",i)},function(){var t=$(this).data("elm");i.enabled&&n.doEvents(i.sEvent,"out",i)}),n.doEvents(i.sEvent,"out",i),i.initDisabled=="true"&&i.disable())}}else devmode&&console.warn("WARN: SCREEN ELEMENT HAS NO VIEW "+i.id+" - "+i.type)};i.doTween=function(n){if(!n){var n={};n.delay=i.animdelay;n.ease=i.animease;n.type=i.animtype;n.time=i.animtime}i.view.doTween(n)};i.applyFilters=function(n){i.view.applyFilters(n)};i.disable=function(){disableElement(i.view.oDiv)};i.show=function(){i.view.doTween()};i.setup()}
function ScreenEvent(n,t){var i=this;i.screen_view=t;i.oXML=$(n);i.id=this.oXML.attr("id");i.screensize=null;i.enabled=!0;i.oXML.attr("screensize")&&(i.screensize=this.oXML.attr("screensize"));i.clickEvents;i.overEvents;i.outEvents;i.overFilter;i.outFilter;i.triggered=!1;i.maxTriggers=-1;i.totalTriggers=0;this.setup=function(){var t,n;for(i.oXML.attr("maxTriggers")&&(i.maxTriggers=Number(i.oXML.attr("maxTriggers"))),t=this.oXML.children(),n=0;n<t.length;n++)switch(t[n].nodeName){case"rollover":this.overEvents=this.createActions($(t[n]).children());this.overFilter=$(t[n]).attr("filters");break;case"rollout":this.outEvents=this.createActions($(t[n]).children());this.outFilter=$(t[n]).attr("filters");break;case"click":this.clickEvents=this.createActions($(t[n]).children());break;default:this.clickEvents=this.createActions(this.oXML.children())}};i.disable=function(){i.enabled=!1};i.enable=function(){i.enabled=!0};this.createActions=function(n){for(var r=[],t=0;t<n.length;t++)r.push(new EventAction(n[t],i.screen_view,i.id));return r};this.over=function(n){if(i.enabled&&this.overEvents){for(var t=0;t<this.overEvents.length;t++)this.overEvents[t].activate(n);this.overFilter&&n.view.applyFilters(this.overFilter)}};this.out=function(n){if(i.enabled&&this.outEvents){for(var t=0;t<this.outEvents.length;t++)this.outEvents[t].activate(n);this.outFilter&&n.view.applyFilters(this.outFilter)}};this.click=function(n){if(i.enabled){if((i.totalTriggers<i.maxTriggers||i.maxTriggers==-1)&&(i.totalTriggers++,i.clickEvents))for(var t=0;t<i.clickEvents.length;t++)this.clickEvents[t].activate(n);i.triggered||(i.triggered=!0)}};this.doAction=function(){}}
function TriggerEvent(n,t){var i=this;this.screen=t;this.oXML=$(n);this.id=this.oXML.attr("id");var r=this.oXML.attr("events").split(","),u=[],f=!1;i.retrigger=1;this.setup=function(){u=this.createActions(this.oXML.children());this.oXML.attr("retrigger")&&(i.retrigger=Number(this.oXML.attr("retrigger")))};this.createActions=function(n){for(var u=[],r=0;r<n.length;r++)u.push(new EventAction(n[r],t,i.id));return u};this.allComplete=function(){for(var t=!0,u=i.screen.assEvents,n=0;n<r.length;n++)u[r[n]].triggered||(t=!1);return t};this.activate=function(n){var t,r;if(!f){for(t=0;t<u.length;t++){r=u[t].oXML;switch(r.nodeName){case"click":break;default:u[t].activate(n)}}i.retrigger>0&&(f=!0)}};this.containsEvent=function(n){for(var i=!1,t=0;t<r.length;t++)r[t]==n&&(i=!0);return i}}
function SequenceEvent(n,t){var i=this;i.screen_view=t;i.oXML=$(n);i.id=this.oXML.attr("id");i.clickEvents;i.triggered=!1;i.maxTriggers=-1;i.totalTriggers=0;i.final_event;i.current_event_count=0;this.setup=function(){var t,n;for(this.oXML.attr("maxTriggers")&&(i.maxTriggers=Number(this.oXML.attr("maxTriggers"))),this.oXML.attr("final")&&(i.final_event=this.oXML.attr("final")),t=this.oXML.children(),n=0;n<t.length;n++)switch(t[n].nodeName){case"click":this.clickEvents=this.createActions($(t[n]).children());break;default:this.clickEvents=this.createActions(this.oXML.children())}};this.createActions=function(n){for(var r=[],t=0;t<n.length;t++)r.push(new EventAction(n[t],i.screen_view,i.id));return r};this.click=function(n){if(i.current_event_count<this.clickEvents.length){var t=this.clickEvents[i.current_event_count];t.activate(n);i.current_event_count++}else i.screen_view.doClickById(i.final_event),i.current_event_count=0}}
function EventAction(n,t,i){var r=this;r.id=i;r.screen_view=t;r.tween_array=r.screen_view.tween_array;r.screen=t.screen;r.oXML=n;r.active_element;r.activate=function(n){var h,it,b,rt,ut,v,y,c,i,l,tt,u;r.active_element=n;var t=r.oXML,f=r.getTargetElement(),e=null;f&&(e=f.getDiv());switch(t.nodeName){case"anim":i={};i.delay=parseNumberString($(t).attr("animdelay"));i.ease=$(t).attr("animease");i.type=$(t).attr("anim");i.type||(i.type=$(t).attr("type"));$(t).attr("complete")&&(i.onComplete=r.screen_view.doEventById,i.onCompleteParams=[$(t).attr("complete")]);i.time=parseNumberString($(t).attr("animtime"));f?f.doTween(i):devmode&&console.log("NO TARGET %o",t);break;case"remove":f&&f.view.removeFromScreen();break;case"timer":case"media":if(u=0,$(t).attr("delay")&&(u=parseNumberString($(t).attr("delay"))),h=function(){devmode&&console.warn("Media event - No Action")},f){it=$(t).attr("action");switch(it){case"play":h=f.view.play;break;case"pause":h=f.view.pause;break;case"stop":h=f.view.stop;break;case"reset":h=f.view.reset}}r.tween_array.push(TweenMax.delayedCall(u,h));break;case"toggle":e.css("opacity")<=0?TweenMax.set(e,{autoAlpha:1,display:"block"}):TweenMax.set(e,{autoAlpha:0,display:"none"});break;case"show":TweenMax.set(e,{autoAlpha:1,display:"block"});break;case"hide":TweenMax.set(e,{autoAlpha:0,display:"none"});break;case"enable":f.enable();break;case"disable":f.disable();break;case"dialogue":b=function(){if(masterObj.getDialogueById($(t).attr("id")))openDialogue($(t).attr("id"));else{var n=new DialogueScreen($(t));currentDialogue=n;navObj.navDir="menu";loadCurrentDialogue()}};u=parseNumberString($(t).attr("delay"));u>0?r.tween_array.push(TweenMax.delayedCall(u,b)):b();break;case"link":rt=$(t).text();window.open(rt,"_blank");break;case"jump":ut=$(t).text();jumpScreen(ut);break;case"function":var a=$(t).attr("name"),u=parseNumberString($(t).attr("delay")),o=$(t).text(),v=null,ft=!1;f&&(v=f.view[a],$.isFunction(v)&&(ft=!0));var k=r.screen.templateView,d=k[a],g=r.screen[a],s=null;ft?s=o?function(){$.proxy(v,f.view)(o)}:function(){$.proxy(v,f.view)()}:$.isFunction(d)?s=o?function(){$.proxy(d,k)(o)}:function(){$.proxy(d,k)()}:$.isFunction(g)?s=o?function(){$.proxy(g,r.screen)(o)}:function(){$.proxy(g,r.screen)()}:(y=window[a],$.isFunction(y)&&(s=o?function(){y(o)}:function(){y()}));s&&(u?r.tween_array.push(TweenMax.delayedCall(u,s)):s());break;case"event":var nt=$(t).attr("id"),u=parseNumberString($(t).attr("delay")),c=function(){r.screen_view.doClickById(nt)};u>0?r.tween_array.push(TweenMax.delayedCall(u,c)):c();break;case"screenevent":var nt=$(t).attr("id"),u=parseNumberString($(t).attr("delay")),et=getScreenById($(t).attr("target"),this.screen_view.screen);et?(c=function(){et.view.doClickById(nt)},u>0?r.tween_array.push(TweenMax.delayedCall(u,c)):c()):devmode&&console.warn("Screen Event - "+nt+" - called on bad screen id: "+$(t).attr("target"));break;case"filter":devmode&&console.warn('WARN: FILTER DISABLED. Use "class" instead. (<class add="addClass" remove="removeClass" delay="timedelay" time="durtation">item<\/class>)');break;case"class":var ct=$(t).attr("add"),lt=$(t).attr("remove"),ot=parseNumberString($(t).attr("delay")),p=parseNumberString($(t).attr("time"));p||(p=0);tweenTo(e,p,{delay:ot,className:"+="+ct});tweenTo(e,p,{delay:ot,className:"-="+lt});break;case"translate":i={};$(t).attr("animdelay")&&(i.delay=parseNumberString($(t).attr("animdelay")));$(t).attr("animease")&&(i.ease=$(t).attr("animease"));$(t).attr("x")&&(i.x=parseNumberString($(t).attr("x")));$(t).attr("y")&&(i.y=parseNumberString($(t).attr("y")));$(t).attr("left")&&(i.left=parseNumberString($(t).attr("left")));$(t).attr("top")&&(i.top=parseNumberString($(t).attr("top")));$(t).attr("z")&&(i.zIndex=$(t).attr("z"));$(t).attr("scale")&&(i.scale=parseNumberString($(t).attr("scale")));$(t).attr("rotation")&&(i.rotation=parseNumberString($(t).attr("rotation")));l=0;$(t).attr("animtime")&&(l=parseNumberString($(t).attr("animtime")));$(t).attr("complete")&&(i.onComplete=r.screen_view.doEventById,i.onCompleteParams=[$(t).attr("complete")]);$(t).attr("repeat")&&(i.repeat=parseNumberString($(t).attr("repeat")));$(t).attr("yoyo")=="true"&&(i.yoyo=!0);tweenTo(e,l,i);break;case"scroll":if(tt=$(t).attr("id"),u=null,$(t).attr("delay")&&(u=Number($(t).attr("delay"))),tt)e||(e=$("#"+tt)),e&&(u?TweenMax.delayedCall(u,scrollToDiv,[e]):scrollToDiv(e));else{var l=Number($(t).attr("time")),st=Number($(t).attr("y")),ht=Number($(t).attr("x")),w={};isNaN(st)||(w.y=st);isNaN(ht)||(w.x=ht);u?r.tween_array.push(tweenTo(window,l,{delay:u,scrollTo:w})):r.tween_array.push(tweenTo(window,l,{scrollTo:w}))}break;case"screencompleted":r.screen.screenCompleted();break;case"log":devmode&&console.log("EVENT LOG (screen:"+r.screen.id+") - "+$(t).text());break;case"check":this.performCheck(t);break;case"feedback":r.screen_view.applyFeedback($(t).attr("id"))}};r.getTargetElement=function(){var t=$(r.oXML),n="[ITEM]",i=r.active_element;return t.attr("target")?n=t.attr("target"):t.attr("id")?n=t.attr("id"):t.text()&&(n=t.text()),n!="[ITEM]"&&(r.active_element&&n.indexOf("[ITEM]")>-1&&(n=n.split("[ITEM]").join(r.active_element.id)),i=r.screen_view.getScreenElementById(n)),i};this.performCheck=function(n){var i=this.screen,f,t,r;$(n).attr("screenId")&&(f=$(n).attr("screenId"),i=masterObj.getScreenById(f));t=null;$(n).attr("topicId")&&(t=$(n).attr("topicId"),r=masterObj.getTopicById(t));var e=$(n).attr("variable"),o=$(n).attr("value"),s=$(n).attr("event"),u;t?r&&(u=r[e]):i&&(u=i[e]);String(u)==String(o)&&this.screen_view.doEventById(s)}}
function Topic(n){var t=this;t.score_data_prefix="score";t.xml=n;t.id=t.xml.attr("id");t.index=null;t.iGroup=t.xml.attr("group");t.sLabel=t.xml.attr("label");t.sLongLabel=t.xml.attr("longlabel");t.sLongLabel||(t.sLongLabel=t.sLabel);t.attempts=0;t.assessment=Boolean(t.xml.attr("assessment")=="true");t.locked=Boolean(t.xml.attr("locked")=="true");t.mastery_score=Number(t.xml.attr("masteryscore"));t.iBestScore=0;t.iCurrentScore=0;t.iPassed=0;t.allScreens=[];t.arScreens=[];t.completed=!1;t.resourcesID=null;t.dispatcher=$(document.createElement("div"));t.dispatcher.attr("id","dispatcher_"+t.id);t.xml.attr("resourcesid")&&(t.resourcesID=t.xml.attr("resourcesid"));t.iCurrentPos=0;t.status="notattempted";t.locked&&(t.status="locked");t.initialise=function(){trackingObj.dispatcher.bind("ready",t.setStatusFromTracking)};t.createScreens=function(){var n=[],i=t.id;$(t.xml).find("page").each(function(){var i=new TopicScreen($(t),t);n.push(i)});t.allScreens=n;n=null};t.createScreenArray=function(){for(var f,r,i,e,c,l,s,u,h,o,n=0;n<t.xml.children().length;n++)if(f=$(t.xml.children()[n]),f.prop("nodeName")=="pool"){for(r=f,i=[],e=0;e<r.children().length;e++)i.push(e);for(c=Number(r.attr("serve")),l=r.attr("randomise")=="true",l&&(s=[],s=i.sort(function(){return.5-Math.random()}),i=s),u=0;u<c;){var v=Number(i[u]),a=$(r.children()[i[u]]),h=new TopicScreen(a,t);t.arScreens.push(h);u++}}else h=new TopicScreen(f,t),t.arScreens.push(h);for(n=0;n<t.arScreens.length;n++)o=t.arScreens[n],o.dispatcher.bind("passed",t.updateScore),o.dispatcher.bind("failed",t.updateScore),o.dispatcher.bind("completed",t.updateStatus)};t.setScore=function(n){t.iCurrentScore=Number(n);devmode&&console.log("Log TOPIC "+t.id+" SCORE "+t.iCurrentScore+" > "+t.iBestScore);t.iCurrentScore>t.iBestScore&&(t.iBestScore=t.iCurrentScore,trackingObj.updateScore());t.updateStatus()};t.updateScore=function(){for(var r,f,n=0,u=0,i=0;i<t.arScreens.length;i++)r=t.arScreens[i],r.getScored()&&(u++,r.getPassed()&&n++);f=Math.round(n/u*100);t.iCurrentScore=f;t.iPassed=n;isNaN(t.iCurrentScore)||t.iCurrentScore>t.iBestScore&&(t.iBestScore=t.iCurrentScore);trackingObj.setCustomData(t.score_data_prefix+t.id,t.iBestScore);trackingObj.updateScore();t.dispatcher.trigger("updatescore")};t.reCreate=function(){var n,i;for(t.arScreens=[],t.createScreenArray(),n=0;n<t.arScreens.length;n++)i=t.arScreens[n],i.resetProperties()};t.updateAttempts=function(){t.attempts++};t.getScreenById=function(n){return getItemById(n,t.arScreens)};t.markPreviousScreensCompleted=function(n){var i,r;if(t.getScreenById(n))for(i=0;i<t.arScreens.length;i++){if(r=t.arScreens[i],r.id==n)break;r.setVisited(!0);r.setCompleted(!0)}};t.markAllScreensCompleted=function(){var n,i;if(t.arScreens.length>0)for(n=0;n<t.arScreens.length;n++)i=t.arScreens[n],i.setVisited(!0),i.setCompleted(!0)};t.unlock=function(){t.locked&&(t.locked=!1,t.setStatus("notattempted"))};t.setStatusFromTracking=function(){t.index=masterObj.getTopicPositionById(t.id);var n=trackingObj.getSuspendStatus(t.index);switch(n){case"0":t.completed||(t.locked=!1,t.setStatus("notattempted"));break;case"1":t.completed||(t.locked=!1,t.setStatus("incomplete"),t.attempted=!0);break;case"2":t.getAssessment()?(t.locked=!1,t.setStatus("passed"),t.completed=!0,t.attempted=!0):(t.locked=!1,t.setStatus("completed"),t.completed=!0,t.attempted=!0);break;case"3":t.completed||(t.setStatus("locked"),t.locked=!0);break;default:t.setStatus("notattempted")}t.assessment&&t.setBestScore()};t.updateStatus=function(){var f,n,r,i,u;if(t.locked&&(t.unlockTopic=masterObj.getTopicById(t.xml.attr("unlock")),t.unlockTopic?t.unlockTopic.completed&&t.unlock():(f=trackingObj.previousTopicsCompleted(t),f&&t.unlock())),n=0,r=0,t.arScreens.length>0){for(i=0;i<t.arScreens.length;i++)u=t.arScreens[i],u.getVisited()&&n++,u.getCompleted()&&r++;n>0&&t.status!="completed"&&(t.status="incomplete",t.attempted=!0);r==t.arScreens.length&&n>0&&(t.status="completed",t.completed=!0,t.attempted=!0);t.assessment&&n>0&&(t.iBestScore>=t.mastery_score?(t.status="passed",t.completed=!0,t.attempted=!0):(t.status="incomplete",t.completed=!1,t.attempted=!0))}t.completed&&t.dispatcher.trigger("completed");navObj&&(navObj.showBack(),navObj.showNext());t.dispatcher.trigger("statusupdated")};t.getPassedCount=function(){return Math.round(t.iPassed)};t.getScore=function(){return Math.round(t.iCurrentScore)};t.getBestScore=function(){return Math.round(t.iBestScore)};t.getScoreCount=function(){for(var i,r=0,u=0,n=0;n<t.arScreens.length;n++)i=t.arScreens[n],i.getScored()&&(u++,i.getPassed()&&r++);return r};t.setBestScore=function(){var n=Number(trackingObj.getCustomData(t.score_data_prefix+t.id));isNaN(n)||(t.iBestScore=n)};t.setStatus=function(n){t.getStatus()!=n&&(t.status=n,t.dispatcher.trigger("statusupdated"))};t.getStatus=function(){return t.status};t.setAssessment=function(n){t.assessment=Boolean(n)};t.getAssessment=function(){return t.assessment};t.setAttempted=function(n){!t.getAttempted()&&Boolean(n)?(t.attempted=!0,t.dispatcher.trigger("attempted")):t.attempted=!1};t.getAttempted=function(){return t.attempted};t.setCompleted=function(n){!t.getAttempted()&&Boolean(n)?(t.completed=!0,t.setStatus("completed"),t.dispatcher.trigger("completed")):t.completed=!1;trackingObj.updateTracking()};t.getCompleted=function(){return t.completed};t.getPassed=function(){var n=!1;return t.getAssessment()&&t.getBestScore()>=t.mastery_score&&(n=!0),n};t.initialise();t.createScreenArray()}
function Nav(){var n=this;n.oHolder=$("#navholder");n.courseHolder=$("#courseholder");n.oMaster=masterObj;n.nextBtn=null;n.backBtn=null;n.menuBtn=null;n.navDir="menu";n.courseTitle_div=null;n.courseTitle=null;n.topicTitle_div=null;n.topicTitle=null;n.loadergraphic=null;n.loadbarcontainer=null;n.loadbar=null;n.navButtonsArray=[];n.navScreen;n.createNav=function(){n.loadNavScreen()};n.loadNavScreen=function(){n.navScreen=masterObj.getNavById("navscreen");n.navScreen.setNavModel(n);n.navScreen.initScreen($("#navholder"));n.navScreen.dispatcher.bind("navigationSetupComplete",n.navScreenSetupComplete)};n.navScreenSetupComplete=function(){tweenTo(n.oHolder,0,{autoAlpha:1,display:"block"})};n.createLoader=function(){n.loadergraphic=$('<div id="preloader"><img src="lib/images/ui/_circle_loader.gif" /><\/div>');n.loadbarcontainer=$('<div id="loadbarcontainer"><\/div>');n.loadbar=$('<div id="loadbar"><\/div>');tweenTo(n.loadergraphic,0,{autoAlpha:0,display:"block"});n.loadergraphic.append(n.loadbarcontainer);n.loadbarcontainer.append(n.loadbar);n.oHolder.append(n.loadergraphic)};n.showTopicTitle=function(){currentTopic&&$(".ui_topic_title").empty().append(currentTopic.sLongLabel)};n.disableBackNext=function(){n.navScreen.disableDirectionalNav()};n.initNav=function(){devmode&&console.trace("INIT NAV");currentScreen&&(currentTopic=currentScreen.topic,n.courseHolder.attr("class",""),n.courseHolder.addClass("in-topic"),n.courseHolder.addClass("topic"+currentTopic.id),n.navScreen.initNav(),n.navScreen.doClickById("in_topic"))};n.inMenu=function(){n.navScreen.doClickById("in_menu")};n.inTopic=function(){n.navScreen.doClickById("in_topic")};n.nextButtonPressed=function(){currentScreen.checkOverrideNext()?currentScreen.overrideNext():navObj.navigating||(n.navigating=!0,n.navDir="next",goNext())};n.backButtonPressed=function(){currentScreen.checkOverrideBack()?currentScreen.overrideBack():navObj.navigating||(n.navigating=!0,n.navDir="back",goBack())};n.showNext=function(){n.navScreen.showNext()};n.showBack=function(){n.navScreen.showBack()};n.showNav=function(){tweenTo(n.oHolder,.3,{autoAlpha:1,display:"block"})};n.hideNav=function(){n.disableBackNext()};n.showContent=function(){currentScreen&&n.animateScreenIntview()};n.hideContent=function(){n.courseHolder.attr("class","");tweenTo($("#contentholder"),.3,{autoAlpha:0,display:"none",onComplete:function(){$("#contentholder").empty()}})};n.animateScreenIntview=function(){var t=currentScreen.view.oHolder;previousScreen||(navObj.navDir="default");_respondo.phone()&&(navObj.navDir=navObj.navDir!="menu"?"phone":"phonemenu",tweenTo(window,.2,{scrollTo:{y:0,x:0},ease:Power4.easeOut}));currentScreen.dispatcher.bind("showing",n.newScreenInView);currentScreen.show(navObj.navDir);previousScreen&&previousScreen.leave(navObj.navDir);n.showTopicTitle();n.navScreen.doClickById("update")};n.removePreviousScreen=function(){previousScreen.view.removeScreen()};n.newScreenInView=function(){navObj.navigating=!1;n.initNav()};n.showDialogueWindow=function(){$("#courseholder").addClass("dialogueOpen");$("#dialogueholder").width(currentDialogue.width);$("#dialogueholder").height(currentDialogue.height);tweenTo($("#dialoguemask"),0,{autoAlpha:0});tweenTo($("#dialoguemask"),.5,{autoAlpha:1,display:"block"});_respondo.desktop()?(tweenTo($("#dialogueholder"),0,{autoAlpha:0,left:currentDialogue.x,marginLeft:0-currentDialogue.width/2,top:"50%",marginTop:0-currentDialogue.height/2}),tweenTo($("#dialogueholder"),.5,{autoAlpha:1,display:"block"})):(tweenTo($("#dialogueholder"),0,{autoAlpha:0}),tweenTo($("#dialogueholder"),.3,{autoAlpha:1,display:"block"}))};n.initDialogueWindow=function(){if($("#dialogueholder").css("z-index",100),tweenTo($("#dialogueholder"),0,{autoAlpha:1}),tweenTo(currentDialogue.view.oHolder,0,{autoAlpha:1,onComplete:currentDialogue.view.ready}),currentDialogue.closebutton){var n=$('<div class="dialogueCloseBtn"><\/div>');n.css("position","absolute");isNaN(currentDialogue.closeX)?n.css("right","10px"):n.css("left",currentDialogue.closeX);isNaN(currentDialogue.closeY)?n.css("top","10px"):n.css("top",currentDialogue.closeY);n.append(getVarText("dialogue_close_label"));$("#dialogueholder").append(n);applyClick(n,function(){closeDialogue()})}};n.closeDialogue=function(){currentDialogue&&(currentDialogue.kill(),tweenTo($("#dialoguemask"),.3,{autoAlpha:0}),_respondo.desktop()?tweenTo($("#dialogueholder"),.3,{autoAlpha:0,display:"none",onComplete:function(){$("#dialogueholder").empty()}}):(tweenTo($("#dialogueholder"),0,{autoAlpha:1,display:"block"}),tweenTo($("#dialogueholder"),.2,{autoAlpha:0,display:"none",onComplete:function(){$("#dialogueholder").empty()}})),currentDialogue=null);$("#courseholder").removeClass("dialogueOpen");currentScreen?currentScreen.enable():devmode&&console.warn("WARN: NO CURRENT SCREEN")}}
function column_sort(n){var t=this;t.screen=n;t.screen_view=t.screen.view;t.xml_node=null;t.table;t.rowHolder;t.titleHolder;t.submitBtn;t.resetBtn;t.columnArray=[];t.rowArray=[];t.row_left_pos=10;t.width=500;t.optionwidth=100;t.randomise=!1;t.radiomode=!0;t.oSelectedOption=null;t.custom=function(n){var r,i;for(t.oModel=n,t.xml_node=$(t.oModel.oXML),t.width=t.xml_node.attr("width"),r=0;r<t.xml_node.children().length;r++){i=t.xml_node.children()[r];switch(i.nodeName){case"settings":t.createSettings($(i));break;case"column":t.columnArray.push(new t.column($(i),t.columnArray.length+1));break;case"row":t.rowArray.push(new t.row($(i),t.rowArray.length+1));break;case"fb":t.screen_view.createFeedback($(i))}}t.table=$("<table>");t.oModel.view.oDiv.append(t.table);t.createColumns();t.randomise&&(t.rowArray=shuffleArray(t.rowArray));t.createRows()};t.screenElementsReady=function(){t.resetBtn=t.screen.view.getScreenElementById("resetBtn");t.submitBtn=t.screen.view.getScreenElementById("submitBtn");t.initOptions();t.enableOptions()};t.createSettings=function(n){t.optionwidth=n.attr("optwidth");t.optionheight=n.attr("optheight");t.randomise=Boolean(n.attr("randomise")!="false");t.radiomode=Boolean(n.attr("radiomode")!="false")};t.feedback=function(n){var t=this;t.id=n.attr("id");t.xml_node=n};t.createColumns=function(){var n,i;for(t.titleHolder=$('<tr><th class="empty"><\/th><\/tr>'),n=0;n<t.columnArray.length;n++)i=t.columnArray[n],i.titlediv=$('<th width="'+t.optionwidth+'" style="width:'+t.optionwidth+'px">'+i.title+"<\/th>"),t.titleHolder.append(i.titlediv);t.table.append(t.titleHolder)};t.createRows=function(){for(var n,f,r,i=0;i<t.rowArray.length;i++)for(n=t.rowArray[i],n.table_row=$("<tr>"),f=$('<td class="statement">'+n.text+"<\/td>"),isOdd(i)?n.table_row.addClass("odd"):n.table_row.addClass("even"),n.table_row.append(f),t.table.append(n.table_row),r=0;r<t.columnArray.length;r++){var e=t.columnArray[r],u=$('<div class="radio" id="'+t.screen.id+"_row"+n.id+"_option"+e.id+'"><\/div>'),o=$('<td class="radiocell">');u.row=n;u.id=e.id;n.rowOptions.push(u);o.append(u);n.table_row.append(o)}};t.initOptions=function(){for(var i,r,u,f,n=0;n<t.rowArray.length;n++)for(i=t.rowArray[n],r=0;r<i.rowOptions.length;r++)u=i.rowOptions[r],f=i.table_row.height(),applyClick(u,function(){var n=$(this).data("elm");t.selectOption(n)})};t.enableOptions=function(){for(var r,i,u,n=0;n<t.rowArray.length;n++)for(r=t.rowArray[n],i=0;i<r.rowOptions.length;i++)u=r.rowOptions[i],enableElement(u)};t.disableOptions=function(){for(var r,i,u,n=0;n<t.rowArray.length;n++)for(r=t.rowArray[n],i=0;i<r.rowOptions.length;i++)u=r.rowOptions[i],disableElement(u)};t.resetOptions=function(){for(var i,u,n,r=0;r<t.rowArray.length;r++)for(i=t.rowArray[r],i.selectedOption.removeClass("selected"),i.selectedOption=null,u=0;u<i.rowOptions.length;u++)n=i.rowOptions[u],n.tick&&n.tick.remove(),n.data("selected",!1),n.removeClass("selected"),n.removeClass("over"),enableElement(n)};t.column=function(n,t){var i=this;i.id=t;i.title=n.text()};t.row=function(n,t){var i=this;i.id=t;i.text=n.text();i.correctColumn=n.attr("correct").split(",");i.rowOptions=[];i.selectedOption=null;i.selectedOptions=function(){for(var t,r=[],n=0;n<i.rowOptions.length;n++)t=i.rowOptions[n],t.data("selected")&&r.push(t);return r}};t.selectOption=function(n){var u=n.row,r,i;if(t.radiomode)for(r=0;r<u.rowOptions.length;r++)i=u.rowOptions[r],i.data("selected")&&(i.data("selected",!1),i.removeClass("selected"),i.removeClass("over"),enableElement(i));n.data("selected")?(enableElement(n),n.removeClass("selected"),n.removeClass("over"),n.data("selected",!1)):(t.radiomode&&disableElement(n),n.addClass("selected"),n.data("selected",!0));u.selectedOption=n;t.checkEnableSubmit()};t.checkEnableSubmit=function(){for(var r,i=!0,n=0;n<t.rowArray.length;n++)r=t.rowArray[n],r.selectedOptions().length<1&&(i=!1);i?t.enableSubmit():t.disableSubmit()};t.enableSubmit=function(){enableContentButton(t.submitBtn)};t.disableSubmit=function(){disableContentButton(t.submitBtn)};t.submit=function(){var i,r,c,u,n,h,f;t.screen.setAnswered(!0);t.disableOptions();var e=0,o=0,s=0;for(i=0;i<t.rowArray.length;i++)for(r=t.rowArray[i],c=0,u=0;u<r.rowOptions.length;u++)n=r.rowOptions[u],inArray(n.id,r.correctColumn)?(t.screen.getScored()||(n.tick=$('<div class="tick"><\/div>'),n.append(n.tick)),n.data("selected")?e++:o++,s++):n.data("selected")&&o++;h=!1;f="fail";e==s&&o<1?(h=!0,f="pass",t.screen.pass()):e>0?(f="partial",t.screen.partial()):t.screen.fail();disableContentButton(t.submitBtn);t.resetBtn&&!t.screen.getScored()&&enableContentButton(t.resetBtn);t.screen_view.applyFeedback(f)};t.reset=function(){t.screen_view.removeFeedback();t.resetOptions();disableContentButton(t.resetBtn);t.screen_view.doClickById("reset")}}
function drag_drop(n){var t=this;t.screen=n;t.screen_view=t.screen.view;t.oXML=null;t.oDiv;t.resetBtn;t.submitBtn;t.smaBtn;t.scaBtn;t.dragArray=[];t.dropArray=[];t.totalRequiredDrops=0;t.submitPressed=!1;t.custom=function(n){var r,i;for(t.oModel=n,t.oXML=t.oModel.oXML,t.oDiv=t.oModel.view.oDiv,r=0;r<$(t.oXML).children().length;r++){i=$(t.oXML).children()[r];switch(i.nodeName){case"settings":t.createSettings($(i));break;case"drag":t.dragArray.push(new t.drag($(i)));break;case"drop":t.dropArray.push(new t.drop($(i)));break;case"fb":t.screen_view.createFeedback($(i))}}t.resetBtn=t.screen.view.getScreenElementById("resetBtn");t.submitBtn=t.screen.view.getScreenElementById("submitBtn");t.smaBtn=t.screen.view.getScreenElementById("smaBtn");t.scaBtn=t.screen.view.getScreenElementById("scaBtn");t.setupParams()};t.resetScreen=function(){var i,n,r;for(t.screen_view.removeFeedback(),n=0;n<t.dragArray.length;n++)i=t.dragArray[n],i.inTarget=!1,i.targetDrop=null,i.answeredDrop=null,tweenTo($(i.drag),.2,{scaleX:1,scaleY:1,left:i.origX,top:i.origY});for(n=0;n<t.dropArray.length;n++)r=t.dropArray[n],r.dragArray=[],r.userArray=[],r.correctArray=[];t.submitPressed=!1;t.enableAllDrags();disableContentButton(t.screen.view.getScreenElementById("resetBtn"))};t.submit=function(){t.screen.setAnswered(!0);t.disableAllDrags();t.checkAnswers()};t.screenElementsReady=function(){for(var n,i=0;i<t.dragArray.length;i++)n=t.dragArray[i],n.origH=n.drag.outerHeight(),n.origW=n.drag.outerWidth(),tweenTo($(n.drag),0,{scaleX:1,scaleY:1,left:n.origX,top:n.origY})};t.createSettings=function(n){t.dropscale=Number(n.attr("dropscale"))};t.setupParams=function(){var n,i;for(t.totalRequiredDrops=0,n=0;n<t.dragArray.length;n++)i=t.dragArray[n],i.match!=0&&t.totalRequiredDrops++};t.drag=function(n){var i=this,f,u,r;i.bCorrect=Boolean(n.attr("correct")=="true");i.id=n.attr("id");i.match=n.attr("match");i.inTarget=!1;i.targetDrop=null;i.answeredDrop=null;i.targetY=0;f=n.text();u=t.screen.view.getScreenElementById(f);u&&(r=u.view.oDiv,i.drag=r,i.drag.addClass("dragElement"),i.drag.data("dragObject",this),i.origX=parseInt($(r).css("left")),i.origY=parseInt($(r).css("top")),i.origH=$(r).outerHeight(),i.origW=$(r).outerWidth(),i.resetPosition=function(){tweenTo(i.drag,0,{rotation:2});tweenTo(i.drag,.3,{rotation:0,left:i.origX,top:i.origY,scale:1});i.targetDrop=null;i.inTarget=!1},i.draggable=Draggable.create(i.drag,{edgeResistance:1,type:"left,top",bounds:t.screen.view.oHolder,onDragStart:function(){t.startDrag(i)},onDragEnd:function(){for(var r=t.dropArray.length,u,f,n;--r>-1;)if(u=t.dropArray[r].drop,isFunction(this.hitTest)){f="#"+u.attr("id");n=!1;try{n=this.hitTest(f,"55%")}catch(e){devmode&&console.log("CATCH ERROR, (probably IE8) so using less good, hitCheck function of hitTest :"+e);n=t.hitCheck(i.drag[0],u[0])}n&&(i.targetDrop=t.dropArray[r],i.inTarget=!0)}t.stopDrag(i)}}))};t.hitCheck=function(n,t){function e(n){for(var t={l:n.offsetLeft,t:n.offsetTop,r:n.offsetWidth,b:n.offsetHeight};n=n.offsetParent;t.l+=n.offsetLeft,t.t+=n.offsetTop);return t.r+=t.l,t.b+=t.t,t}for(var i,u=[],r=e(n),o=isNaN(t.length),f=(o?t=[t]:t).length;f;i=e(t[--f]),(r.l==i.l||(r.l>i.l?r.l<=i.r:i.l<=r.r))&&(r.t==i.t||(r.t>i.t?r.t<=i.b:i.t<=r.b))&&(u[u.length]=t[f]));return o?!!u.length:u};t.startDrag=function(n){n.inTarget&&t.setDragStart(n);tweenTo(n.drag,.2,{scale:1.1,rotation:2})};t.setDragStart=function(n){n.targetDrop.removeDrag(n);var i=n.targetDrop;n.targetDrop=null;n.inTarget=!1;t.checkTotalDrops()};t.dragEnd=function(n){for(var r,i=0;i<t.dropArray.length;i++)r=t.dropArray[i],Draggable.hitTest(r.drop,n.drag,"50%")&&(n.targetDrop=r);t.stopDrag(n)};t.stopDrag=function(n){if(n.inTarget){var i=n.targetDrop;i.dragArray.length>=i.maxdrop?(n.inTarget=!1,n.resetPosition()):i.addDrag(n)}else n.inTarget=!1,n.resetPosition();t.checkTotalDrops()};t.drop=function(n){var i=this,r,u;i.id=n.attr("id");r=n.text();u=t.screen.view.getScreenElementById(r).view.oDiv;i.drop=u;i.dropposition=parseInt(n.attr("dropposition"));i.stackitems=parseInt(n.attr("stackitems"));i.stackpaddingv=Number(n.attr("stackpaddingv"));i.stackpaddingh=Number(n.attr("stackpaddingh"));i.maxdrop=parseInt(n.attr("maxdrop"));i.x_offset=Number(n.attr("xoffset"));i.y_offset=Number(n.attr("yoffset"));i.x=Number(i.drop.css("left").split("px")[0]);i.y=Number(i.drop.css("top").split("px")[0]);i.width=i.drop.outerWidth();i.height=i.drop.outerHeight();i.yoffset=i.y+i.y_offset;i.xoffset=i.x+i.x_offset;i.drop.data("dropObject",i);i.dragArray=[];i.userArray=[];i.correctArray=[];i.setCorrectDrags=function(){var n,r;for(i.correctArray=[],n=0;n<t.dragArray.length;n++){var u=!1,f=t.dragArray[n],e=f.match.split(",");for(r=0;r<e.length;r++)i.id==e[r]&&(u=!0);u&&i.correctArray.push(f)}};i.getCorrectAnswerCount=function(){for(var n,r=0,t=0;t<i.dragArray.length;t++){var u=!1,e=i.dragArray[t],f=e.match.split(",");for(n=0;n<f.length;n++)i.id==f[n]&&(u=!0);u&&r++}return r};i.getIncorrectAnswerCount=function(){for(var n,r=0,t=0;t<i.dragArray.length;t++){var u=!1,e=i.dragArray[t],f=e.match.split(",");for(n=0;n<f.length;n++)i.id==f[n]&&(u=!0);u||r++}return r};i.addDrag=function(n){i.dragArray.push(n);i.tidy()};i.removeDrag=function(n){for(var r,u=[],t=0;t<i.dragArray.length;t++)r=i.dragArray[t],n!=r&&u.push(r);i.dragArray=u;i.tidy()};i.tidy=function(){var u,r,n;if(i.x=i.drop.offset().left,i.y=i.drop.offset().top,u=0,i.dragArray.length>0)if(i.maxdrop>1){for(r=0;r<i.dragArray.length;r++){if(n=i.dragArray[r],n.tx=i.xoffset,n.ty=i.yoffset,r>0){var f=i.dragArray[r-1],o=f.origW*t.dropscale,e=f.origH*t.dropscale;n.tx=f.tx+o+i.stackpaddingh;n.ty=f.ty;e>u&&(u=e);n.origW*t.dropscale+i.x_offset>i.width-i.x_offset&&(n.tx=i.xoffset,n.ty=f.ty+u+i.stackpaddingv,u=0)}tweenTo(n.drag,.2,{left:n.tx,top:n.ty,rotation:0,scale:t.dropscale,transformOrigin:"left top"})}n=i.dragArray[i.dragArray.length-1]}else{var n=i.dragArray[0],o=n.origW*t.dropscale,e=n.origH*t.dropscale;n.tx=i.xoffset+(i.width-o)/2;n.ty=i.yoffset+(i.height-e)/2;tweenTo(n.drag,.2,{left:n.tx,top:n.ty,rotation:0,scale:t.dropscale,transformOrigin:"left top"})}}};t.checkTotalDrops=function(){for(var r,i=0,n=0;n<t.dragArray.length;n++)r=t.dragArray[n],r.inTarget&&i++;i>=t.totalRequiredDrops?t.totalRequiredDropsReached():t.totalRequiredDropsNotReached()};t.totalRequiredDropsReached=function(){t.submitPressed||enableContentButton(t.submitBtn)};t.totalRequiredDropsNotReached=function(){disableContentButton(t.submitBtn)};t.checkAnswers=function(){for(var r,f,i,e,u,n=0;n<t.dropArray.length;n++)i=t.dropArray[n],i.setCorrectDrags(),i.userArray=i.dragArray.slice(0);for(r=0,f=0,n=0;n<t.dropArray.length;n++)i=t.dropArray[n],r+=i.getCorrectAnswerCount(),f+=i.getIncorrectAnswerCount();e=!1;u="fail";r==t.totalRequiredDrops&&f==0?(u="pass",e=!0):r>0?(u="partial",enableContentButton(t.scaBtn)):enableContentButton(t.scaBtn);e?t.screen.pass():t.screen.fail();t.screen_view.applyFeedback(u);disableContentButton(t.submitBtn);t.resetBtn&&!t.screen.getScored()&&enableContentButton(t.resetBtn)};t.enableAllDrags=function(){for(var n=0;n<t.dragArray.length;n++)t.dragArray[n].draggable[0].enable()};t.disableAllDrags=function(){for(var n=0;n<t.dragArray.length;n++)t.dragArray[n].draggable[0].disable(),$(".lte8").length<1&&(t.dragArray[n].drag.css("z-index",""),t.dragArray[n].drag.css("z-index",""))};t.displayCorrectAnswers=function(){for(var i,u,f,r,n=0;n<t.dragArray.length;n++)r=t.dragArray[n],r.inTarget=!1;for(n=0;n<t.dropArray.length;n++){for(i=t.dropArray[n],i.setCorrectDrags(),i.dragArray=i.correctArray,u=0;u<i.dragArray.length;u++)f=i.dragArray[u],f.inTarget=!0;i.tidy()}for(n=0;n<t.dragArray.length;n++)r=t.dragArray[n],r.match==0&&r.resetPosition()};t.displayMyAnswers=function(){for(var i,u,f,r,n=0;n<t.dragArray.length;n++)r=t.dragArray[n],r.inTarget=!1;for(n=0;n<t.dropArray.length;n++){for(i=t.dropArray[n],i.dragArray=i.userArray,u=0;u<i.dragArray.length;u++)f=i.dragArray[u],f.inTarget=!0;i.tidy()}for(n=0;n<t.dragArray.length;n++)r=t.dragArray[n],r.inTarget||r.resetPosition()};t.showAnswers=function(){t.displayCorrectAnswers();disableContentButton(t.scaBtn);enableContentButton(t.smaBtn)};t.showMyAnswers=function(){t.displayMyAnswers();disableContentButton(t.smaBtn);enableContentButton(t.scaBtn)};t.reset=function(){t.resetScreen();disableContentButton(t.smaBtn);disableContentButton(t.scaBtn);disableContentButton(t.resetBtn)}}
function mcq(n){var t=this;t.screen=n;t.screen_view=t.screen.view;t.oXML=null;t.oDiv;t.submitBtn;t.resetBtn;t.optionArray=[];t.optionwidth=100;t.optionoffset=100;t.radiomode=!0;t.randomise=!1;t.maxoptions=null;t.selectedoptions=0;t.eventonanswer;t.requiredchoices=1;t.defaultPointsValue=1;t.oSelectedOption=null;t.attempted=!1;t.passed=!1;t.custom=function(n){var r,i;for(t.oModel=n,t.oXML=t.oModel.oXML,t.oDiv=t.oModel.view.oDiv,r=0;r<$(t.oXML).children().length;r++){i=$(t.oXML).children()[r];switch(i.nodeName){case"settings":t.createSettings($(i));break;case"option":t.optionArray.push(new t.option($(i),t.optionArray.length+1));break;case"fb":t.screen_view.createFeedback($(i))}}t.appendOptions()};t.appendOptions=function(){var i=t.optionArray,n,r;for(t.randomise&&(i=shuffleArray(t.optionArray)),n=0;n<i.length;n++)r=i[n],t.oDiv.append(r.option)};t.initOptions=function(){for(var i,n=0;n<t.optionArray.length;n++)i=t.optionArray[n],applyClick(i.option,function(){var n=$(this).data("elm");t.selectOption(n.oObj.id)})};t.rolloverOption=function(){};t.rolloutOption=function(){};t.createSettings=function(n){t.radiomode=Boolean(n.attr("radiomode")=="true");t.randomise=Boolean(n.attr("randomise")=="true");t.maxoptions=Number(n.attr("maxoptions"));t.requiredchoices=Number(n.attr("requiredchoices"));t.eventonanswer=n.attr("eventonanswer");t.autosubmit=Boolean(n.attr("autosubmit")=="true");t.unlockOnIncorrect=!0;n.attr("unlockOnIncorrect")&&(t.unlockOnIncorrect=n.attr("unlockOnIncorrect")==="true")};t.option=function(n,i){var r=this,u;r.oCustom=t;r.bCorrect=Boolean(n.attr("correct")=="true");r.iPoints=Number(n.attr("points"));isNaN(r.iPoints)&&(r.iPoints=t.defaultPointsValue);r.id=i;r.option=$('<div id="'+t.screen.id+"_mcq_option_"+i+'" class="option"><\/div>');r.radio=$('<div class="radio"><\/div>');r.option.append(r.radio);u=$(n.text());masterObj.bCheatMode&&r.bCorrect&&u.prepend("* ");r.option.append(u);r.option.oObj=r};t.selectOption=function(n){var i=t.getOptionById(n);t.radiomode?i&&(t.oSelectedOption&&t.setDeselected(t.oSelectedOption),t.oSelectedOption=i,t.setSelected(i)):(i.selected?t.setDeselected(i):t.maxoptions?t.selectedoptions<t.maxoptions&&t.setSelected(i):t.setSelected(i),t.updateOptionCount());t.checkEnableSubmit()};t.blurEvent=function(){t.updateOptionDisplay()};t.setSelected=function(n){n.selected=!0;n.option.addClass("selected");tweenTo(n.option,0,{className:"+=selected"})};t.setDeselected=function(n){n.selected=!1;tweenTo(n.option,0,{className:"-=selected"})};t.updateOptionCount=function(){var n,i;for(t.selectedoptions=0,n=0;n<t.optionArray.length;n++)i=t.optionArray[n],i.selected&&t.selectedoptions++};t.checkEnableSubmit=function(){for(var u,n=!1,r=0,i=0;i<t.optionArray.length;i++)u=t.optionArray[i],u.selected&&(r++,n=!0);r<t.requiredchoices&&(n=!1);n?t.eventonanswer?t.screen_view.doEventById(t.eventonanswer):t.enableSubmit():t.disableSubmit()};t.disableSubmit=function(){disableContentButton(t.submitBtn)};t.enableSubmit=function(){var n=t.submitBtn;t.attempted=!0;t.screen.dispatcher.trigger("attempted");n?enableContentButton(n):t.autosubmit&&t.submit()};t.disableReset=function(){disableContentButton(t.resetBtn)};t.enableReset=function(){enableContentButton(t.resetBtn)};t.disableOptions=function(){for(var i,n=0;n<t.optionArray.length;n++)i=t.optionArray[n],disableElement(i.option)};t.enableOptions=function(){for(var i,n=0;n<t.optionArray.length;n++)i=t.optionArray[n],enableElement(i.option)};t.submit=function(){var f,n,i;t.disableOptions();t.screen.setAnswered(!0);var e=0,r=0,o=0,u=null;for(f=0;f<t.optionArray.length;f++)n=t.optionArray[f],n.bCorrect?(t.screen.getScored()||(n.tick=$('<div class="tick"><\/div>'),n.option.addClass("correct"),n.radio.append(n.tick)),e++,n.selected&&(r++,u=n.id)):(n.selected&&(o++,u=n.id),t.screen.getScored()||(n.tick=$('<div class="cross"><\/div>'),n.radio.append(n.tick)));i="fail";t.passed=!1;e==r&&o==0?(t.passed=!0,i="pass",t.screen.pass()):r>0&&(r<e||o>0)?(i="partial",t.screen.partial()):(i="fail",t.screen.fail());t.screen_view.checkFeedback(u)&&(i=u);t.screen_view.applyFeedback(i);disableContentButton(t.submitBtn);t.resetBtn&&!t.screen.getScored()&&(t.enableReset(),t.disableSubmit());t.passed||t.unlockOnIncorrect};t.reset=function(){var i,n;for(t.screen_view.removeFeedback(),i=0;i<t.optionArray.length;i++)n=t.optionArray[i],n.tick&&n.tick.remove(),n.selected&&t.setDeselected(n);t.enableOptions();t.disableReset();t.screen_view.doClickById("reset")};t.screenElementsReady=function(){t.submitBtn=t.screen.view.getScreenElementById("submitBtn");t.resetBtn=t.screen.view.getScreenElementById("resetBtn");t.initOptions();t.enableOptions()};t.getOptionById=function(n){return getItemById(n,t.optionArray)}}
function list_sort(n){var t=this;t.screen=n;t.screen_view=t.screen.view;t.oXML=null;t.oDiv;t.submitBtn;t.resetBtn;t.optionArray=[];t.custom=function(n){var r,i;for(t.oModel=n,t.oXML=t.oModel.oXML,t.oDiv=t.oModel.view.oDiv,r=0;r<$(t.oXML).children().length;r++){i=$(t.oXML).children()[r];switch(i.nodeName){case"settings":t.createSettings($(i));break;case"option":t.optionArray.push(new t.option($(i),t.optionArray.length+1,this));break;case"fb":t.screen_view.createFeedback($(i))}}t.appendOptions()};t.appendOptions=function(){for(var i,n=0;n<t.optionArray.length;n++)i=t.optionArray[n],t.oDiv.append(i.option)};t.initOptions=function(){for(var i,n=0;n<t.optionArray.length;n++)i=t.optionArray[n],i.draggable=Draggable.create(i.inner,{type:"y",edgeResistance:.65,onDragStart:t.startDrag,onDragEnd:t.stopDrag});disableContentButton(t.submitBtn);disableContentButton(t.resetBtn);disableContentButton(t.scaBtn)};t.startDrag=function(){var n=this.target;$(n).parent().addClass("dragging");tweenTo($(n),.2,{scale:1.1,rotation:2})};t.stopDrag=function(){var n=this.target;tweenTo($(n),.2,{scale:1,rotation:0});t.sortByY();t.enableSubmit()};t.sortByY=function(){t.oDiv.find(".list_sort_item").sort(t.y_sort).appendTo(t.oDiv);TweenMax.to($(".inner"),0,{y:0});t.oDiv.find(".dragging").removeClass("dragging")};t.y_sort=function(n,t){return $(t).find(".inner").offset().top<=$(n).find(".inner").offset().top?1:-1};t.correct_sort=function(n,t){return $(t).data("obj").correct<=$(n).data("obj").correct?1:-1};t.original_sort=function(n,t){return $(t).data("obj").id<=$(n).data("obj").id?1:-1};t.createSettings=function(n){t.unlockOnIncorrect=!0;n.attr("unlockOnIncorrect")&&(t.unlockOnIncorrect=n.attr("unlockOnIncorrect")==="true")};t.option=function(n,i,r){var u=this,f;u.draggable=null;u.oCustom=r;u.bCorrect=!1;u.correct=Number(n.attr("correct"));u.iPoints=Number(n.attr("points"));isNaN(u.iPoints)&&(u.iPoints=t.defaultPointsValue);u.id=i;u.option=$('<div class="list_sort_item" />');u.inner=$('<div class="inner" />');u.option.data("obj",u);u.option.append(u.inner);f=$(n.text());masterObj.bCheatMode&&u.correct>0&&f.prepend("*"+u.correct+" ");u.inner.append(f);u.option.width(r.optionwidth);u.option.oObj=u};t.disableSubmit=function(){disableContentButton(t.submitBtn)};t.enableSubmit=function(){var n=t.submitBtn;n?enableContentButton(n):t.submit()};t.disableReset=function(){disableContentButton(t.resetBtn)};t.enableReset=function(){enableContentButton(t.resetBtn)};t.disableOptions=function(){for(var i,n=0;n<t.optionArray.length;n++)i=t.optionArray[n],i.draggable&&i.draggable[0].disable()};t.enableOptions=function(){for(var i,n=0;n<t.optionArray.length;n++)i=t.optionArray[n],i.draggable&&i.draggable[0].enable()};t.submit=function(){var n,i,r;t.disableOptions();t.screen.setAnswered(!0);var f=0,s=0,e=null,u=!1,o=t.oDiv.find(".list_sort_item");for(n=0;n<o.length;n++)i=$(o[n]).data("obj"),i.correct-1==n?(t.screen.getScored()||(i.tick=$('<div class="tick"><\/div>'),i.option.append(i.tick)),f++):s++;r="fail";t.optionArray.length==f?(u=!0,r="pass"):r=f>0?"partial":"fail";t.screen_view.checkFeedback(e)&&(r=e);u?t.screen.setPassed(!0):t.screen.setPassed(!1);t.screen.getScored()||u||enableContentButton(t.scaBtn);t.screen_view.applyFeedback(r);disableContentButton(t.submitBtn);t.resetBtn&&!t.screen.getScored()&&(t.enableReset(),t.disableSubmit());u||t.unlockOnIncorrect};t.showCorrect=function(){t.oDiv.find(".list_sort_item").sort(t.correct_sort).appendTo(t.oDiv);disableContentButton(t.scaBtn)};t.reset=function(){var i,n;for(t.screen_view.removeFeedback(),i=0;i<t.optionArray.length;i++)n=t.optionArray[i],n.tick&&n.tick.remove(),n.selected&&t.setDeselected(n);t.oDiv.find(".list_sort_item").sort(t.original_sort).appendTo(t.oDiv);t.enableOptions();t.disableReset();t.screen_view.doClickById("reset");disableContentButton(t.scaBtn)};t.screenElementsReady=function(){t.submitBtn=t.screen.view.getScreenElementById("submitBtn");t.resetBtn=t.screen.view.getScreenElementById("resetBtn");t.scaBtn=t.screen.view.getScreenElementById("scaBtn");t.initOptions()};t.getOptionById=function(n){return getItemById(n,t.optionArray)}}
function mcq_graphical(n){var t=this;t.screen=n;t.screen_view=t.screen.view;t.oXML=null;t.oDiv;t.submitBtn;t.resetBtn;t.optionArray=[];t.feedbackArray=[];t.arFeedbackElements=[];t.radiomode=!0;t.showticks=!0;t.oSelectedOption=null;t.custom=function(n){var r,i;for(t.oModel=n,t.oXML=$(t.oModel.oXML),t.oDiv=t.oModel.view.oDiv,r=0;r<t.oXML.children().length;r++){i=t.oXML.children()[r];switch(i.nodeName){case"settings":t.createSettings($(i));break;case"option":t.optionArray.push(new t.Option($(i),t.optionArray.length+1));break;case"fb":t.screen_view.createFeedback($(i))}}};t.initOptions=function(){for(var n,i=0;i<t.optionArray.length;i++)n=t.optionArray[i],n.oCustom=t.oCustom,n.option.data("id",n.id),applyClick(n.option,function(){var n=$(this).data("elm");t.selectOption(n.data("id"))})};t.createSettings=function(n){t.radiomode=Boolean(n.attr("radiomode")=="true")};t.Option=function(n,i){var r=this;r.bCorrect=Boolean(n.attr("correct")=="true");r.id=i;r.elementid=n.text();r.option=t.screen.view.getScreenElementById(r.elementid).view.oDiv;r.option.addClass("option");r.option.addClass("option"+i);r.unselected_class=r.option.attr("class")};t.Feedback=function(n){var t=this;t.id=n.attr("id");t.oXML=n};t.selectOption=function(n){var i=t.getOptionById(n);t.radiomode?(t.oSelectedOption&&t.showUnselectedState(t.oSelectedOption),i&&(t.oSelectedOption=i,t.showSelectedState(i))):i.selected?t.showUnselectedState(i):t.showSelectedState(i);t.checkEnableSubmit()};t.checkEnableSubmit=function(){for(var r,i=!1,n=0;n<t.optionArray.length;n++)r=t.optionArray[n],r.selected&&(i=!0);i?t.enableSubmit():t.disableSubmit()};t.showSelectedState=function(n){n.selected=!0;tweenTo(n.option,0,{className:"+=selected"})};t.showUnselectedState=function(n){n.selected=!1;tweenTo(n.option,0,{className:"-=selected"})};t.disableSubmit=function(){disableContentButton(t.submitBtn)};t.enableSubmit=function(){enableContentButton(t.submitBtn)};t.disableOptions=function(){for(var i,n=0;n<t.optionArray.length;n++)i=t.optionArray[n],disableElement(i.option)};t.enableOptions=function(){for(var i,n=0;n<t.optionArray.length;n++)i=t.optionArray[n],enableElement(i.option)};t.submit=function(){var i,n,r;t.screen.setAnswered(!0);t.disableOptions();var f=0,u=0,e=0,o,s=!1;for(i=0;i<t.optionArray.length;i++)n=t.optionArray[i],n.bCorrect?(!t.screen.getScored()&&t.showticks&&(n.tick=$('<div class="tick"><\/div>'),n.option.append(n.tick)),f++,n.selected&&(u++,o=i)):n.selected&&(e++,o=i);f==u&&e==0&&(s=!0);r="fail";u>0&&(u<f||e>0)?(r="partial",t.screen.partial()):s?(r="pass",t.screen.pass()):(r="fail",t.screen.fail());selected_id=o+1;disableContentButton(t.submitBtn);t.resetBtn&&!t.screen.getScored()&&enableContentButton(t.resetBtn);s?t.screen.pass():t.screen.fail();t.screen_view.checkFeedback(selected_id)&&(r=selected_id);t.screen_view.applyFeedback(r)};t.reset=function(){var i,n;for(t.screen_view.removeFeedback(),i=0;i<t.optionArray.length;i++)n=t.optionArray[i],n.tick&&(n.tick.remove(),n.tick=null),n.selected&&(n.selected=!1,n.option.removeClass("selected"));t.enableOptions();disableContentButton(t.resetBtn)};t.screenElementsReady=function(){t.submitBtn=t.screen.view.getScreenElementById("submitBtn");t.resetBtn=t.screen.view.getScreenElementById("resetBtn");t.initOptions();t.enableOptions()};t.getOptionById=function(n){return getItemById(n,t.optionArray)};t.getFeedbackById=function(n){return getItemById(n,t.feedbackArray)}}
function parallax(n){var t=this,i,r;t.oModel;t.screen=n;t.oXML=null;t.width;t.height;t.oDiv;t.parallaxWindow;t.scroll_percent=0;t.scroll_increment=.4;t.draggable;t.layerArray=[];this.custom=function(n){var r,u,o,f,e;for(this.oModel=n,this.oXML=this.oModel.oXML,this.oDiv=this.oModel.view.oDiv,this.width=$(this.oXML).attr("width"),this.height=$(this.oXML).attr("height"),this.x=$(this.oXML).attr("x"),this.y=$(this.oXML).attr("y"),t.scrubber=Boolean($(t.oXML).attr("scrubber")=="true"),t.parallaxWidth=this.width,i=$('<div class="parallax_holder" id="parallax_holder"><\/div>'),$(i).css("position","absolute"),$(i).css("width",this.width),$(i).css("height",this.height),this.oDiv.append(i),t.parallaxHolder=i,r=0;r<$(this.oXML).children().length;r++){u=$(this.oXML).children()[r];o=$(this.oXML).children()[r+1];switch(u.nodeName){case"settings":this.createSettings($(u));break;case"layer":f=this.layerArray.length+1;e=new this.createLayer(f,$(u),this);this.layerArray.push(e)}}this.attachControls()};this.disable=function(){var n=Draggable.get(t.scrubLayer.layerDiv);n&&n.disable()};this.enable=function(){var n=Draggable.get(t.scrubLayer.layerDiv);n&&n.enable()};this.createLayer=function(n,r,u){var o,e,f;for(this.oCustom=u,this.id=n,this.layerID=this.oCustom.screen.id+"_layer_"+this.id,this.layerDiv=$('<div class="layer" id="'+this.layerID+'"><\/div>'),this.layerWidth=r.attr("width"),this.layerDiv.width(this.layerWidth),this.layerDiv.height(t.height),$(i).append(this.layerDiv),o=r.children(),e=0;e<o.length;e++)f=$(o[e]),f.attr("target")!="undefined"&&f.attr("target")||f.attr("target",this.layerDiv.attr("id")),f.attr("id")||f.attr("id","layer_"+this.id+"_item"+e);this.layer_node=r};this.attachContents=function(){for(var n,t=0;t<this.layerArray.length;t++)n=this.layerArray[t],n.oCustom=this,n.oLayer=n,this.screen.view.createScreenElements(n.layer_node)};this.attachControls=function(){t.scrubber||(t.scrubLayer=t.layerArray[t.layerArray.length-1],t.parallaxHolder.scroll(function(){var i=t.parallaxHolder[0].scrollWidth-t.width*2,n=t.parallaxHolder.scrollLeft();t.scroll_percent=n/i;t.scroll_percent>1&&(t.scroll_percent=1);t.scroll_percent<0&&(t.scroll_percent=0);n!=0&&(t.moveLayers(),t.parallaxHolder.scrollLeft(0))}),t.draggable=Draggable.create(t.scrubLayer.layerDiv,{type:"left",bounds:{minX:0-(t.scrubLayer.layerDiv.width()-t.width),maxX:0},edgeResistance:1,zIndexBoost:!1,throwProps:!0,onDrag:function(){t.updateScrollPercent();t.moveLayers(t.scrubLayer.layerDiv)},onDragEnd:function(){t.updateScrollPercent();t.moveLayers(t.scrubLayer.layerDiv)},onThrowUpdate:function(){t.updateScrollPercent();t.moveLayers(t.scrubLayer.layerDiv)},onThrowComplete:function(){t.updateScrollPercent();t.moveLayers(t.scrubLayer.layerDiv)},ease:Strong.easeOut}))};this.onDrag=function(n){t.moveLayers(n.x)};this.onThrow=function(n){t.moveLayers(n.x)};this.onLayerDrag=function(n){t.moveSlider(n.x)};this.onLayerThrow=function(n){t.moveSlider(n.x)};this.screenElementsReady=function(){this.attachContents();this.setupScrollControls()};this.setupScrollControls=function(){};this.parallaxJump=function(n){var i=n<1?1:n>99?99:n,r=parseInt(t.sliderTrack.css("width"))-parseInt(t.sliderTab.css("width")),u=Number(i)*r/100;t.moveSlider(-u);t.moveLayers()};r=null;t.updateScrollPercent=function(){var n=0-($(t.scrubLayer.layerDiv).width()-t.width),i=t.scrubLayer.layerDiv.position().left;t.scroll_percent=i/n;t.scroll_percent>1&&(t.scroll_percent=1);t.scroll_percent<0&&(t.scroll_percent=0)};t.scrollRight=function(){t.scroll_percent+=t.scroll_increment;t.scroll_percent>1&&(t.scroll_percent=1);t.moveLayers()};t.scrollLeft=function(){t.scroll_percent-=t.scroll_increment;t.scroll_percent<0&&(t.scroll_percent=0);t.moveLayers()};t.moveLayers=function(n){for(var r,f,i=0;i<this.layerArray.length;i++)if(r=this.layerArray[i],r.layerDiv!=n){var e=r.layerWidth,o=t.parallaxWidth-e,u=o*t.scroll_percent;u>0&&(u=0);f=.5;n&&(f=0);tweenTo(r.layerDiv,f,{left:u})}};this.moveSlider=function(n){var i=this.layerArray[0].layerDiv,e=parseInt(t.sliderTrack.css("width"))-parseInt(t.sliderTab.css("width")),r=t.parallaxWidth,u=i.layerWidth,o=r-u,f=0-n;tweenTo(t.sliderTab,.2,{x:f})};this.parallaxJumpToPercentage=function(n){t.parallaxJump(n)}}
function photostory(n){var t=this;t.oModel;t.screen=n;t.screen_view=t.screen.view;t.oXML=null;t.width;t.height;t.oDiv;t.nextBtn;t.backBtn;t.progressHolder=$(document.createElement("div"));t.overrideNav=!1;t.progressIconArray=[];t.cellArray=[];t.activeCellID=0;t.totalCells=0;t.custom=function(n){var i,r,u,f;for(t.oModel=n,t.oXML=t.oModel.oXML,t.oDiv=t.oModel.view.oDiv,t.width=Number($(t.oXML).attr("width")),t.height=Number($(t.oXML).attr("height")),t.x=$(t.oXML).attr("x"),t.y=$(t.oXML).attr("y"),t.photostoryWidth=t.width,t.photostoryHolder=$('<div class="photostory_holder" id="'+t.screen.id+'_photostory_holder"><\/div>'),t.photostoryHolder.css("overflow","hidden"),t.oDiv.addClass("photostory"),t.oDiv.append(t.photostoryHolder),t.strip=$('<div class="strip"><\/div>'),t.photostoryHolder.append(t.strip),t.progressHolder.attr("class","progress"),t.oDiv.append(t.progressHolder),i=0;i<$(this.oXML).children().length;i++){r=$(this.oXML).children()[i];switch(r.nodeName){case"settings":this.createSettings($(r));break;case"cell":u=this.cellArray.length;f=new this.createCell(u,$(r),this);this.cellArray.push(f)}}this.totalCells=this.cellArray.length};t.kill=function(){};t.createSettings=function(n){t.dragnav=Boolean($(n).attr("dragnav")=="true");t.buttony=Number($(n).attr("buttony"));t.buttonSpacing=Number($(n).attr("buttonspacing"));t.overrideNav=Boolean($(n).attr("overridenav")=="true");t.screen.reloadOnResize()};t.createCell=function(n,i){var r=this,e,u,f;for(r.id=n,r.cellID=t.screen.id+"_cell_"+r.id,r.cellDiv=$('<div class="cell" id="'+r.cellID+'"><\/div>'),r.cellpos=n*t.width,r.cellDiv.css("left",r.cellpos),r.cellDiv.css("top",0),r.cellDiv.css("width",t.width),r.cellDiv.css("height",t.height),r.event=i.attr("event"),r.layerWidth=i.attr("width"),t.strip.append(r.cellDiv),e=i.children(),u=0;u<e.length;u++)f=$(e[u]),f.attr("target",r.cellID),f.attr("id")||f.attr("id","cell_"+r.id+"_item"+u);r.cell_node=i;TweenMax.delayedCall(0,function(){t.screen_view.createScreenElements(r.cell_node)})};t.attachControls=function(){var r,i,n,u;for(t.progressHolder&&(t.progressHolder.empty(),t.progressIconArray=[]),r=0,i=0;i<this.cellArray.length;i++)n=$(document.createElement("div")),n.attr("class","progressButton"),n.css("top",t.buttony),n.id=i,n.event=t,t.progressHolder.append(n),u=(n.width()+t.buttonSpacing)*i,n.css("left",u),r=n.position().left+n.width(),n.event=this.cellArray[i].event,t.progressIconArray.push(n),applyClick(n,function(){var n=$(this).data("elm");t.selectProgressIcon(n)});t.progressHolder.css("left",t.width/2-r/2)};t.updateSize=function(){t.screen.reloadScreen()};t.screenElementsReady=function(){t.attachControls();TweenMax.delayedCall(0,t.setupScrollControls)};t.setupScrollControls=function(){for(var n,r=[],i=0;i<t.cellArray.length;i++)n=t.cellArray[i],n.cellpos=i*t.photostoryHolder.width(),n.cellDiv.css("left",n.cellpos),r.push(0-n.cellpos);t.dragnav&&_respondo.desktop()&&(isIE()==8||Draggable.create(t.strip,{type:"left",edgeResistance:4,throwProps:!0,zIndexBoost:!1,snap:{left:r},onThrowComplete:function(){t.activateCell()}}));t.activateCell()};t.displayCellById=function(n,i){i||(i=.5);tweenTo(t.strip,i,{left:-n*t.photostoryWidth,onComplete:t.activateCell})};t.activateCell=function(){for(var r,i=0,n=0;n<t.cellArray.length;n++)r=t.cellArray[n],Math.round(t.strip.position().left)==Math.round(0-r.cellpos)&&(i=n);t.activeCellID=i;t.screen_view.doEventById(t.progressIconArray[t.activeCellID].event,"click");t.updateProgressDisplay(i);navObj.initNav()};t.lastpos=function(){return t.progressIconArray.length*t.photostoryWidth};t.nextCell=function(){t.activeCellID++;t.updateProgressDisplay(t.activeCellID);t.displayCellById(t.activeCellID);navObj.initNav()};t.backCell=function(){t.activeCellID--;t.updateProgressDisplay(t.activeCellID);t.displayCellById(t.activeCellID);navObj.initNav()};t.checkOverrideNext=function(){return t.overrideNav?t.activeCellID>=t.totalCells-1||_respondo.phone()?!1:!0:!1};t.overrideNext=function(){t.nextCell()};t.checkOverrideBack=function(){return t.overrideNav?t.activeCellID==0||_respondo.phone()?!1:!0:!1};t.overrideBack=function(){t.backCell()};t.selectProgressIcon=function(n){t.enableAllProgressButtons();t.displayCellById(n.id);t.updateProgressDisplay(n.id)};t.updateProgressDisplay=function(n){t.enableAllProgressButtons();disableElement(t.progressIconArray[n]);t.progressIconArray[n].addClass("selected")};t.enableAllProgressButtons=function(){for(var n=0;n<t.progressIconArray.length;n++)enableElement(t.progressIconArray[n]),t.progressIconArray[n].removeClass("selected")}}
function score(n){var t=this;this.screen=n;this.oXML=null;this.oDiv;this.passNode;this.failNode;this.custom=function(n){var i,t;for(this.oModel=n,this.oXML=this.oModel.oXML,this.oDiv=this.oModel.view.oDiv,i=0;i<$(this.oXML).children().length;i++){t=$(this.oXML).children()[i];switch(t.nodeName){case"settings":this.createSettings($(t));break;case"pass":this.passNode=t;break;case"fail":this.failNode=t}}};this.createSettings=function(){};this.screenElementsReady=function(){var f=this.failNode,r,u,i,n,t,e;for(currentTopic.updateAttempts(),r=currentTopic.getScore(),r>=currentTopic.mastery_score&&(currentTopic.setCompleted(),f=this.passNode),trackingObj.updateTracking(),this.appendFeedback($(f)),$(".scoredata").empty().append(r),u="",i=[],n=0;n<currentTopic.arScreens.length;n++)t=currentTopic.arScreens[n],t.topicref&&!t.getPassed()&&$.inArray(t.topicref,i)==-1&&i.push(t.topicref);for(i.sort(),n=0;n<i.length;n++)t=i[n],e=this.screen.getVar("failtext_"+t),u+=e;$(".feedbackdata").empty().append(u)};this.appendFeedback=function(n){this.arFeedbackElements=[];this.arFeedbackElements=this.screen.view.createScreenElements(n)};this.printCert=function(){console.log("PRINT CERTIFICATE")};this.restartQuiz=function(){masterObj.resetAssessment()}}
function sliding_scale(n){var t=this;t.screen=n;t.screen_view=t.screen.view;t.oXML=null;t.oDiv;t.sliderguide;t.slider;t.track;t.submitBtn;t.resetBtn;t.optionArray=[];t.width=400;t.optionwidth=100;t.linewidth=1;t.linecolour="#000000";t.resetpos=170;t.draggable;t.oSelectedOption=null;t.custom=function(n){var r,i;for(t.oModel=n,t.oXML=t.oModel.oXML,t.oDiv=t.oModel.view.oDiv,r=0;r<$(this.oXML).children().length;r++){i=$(this.oXML).children()[r];switch(i.nodeName){case"settings":this.createSettings($(i));break;case"option":this.optionArray.push(new this.option($(i),this.optionArray.length+1,this));break;case"fb":t.screen_view.createFeedback($(i))}}this.createSlider()};this.createSlider=function(){var i,t,n;for(this.track=$('<div class="slider_track"><\/div>'),this.track.width(this.width+this.linewidth),this.track.height(this.linewidth),this.track.css("background-color",this.linecolour),this.sliderguide=$('<div class="slider_guide"><\/div>'),this.slider=$('<div class="slider"><\/div>'),this.oDiv.append(this.track),i=this.width/(this.optionArray.length-1),this.oDiv.append(this.sliderguide),t=0;t<this.optionArray.length;t++)n=this.optionArray[t],n.pos=i*t,n.option_line.css("left",n.pos),n.option.css("left",n.pos-this.optionwidth/2),n.option.css("top",this.optiony),this.oDiv.append(n.option_line),this.oDiv.append(n.option);this.sliderguide.append(this.slider)};this.enableSlider=function(){for(var i,n=0;n<this.optionArray.length;n++)i=this.optionArray[n],applyClick(i.option,function(){var n=$(this).data("elm");n.oObj.oCustom.selectOption(n.oObj.id)});this.sliderguide.width(this.width+this.slider.width());this.sliderguide.css("left",0-this.slider.width()/2);this.slider.data("oCustom",this);isNaN(this.resetpos)&&(this.resetpos=0);this.slider.css("left",this.resetpos-this.slider.width()/2);t.draggable=Draggable.create(this.slider,{edgeResistance:1,type:"left",bounds:t.sliderguide,throwProps:!0,onDragEnd:function(){t.evaluateDragPosition()}})};this.evaluateDragPosition=function(){for(var i=Number(this.slider.css("left").split("px")[0])-this.slider.width()/2,n=this.optionArray[0],t=0;t<this.optionArray.length;t++){var r=this.optionArray[t],u=Math.abs(i-r.pos),f=Math.abs(i-n.pos);u<f&&(n=r)}this.selectOption(n.id)};this.createSettings=function(n){this.width=Number(n.attr("width"));this.optionwidth=Number(n.attr("optionwidth"));this.optiony=Number(n.attr("optiony"));isNaN(this.optiony)&&(this.optiony=-20);this.linewidth=Number(n.attr("linewidth"));this.linecolour="#"+n.attr("linecolour").split("x")[1];this.resetpos=n.attr("reset")};this.option=function(n,t,i){this.oCustom=i;this.pos=0;this.bCorrect=Boolean(n.attr("correct")=="true");this.id=t;this.option=$('<div id="'+i.screen.id+"_scale_option_"+t+'" class="option">'+n.text()+"<\/div>");this.option.width(i.optionwidth);this.option.height(30);this.option_line=$('<div class="option_line"><\/div>');this.option_line.width(i.linewidth);this.option_line.css("background-color",i.linecolour);this.option.oObj=this};this.selectOption=function(n){var t=this.getOptionById(n),i;t&&(oSelectedOption=t,i=t.pos,tweenTo(this.slider,.5,{left:i}),this.enableSubmit())};this.enableSubmit=function(){enableContentButton(t.submitBtn)};this.disableDrag=function(){var n,i;for(t.draggable[0].disable(),n=0;n<this.optionArray.length;n++)i=this.optionArray[n],disableElement(i.option)};this.enableDrag=function(){var n,i;for(t.draggable[0].enable(),n=0;n<this.optionArray.length;n++)i=this.optionArray[n],enableElement(i.option)};this.submit=function(){t.screen.setAnswered(!0);this.disableDrag();var i=!1,n="fail";oSelectedOption.bCorrect&&(i=!0,n="pass");t.screen_view.checkFeedback(oSelectedOption.id)&&(n=oSelectedOption.id);i?t.screen.pass():t.screen.fail();t.screen_view.applyFeedback(n);disableContentButton(t.submitBtn);t.resetBtn&&!t.screen.getScored()&&enableContentButton(t.resetBtn)};this.reset=function(){if(t.screen_view.removeFeedback(),this.resetpos.indexOf("option_")>-1){var n=getOptionById(this.resetpos.split("option_")[1]);this.resetpos=n.pos}tweenTo(this.slider,.3,{left:this.resetpos-this.slider.width()/2});disableContentButton(t.resetBtn);this.enableDrag()};this.screenElementsReady=function(){t.submitBtn=t.screen.view.getScreenElementById("submitBtn");t.resetBtn=t.screen.view.getScreenElementById("resetBtn");this.enableSlider()};this.getOptionById=function(n){return getItemById(n,this.optionArray)}}
function text_graphic(n){this.screen=n;this.custom=function(){};this.screenElementsReady=function(){};this.disable=function(){};this.enable=function(){}}
function wipe_reveal_h(n){var t=t;t.screen=n;t.oXML=null;t.oDiv;t.currentWipe;t.wipeArray=[];t.wipetween="true";t.wipetweentime="0.5";t.bgcolour="0xEE3324";t.rocolour="0xF6F4F5";t.selcolour="0xF6F4F5";t.txtrocolour="0x000000";t.txtselcolour="0x000000";t.custom=function(n){var i,r,u,f,e;for(t.oModel=n,t.oXML=t.oModel.oXML,t.oDiv=t.oModel.view.oDiv,t.width=$(t.oXML).attr("width"),i=0;i<$(t.oXML).children().length;i++){r=$(t.oXML).children()[i];u=$(t.oXML).children()[i+1];switch(r.nodeName){case"settings":t.createSettings($(r));break;case"click":f=t.wipeArray.length+1;e=new t.createWipe(f,$(r),$(u),t);t.wipeArray.push(e);i++}}};t.screenElementsReady=function(){t.attachContents();t.selectWipe(1)};t.selectWipe=function(n){var i,r;for(t.currentWipe=t.getWipeById(n),i=0;i<t.wipeArray.length;i++)r=t.wipeArray[i],r==t.currentWipe?t.openWipe(r):t.closeWipe(r)};t.openWipe=function(n){var i=t.oDiv.height()-40*t.wipeArray.length;disableElement(n.clickDiv);tweenTo(n.clicktext,.2,{color:t.txtselcolour});tweenTo(n.clickDiv,.2,{css:{backgroundColor:t.selcolour}});tweenTo(n.revealDiv,t.wipetweentime,{css:{height:i}})};t.closeWipe=function(n){enableElement(n.clickDiv);tweenTo(n.clicktext,.2,{color:"#FFFFFF"});tweenTo(n.clickDiv,.2,{css:{backgroundColor:t.bgcolour}});tweenTo(n.revealDiv,t.wipetweentime,{css:{height:0}})};t.createSettings=function(n){t.wipetween=Boolean(n.attr("wipetween")=="true");t.wipetweentime=Number(n.attr("wipetweentime"));t.bgcolour=tidyColour(n.attr("bgcolour"));t.rocolour=tidyColour(n.attr("rocolour"));t.selcolour=tidyColour(n.attr("selcolour"));t.txtrocolour=tidyColour(n.attr("txtrocolour"));t.txtselcolour=tidyColour(n.attr("txtselcolour"))};t.createWipe=function(n,i,r){var u=this,o,f,e;for(u.id=n,u.clicktext=$(i.text()),u.wipeDiv=$('<div class="wipeh" id="'+t.screen.id+"_wipeh_"+u.id+'"><\/div>'),u.clickDiv=$('<div class="wipeh_click" id="'+t.screen.id+"_wipeh_click_"+u.id+'"><\/div>'),u.revealID=t.screen.id+"_wipeh_reveal_"+u.id,u.revealDiv=$('<div class="wipeh_content" id="'+u.revealID+'"><\/div>'),u.clickDiv.append(u.clicktext),u.wipeDiv.append(u.clickDiv),u.wipeDiv.append(u.revealDiv),t.oDiv.append(u.wipeDiv),o=r.children(),f=0;f<o.length;f++)e=$(o[f]),e.attr("target",t.revealID),e.attr("id")||e.attr("id","wipeh_reveal_"+t.id+"_item"+f);u.reveal_node=r};t.attachContents=function(){for(var n,i=0;i<t.wipeArray.length;i++)n=t.wipeArray[i],n.clickDiv.css("background-color",t.bgcolour),n.clickDiv.oCustom=t,n.clickDiv.oWipe=n,applyClick(n.clickDiv,function(){var n=$(t).data("elm");n.oCustom.selectWipe(n.oWipe.id)},function(){var n=$(t).data("elm"),i=n.oWipe;tweenTo(i.clicktext,.2,{color:n.oCustom.txtrocolour});tweenTo(n,.2,{css:{backgroundColor:n.oCustom.rocolour}})},function(){var n=$(t).data("elm"),i=n.oWipe;tweenTo(i.clicktext,.2,{color:"#FFFFFF"});tweenTo(n,.2,{css:{backgroundColor:n.oCustom.bgcolour}})}),t.screen.view.createScreenElements(n.reveal_node)};t.getWipeById=function(n){return getItemById(n,t.wipeArray)}}
function scroll(n){this.screen=n;this.custom=function(){};this.screenElementsReady=function(){};this.disable=function(){};this.enable=function(){}}
